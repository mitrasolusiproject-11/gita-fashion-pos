module.exports=[44988,833,69e3,56325,43179,4775,92352,88274,18899,4313,e=>{"use strict";let t,n,i=Symbol.for("drizzle:entityKind");function r(e,t){if(!e||"object"!=typeof e)return!1;if(e instanceof t)return!0;if(!Object.prototype.hasOwnProperty.call(t,i))throw Error(`Class "${t.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let n=Object.getPrototypeOf(e).constructor;if(n)for(;n;){if(i in n&&n[i]===t[i])return!0;n=Object.getPrototypeOf(n)}return!1}Symbol.for("drizzle:hasOwnEntityKind"),e.s(["entityKind",()=>i,"is",()=>r],44988);let s=Symbol.for("drizzle:Name");e.s(["TableName",()=>s],833);let a=Symbol.for("drizzle:Schema"),o=Symbol.for("drizzle:Columns"),u=Symbol.for("drizzle:ExtraConfigColumns"),l=Symbol.for("drizzle:OriginalName"),c=Symbol.for("drizzle:BaseName"),m=Symbol.for("drizzle:IsAlias"),d=Symbol.for("drizzle:ExtraConfigBuilder"),g=Symbol.for("drizzle:IsDrizzleTable");class f{static [i]="Table";static Symbol={Name:s,Schema:a,OriginalName:l,Columns:o,ExtraConfigColumns:u,BaseName:c,IsAlias:m,ExtraConfigBuilder:d};[s];[l];[a];[o];[u];[c];[m]=!1;[g]=!0;[d]=void 0;constructor(e,t,n){this[s]=this[l]=e,this[a]=t,this[c]=n}}function p(e){return e[s]}function h(e){return`${e[a]??"public"}.${e[s]}`}e.s(["Columns",()=>o,"IsAlias",()=>m,"Table",()=>f,"getTableName",()=>p,"getTableUniqueName",()=>h],69e3);class y{constructor(e,t){this.table=e,this.config=t,this.name=t.name,this.keyAsName=t.keyAsName,this.notNull=t.notNull,this.default=t.default,this.defaultFn=t.defaultFn,this.onUpdateFn=t.onUpdateFn,this.hasDefault=t.hasDefault,this.primary=t.primaryKey,this.isUnique=t.isUnique,this.uniqueName=t.uniqueName,this.uniqueType=t.uniqueType,this.dataType=t.dataType,this.columnType=t.columnType,this.generated=t.generated,this.generatedIdentity=t.generatedIdentity}static [i]="Column";name;keyAsName;primary;notNull;default;defaultFn;onUpdateFn;hasDefault;isUnique;uniqueName;uniqueType;dataType;columnType;enumValues=void 0;generated=void 0;generatedIdentity=void 0;config;mapFromDriverValue(e){return e}mapToDriverValue(e){return e}shouldDisableInsert(){return void 0!==this.config.generated&&"byDefault"!==this.config.generated.type}}e.s(["Column",()=>y],56325);class b{static [i]="ColumnBuilder";config;constructor(e,t,n){this.config={name:e,keyAsName:""===e,notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:t,columnType:n,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(e){return this.config.default=e,this.config.hasDefault=!0,this}$defaultFn(e){return this.config.defaultFn=e,this.config.hasDefault=!0,this}$default=this.$defaultFn;$onUpdateFn(e){return this.config.onUpdateFn=e,this.config.hasDefault=!0,this}$onUpdate=this.$onUpdateFn;primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(e){""===this.config.name&&(this.config.name=e)}}e.s(["ColumnBuilder",()=>b],43179);class S{static [i]="PgForeignKeyBuilder";reference;_onUpdate="no action";_onDelete="no action";constructor(e,t){this.reference=()=>{let{name:t,columns:n,foreignColumns:i}=e();return{name:t,columns:n,foreignTable:i[0].table,foreignColumns:i}},t&&(this._onUpdate=t.onUpdate,this._onDelete=t.onDelete)}onUpdate(e){return this._onUpdate=void 0===e?"no action":e,this}onDelete(e){return this._onDelete=void 0===e?"no action":e,this}build(e){return new P(e,this)}}class P{constructor(e,t){this.table=e,this.reference=t.reference,this.onUpdate=t._onUpdate,this.onDelete=t._onDelete}static [i]="PgForeignKey";reference;onUpdate;onDelete;getName(){let{name:e,columns:t,foreignColumns:n}=this.reference(),i=t.map(e=>e.name),r=n.map(e=>e.name),a=[this.table[s],...i,n[0].table[s],...r];return e??`${a.join("_")}_fk`}}function T(e,...t){return e(...t)}function C(e,t){return`${e[s]}_${t.join("_")}_unique`}class N{constructor(e,t){this.name=t,this.columns=e}static [i]="PgUniqueConstraintBuilder";columns;nullsNotDistinctConfig=!1;nullsNotDistinct(){return this.nullsNotDistinctConfig=!0,this}build(e){return new x(e,this.columns,this.nullsNotDistinctConfig,this.name)}}class w{static [i]="PgUniqueOnConstraintBuilder";name;constructor(e){this.name=e}on(...e){return new N(e,this.name)}}class x{constructor(e,t,n,i){this.table=e,this.columns=t,this.name=i??C(this.table,this.columns.map(e=>e.name)),this.nullsNotDistinct=n}static [i]="PgUniqueConstraint";columns;name;nullsNotDistinct=!1;getName(){return this.name}}function v(e,t,n){for(let i=t;i<e.length;i++){let r=e[i];if("\\"===r){i++;continue}if('"'===r)return[e.slice(t,i).replace(/\\/g,""),i+1];if(!n&&(","===r||"}"===r))return[e.slice(t,i).replace(/\\/g,""),i]}return[e.slice(t).replace(/\\/g,""),e.length]}class B extends b{foreignKeyConfigs=[];static [i]="PgColumnBuilder";array(e){return new Q(this.config.name,this,e)}references(e,t={}){return this.foreignKeyConfigs.push({ref:e,actions:t}),this}unique(e,t){return this.config.isUnique=!0,this.config.uniqueName=e,this.config.uniqueType=t?.nulls,this}generatedAlwaysAs(e){return this.config.generated={as:e,type:"always",mode:"stored"},this}buildForeignKeys(e,t){return this.foreignKeyConfigs.map(({ref:n,actions:i})=>T((n,i)=>{let r=new S(()=>({columns:[e],foreignColumns:[n()]}));return i.onUpdate&&r.onUpdate(i.onUpdate),i.onDelete&&r.onDelete(i.onDelete),r.build(t)},n,i))}buildExtraConfigColumn(e){return new K(e,this.config)}}class D extends y{constructor(e,t){t.uniqueName||(t.uniqueName=C(e,[t.name])),super(e,t),this.table=e}static [i]="PgColumn"}class K extends D{static [i]="ExtraConfigColumn";getSQLType(){return this.getSQLType()}indexConfig={order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass};defaultConfig={order:"asc",nulls:"last",opClass:void 0};asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(e){return this.indexConfig.opClass=e,this}}class L{static [i]="IndexedColumn";constructor(e,t,n,i){this.name=e,this.keyAsName=t,this.type=n,this.indexConfig=i}name;keyAsName;type;indexConfig}class Q extends B{static [i]="PgArrayBuilder";constructor(e,t,n){super(e,"array","PgArray"),this.config.baseBuilder=t,this.config.size=n}build(e){let t=this.config.baseBuilder.build(e);return new $(e,this.config,t)}}class $ extends D{constructor(e,t,n,i){super(e,t),this.baseColumn=n,this.range=i,this.size=t.size}size;static [i]="PgArray";getSQLType(){return`${this.baseColumn.getSQLType()}[${"number"==typeof this.size?this.size:""}]`}mapFromDriverValue(e){return"string"==typeof e&&(e=function(e){let[t]=function e(t,n=0){let i=[],r=n,s=!1;for(;r<t.length;){let a=t[r];if(","===a){(s||r===n)&&i.push(""),s=!0,r++;continue}if(s=!1,"\\"===a){r+=2;continue}if('"'===a){let[e,n]=v(t,r+1,!0);i.push(e),r=n;continue}if("}"===a)return[i,r+1];if("{"===a){let[n,s]=e(t,r+1);i.push(n),r=s;continue}let[o,u]=v(t,r,!1);i.push(o),r=u}return[i,r]}(e,1);return t}(e)),e.map(e=>this.baseColumn.mapFromDriverValue(e))}mapToDriverValue(e,t=!1){let n=e.map(e=>null===e?null:r(this.baseColumn,$)?this.baseColumn.mapToDriverValue(e,!0):this.baseColumn.mapToDriverValue(e));return t?n:function e(t){return`{${t.map(t=>Array.isArray(t)?e(t):"string"==typeof t?`"${t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${t}`).join(",")}}`}(n)}}e.s(["PgColumn",()=>D,"PgColumnBuilder",()=>B],4775);class q extends B{static [i]="PgEnumObjectColumnBuilder";constructor(e,t){super(e,"string","PgEnumObjectColumn"),this.config.enum=t}build(e){return new F(e,this.config)}}class F extends D{static [i]="PgEnumObjectColumn";enum;enumValues=this.config.enum.enumValues;constructor(e,t){super(e,t),this.enum=t.enum}getSQLType(){return this.enum.enumName}}let V=Symbol.for("drizzle:isPgEnum");class I extends B{static [i]="PgEnumColumnBuilder";constructor(e,t){super(e,"string","PgEnumColumn"),this.config.enum=t}build(e){return new A(e,this.config)}}class A extends D{static [i]="PgEnumColumn";enum=this.config.enum;enumValues=this.config.enum.enumValues;constructor(e,t){super(e,t),this.enum=t.enum}getSQLType(){return this.enum.enumName}}class _{static [i]="Subquery";constructor(e,t,n,i=!1,r=[]){this._={brand:"Subquery",sql:e,selectedFields:t,alias:n,isWith:i,usedTables:r}}}class O extends _{static [i]="WithSubquery"}e.s(["Subquery",()=>_,"WithSubquery",()=>O],92352);let z=(e,i)=>t?(n||(n=t.trace.getTracer("drizzle-orm","0.44.6")),T((t,n)=>n.startActiveSpan(e,e=>{try{return i(e)}catch(n){throw e.setStatus({code:t.SpanStatusCode.ERROR,message:n instanceof Error?n.message:"Unknown error"}),n}finally{e.end()}}),t,n)):i(),U=Symbol.for("drizzle:ViewBaseConfig");e.s(["ViewBaseConfig",()=>U],88274);class j{static [i]="FakePrimitiveParam"}function k(e){return null!=e&&"function"==typeof e.getSQL}class E{static [i]="StringChunk";value;constructor(e){this.value=Array.isArray(e)?e:[e]}getSQL(){return new R([this])}}class R{constructor(e){for(const t of(this.queryChunks=e,e))if(r(t,f)){const e=t[f.Symbol.Schema];this.usedTables.push(void 0===e?t[f.Symbol.Name]:e+"."+t[f.Symbol.Name])}}static [i]="SQL";decoder=G;shouldInlineParams=!1;usedTables=[];append(e){return this.queryChunks.push(...e.queryChunks),this}toQuery(e){return z("drizzle.buildSQL",t=>{let n=this.buildQueryFromSourceParams(this.queryChunks,e);return t?.setAttributes({"drizzle.query.text":n.sql,"drizzle.query.params":JSON.stringify(n.params)}),n})}buildQueryFromSourceParams(e,t){let n=Object.assign({},t,{inlineParams:t.inlineParams||this.shouldInlineParams,paramStartIndex:t.paramStartIndex||{value:0}}),{casing:i,escapeName:s,escapeParam:a,prepareTyping:o,inlineParams:u,paramStartIndex:l}=n;var c=e.map(e=>{if(r(e,E))return{sql:e.value.join(""),params:[]};if(r(e,J))return{sql:s(e.value),params:[]};if(void 0===e)return{sql:"",params:[]};if(Array.isArray(e)){let t=[new E("(")];for(let[n,i]of e.entries())t.push(i),n<e.length-1&&t.push(new E(", "));return t.push(new E(")")),this.buildQueryFromSourceParams(t,n)}if(r(e,R))return this.buildQueryFromSourceParams(e.queryChunks,{...n,inlineParams:u||e.shouldInlineParams});if(r(e,f)){let t=e[f.Symbol.Schema],n=e[f.Symbol.Name];return{sql:void 0===t||e[m]?s(n):s(t)+"."+s(n),params:[]}}if(r(e,y)){let n=i.getColumnCasing(e);if("indexes"===t.invokeSource)return{sql:s(n),params:[]};let r=e.table[f.Symbol.Schema];return{sql:e.table[m]||void 0===r?s(e.table[f.Symbol.Name])+"."+s(n):s(r)+"."+s(e.table[f.Symbol.Name])+"."+s(n),params:[]}}if(r(e,er)){let t=e[U].schema,n=e[U].name;return{sql:void 0===t||e[U].isAlias?s(n):s(t)+"."+s(n),params:[]}}if(r(e,W)){if(r(e.value,et))return{sql:a(l.value++,e),params:[e],typings:["none"]};let t=null===e.value?null:e.encoder.mapToDriverValue(e.value);if(r(t,R))return this.buildQueryFromSourceParams([t],n);if(u)return{sql:this.mapInlineParam(t,n),params:[]};let i=["none"];return o&&(i=[o(e.encoder)]),{sql:a(l.value++,t),params:[t],typings:i}}return r(e,et)?{sql:a(l.value++,e),params:[e],typings:["none"]}:r(e,R.Aliased)&&void 0!==e.fieldAlias?{sql:s(e.fieldAlias),params:[]}:r(e,_)?e._.isWith?{sql:s(e._.alias),params:[]}:this.buildQueryFromSourceParams([new E("("),e._.sql,new E(") "),new J(e._.alias)],n):e&&"function"==typeof e&&V in e&&!0===e[V]?e.schema?{sql:s(e.schema)+"."+s(e.enumName),params:[]}:{sql:s(e.enumName),params:[]}:k(e)?e.shouldOmitSQLParens?.()?this.buildQueryFromSourceParams([e.getSQL()],n):this.buildQueryFromSourceParams([new E("("),e.getSQL(),new E(")")],n):u?{sql:this.mapInlineParam(e,n),params:[]}:{sql:a(l.value++,e),params:[e],typings:["none"]}});let d={sql:"",params:[]};for(let e of c)d.sql+=e.sql,d.params.push(...e.params),e.typings?.length&&(d.typings||(d.typings=[]),d.typings.push(...e.typings));return d}mapInlineParam(e,{escapeString:t}){if(null===e)return"null";if("number"==typeof e||"boolean"==typeof e)return e.toString();if("string"==typeof e)return t(e);if("object"==typeof e){let n=e.toString();return"[object Object]"===n?t(JSON.stringify(e)):t(n)}throw Error("Unexpected param value: "+e)}getSQL(){return this}as(e){return void 0===e?this:new R.Aliased(this,e)}mapWith(e){return this.decoder="function"==typeof e?{mapFromDriverValue:e}:e,this}inlineParams(){return this.shouldInlineParams=!0,this}if(e){return e?this:void 0}}class J{constructor(e){this.value=e}static [i]="Name";brand;getSQL(){return new R([this])}}function M(e){return"object"==typeof e&&null!==e&&"mapToDriverValue"in e&&"function"==typeof e.mapToDriverValue}let G={mapFromDriverValue:e=>e},H={mapToDriverValue:e=>e};({...G,...H});class W{constructor(e,t=H){this.value=e,this.encoder=t}static [i]="Param";brand;getSQL(){return new R([this])}}function X(e,...t){let n=[];for(let[i,r]of((t.length>0||e.length>0&&""!==e[0])&&n.push(new E(e[0])),t.entries()))n.push(r,new E(e[i+1]));return new R(n)}(Y=X||(X={})).empty=function(){return new R([])},Y.fromList=function(e){return new R(e)},Y.raw=function(e){return new R([new E(e)])},Y.join=function(e,t){let n=[];for(let[i,r]of e.entries())i>0&&void 0!==t&&n.push(t),n.push(r);return new R(n)},Y.identifier=function(e){return new J(e)},Y.placeholder=function(e){return new et(e)},Y.param=function(e,t){return new W(e,t)};var Y,Z=R||(R={});class ee{constructor(e,t){this.sql=e,this.fieldAlias=t}static [i]="SQL.Aliased";isSelectionField=!1;getSQL(){return this.sql}clone(){return new ee(this.sql,this.fieldAlias)}}Z.Aliased=ee;class et{constructor(e){this.name=e}static [i]="Placeholder";getSQL(){return new R([this])}}function en(e,t){return e.map(e=>{if(r(e,et)){if(!(e.name in t))throw Error(`No value for placeholder "${e.name}" was provided`);return t[e.name]}if(r(e,W)&&r(e.value,et)){if(!(e.value.name in t))throw Error(`No value for placeholder "${e.value.name}" was provided`);return e.encoder.mapToDriverValue(t[e.value.name])}return e})}let ei=Symbol.for("drizzle:IsDrizzleView");class er{static [i]="View";[U];[ei]=!0;constructor({name:e,schema:t,selectedFields:n,query:i}){this[U]={name:e,originalName:e,schema:t,selectedFields:n,query:i,isExisting:!i,isAlias:!1}}getSQL(){return new R([this])}}function es(e,t,n){let i={},a=e.reduce((e,{path:a,field:o},u)=>{let l;l=r(o,y)?o:r(o,R)?o.decoder:o.sql.decoder;let c=e;for(let[e,m]of a.entries())if(e<a.length-1)m in c||(c[m]={}),c=c[m];else{let e=t[u],d=c[m]=null===e?null:l.mapFromDriverValue(e);if(n&&r(o,y)&&2===a.length){let e=a[0];e in i?"string"==typeof i[e]&&i[e]!==o.table[s]&&(i[e]=!1):i[e]=null===d&&o.table[s]}}return e},{});if(n&&Object.keys(i).length>0)for(let[e,t]of Object.entries(i))"string"!=typeof t||n[t]||(a[e]=null);return a}function ea(e,t){let n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(let[e,t]of n.entries())if(t!==i[e])return!1;return!0}function eo(e,t){let n=Object.entries(t).filter(([,e])=>void 0!==e).map(([t,n])=>r(n,R)||r(n,y)?[t,n]:[t,new W(n,e[f.Symbol.Columns][t])]);if(0===n.length)throw Error("No values to set");return Object.fromEntries(n)}function eu(e,t){for(let n of t)for(let t of Object.getOwnPropertyNames(n.prototype))"constructor"!==t&&Object.defineProperty(e.prototype,t,Object.getOwnPropertyDescriptor(n.prototype,t)||Object.create(null))}function el(e){return e[f.Symbol.Columns]}function ec(e){return r(e,_)?e._.alias:r(e,er)?e[U].name:r(e,R)?void 0:e[f.Symbol.IsAlias]?e[f.Symbol.Name]:e[f.Symbol.BaseName]}function em(e,t){return{name:"string"==typeof e&&e.length>0?e:"",config:"object"==typeof e?e:t}}function ed(e){if("object"!=typeof e||null===e||"Object"!==e.constructor.name)return!1;if("logger"in e){let t=typeof e.logger;return"boolean"===t||"object"===t&&"function"==typeof e.logger.logQuery||"undefined"===t}if("schema"in e){let t=typeof e.schema;return"object"===t||"undefined"===t}if("casing"in e){let t=typeof e.casing;return"string"===t||"undefined"===t}if("mode"in e)return"default"===e.mode&&"planetscale"===e.mode&&void 0===e.mode;if("connection"in e){let t=typeof e.connection;return"string"===t||"object"===t||"undefined"===t}if("client"in e){let t=typeof e.client;return"object"===t||"function"===t||"undefined"===t}return 0===Object.keys(e).length}y.prototype.getSQL=function(){return new R([this])},f.prototype.getSQL=function(){return new R([this])},_.prototype.getSQL=function(){return new R([this])},e.s(["Param",()=>W,"Placeholder",()=>et,"SQL",()=>R,"StringChunk",()=>E,"View",()=>er,"fillPlaceholders",()=>en,"isDriverValueEncoder",()=>M,"isSQLWrapper",()=>k,"sql",()=>X],18899);let eg="undefined"==typeof TextDecoder?null:new TextDecoder;e.s(["applyMixins",()=>eu,"getColumnNameAndConfig",()=>em,"getTableColumns",()=>el,"getTableLikeName",()=>ec,"haveSameKeys",()=>ea,"isConfig",()=>ed,"mapResultRow",()=>es,"mapUpdateSet",()=>eo,"orderSelectedFields",()=>function e(t,n){return Object.entries(t).reduce((t,[i,s])=>{if("string"!=typeof i)return t;let a=n?[...n,i]:[i];return r(s,y)||r(s,R)||r(s,R.Aliased)?t.push({path:a,field:s}):r(s,f)?t.push(...e(s[f.Symbol.Columns],a)):t.push(...e(s,a)),t},[])},"textDecoder",()=>eg],4313)},75799,61328,16918,849,37540,24325,80568,e=>{"use strict";var t=e.i(44988),n=e.i(69e3),i=e.i(4313),r=e.i(43179),s=e.i(56325),a=e.i(833);class o{static [t.entityKind]="SQLiteForeignKeyBuilder";reference;_onUpdate;_onDelete;constructor(e,t){this.reference=()=>{let{name:t,columns:n,foreignColumns:i}=e();return{name:t,columns:n,foreignTable:i[0].table,foreignColumns:i}},t&&(this._onUpdate=t.onUpdate,this._onDelete=t.onDelete)}onUpdate(e){return this._onUpdate=e,this}onDelete(e){return this._onDelete=e,this}build(e){return new u(e,this)}}class u{constructor(e,t){this.table=e,this.reference=t.reference,this.onUpdate=t._onUpdate,this.onDelete=t._onDelete}static [t.entityKind]="SQLiteForeignKey";reference;onUpdate;onDelete;getName(){let{name:e,columns:t,foreignColumns:n}=this.reference(),i=t.map(e=>e.name),r=n.map(e=>e.name),s=[this.table[a.TableName],...i,n[0].table[a.TableName],...r];return e??`${s.join("_")}_fk`}}function l(e,t){return`${e[a.TableName]}_${t.join("_")}_unique`}e.s(["ForeignKeyBuilder",()=>o],61328);class c{constructor(e,t){this.name=t,this.columns=e}static [t.entityKind]="SQLiteUniqueConstraintBuilder";columns;build(e){return new d(e,this.columns,this.name)}}class m{static [t.entityKind]="SQLiteUniqueOnConstraintBuilder";name;constructor(e){this.name=e}on(...e){return new c(e,this.name)}}class d{constructor(e,t,n){this.table=e,this.columns=t,this.name=n??l(this.table,this.columns.map(e=>e.name))}static [t.entityKind]="SQLiteUniqueConstraint";columns;name;getName(){return this.name}}e.s(["UniqueConstraintBuilder",()=>c,"uniqueKeyName",()=>l],16918);class g extends r.ColumnBuilder{static [t.entityKind]="SQLiteColumnBuilder";foreignKeyConfigs=[];references(e,t={}){return this.foreignKeyConfigs.push({ref:e,actions:t}),this}unique(e){return this.config.isUnique=!0,this.config.uniqueName=e,this}generatedAlwaysAs(e,t){return this.config.generated={as:e,type:"always",mode:t?.mode??"virtual"},this}buildForeignKeys(e,t){return this.foreignKeyConfigs.map(({ref:n,actions:i})=>{let r;return r=new o(()=>({columns:[e],foreignColumns:[n()]})),i.onUpdate&&r.onUpdate(i.onUpdate),i.onDelete&&r.onDelete(i.onDelete),r.build(t)})}}class f extends s.Column{constructor(e,t){t.uniqueName||(t.uniqueName=l(e,[t.name])),super(e,t),this.table=e}static [t.entityKind]="SQLiteColumn"}e.s(["SQLiteColumn",()=>f,"SQLiteColumnBuilder",()=>g],849);class p extends g{static [t.entityKind]="SQLiteBigIntBuilder";constructor(e){super(e,"bigint","SQLiteBigInt")}build(e){return new h(e,this.config)}}class h extends f{static [t.entityKind]="SQLiteBigInt";getSQLType(){return"blob"}mapFromDriverValue(e){return"undefined"!=typeof Buffer&&Buffer.from?BigInt((Buffer.isBuffer(e)?e:e instanceof ArrayBuffer?Buffer.from(e):e.buffer?Buffer.from(e.buffer,e.byteOffset,e.byteLength):Buffer.from(e)).toString("utf8")):BigInt(i.textDecoder.decode(e))}mapToDriverValue(e){return Buffer.from(e.toString())}}class y extends g{static [t.entityKind]="SQLiteBlobJsonBuilder";constructor(e){super(e,"json","SQLiteBlobJson")}build(e){return new b(e,this.config)}}class b extends f{static [t.entityKind]="SQLiteBlobJson";getSQLType(){return"blob"}mapFromDriverValue(e){return"undefined"!=typeof Buffer&&Buffer.from?JSON.parse((Buffer.isBuffer(e)?e:e instanceof ArrayBuffer?Buffer.from(e):e.buffer?Buffer.from(e.buffer,e.byteOffset,e.byteLength):Buffer.from(e)).toString("utf8")):JSON.parse(i.textDecoder.decode(e))}mapToDriverValue(e){return Buffer.from(JSON.stringify(e))}}class S extends g{static [t.entityKind]="SQLiteBlobBufferBuilder";constructor(e){super(e,"buffer","SQLiteBlobBuffer")}build(e){return new P(e,this.config)}}class P extends f{static [t.entityKind]="SQLiteBlobBuffer";mapFromDriverValue(e){return Buffer.isBuffer(e)?e:Buffer.from(e)}getSQLType(){return"blob"}}function T(e,t){let{name:n,config:r}=(0,i.getColumnNameAndConfig)(e,t);return r?.mode==="json"?new y(n):r?.mode==="bigint"?new p(n):new S(n)}class C extends g{static [t.entityKind]="SQLiteCustomColumnBuilder";constructor(e,t,n){super(e,"custom","SQLiteCustomColumn"),this.config.fieldConfig=t,this.config.customTypeParams=n}build(e){return new N(e,this.config)}}class N extends f{static [t.entityKind]="SQLiteCustomColumn";sqlName;mapTo;mapFrom;constructor(e,t){super(e,t),this.sqlName=t.customTypeParams.dataType(t.fieldConfig),this.mapTo=t.customTypeParams.toDriver,this.mapFrom=t.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(e){return"function"==typeof this.mapFrom?this.mapFrom(e):e}mapToDriverValue(e){return"function"==typeof this.mapTo?this.mapTo(e):e}}function w(e){return(t,n)=>{let{name:r,config:s}=(0,i.getColumnNameAndConfig)(t,n);return new C(r,s,e)}}var x=e.i(18899);class v extends g{static [t.entityKind]="SQLiteBaseIntegerBuilder";constructor(e,t,n){super(e,t,n),this.config.autoIncrement=!1}primaryKey(e){return e?.autoIncrement&&(this.config.autoIncrement=!0),this.config.hasDefault=!0,super.primaryKey()}}class B extends f{static [t.entityKind]="SQLiteBaseInteger";autoIncrement=this.config.autoIncrement;getSQLType(){return"integer"}}class D extends v{static [t.entityKind]="SQLiteIntegerBuilder";constructor(e){super(e,"number","SQLiteInteger")}build(e){return new K(e,this.config)}}class K extends B{static [t.entityKind]="SQLiteInteger"}class L extends v{static [t.entityKind]="SQLiteTimestampBuilder";constructor(e,t){super(e,"date","SQLiteTimestamp"),this.config.mode=t}defaultNow(){return this.default(x.sql`(cast((julianday('now') - 2440587.5)*86400000 as integer))`)}build(e){return new Q(e,this.config)}}class Q extends B{static [t.entityKind]="SQLiteTimestamp";mode=this.config.mode;mapFromDriverValue(e){return new Date("timestamp"===this.config.mode?1e3*e:e)}mapToDriverValue(e){let t=e.getTime();return"timestamp"===this.config.mode?Math.floor(t/1e3):t}}class $ extends v{static [t.entityKind]="SQLiteBooleanBuilder";constructor(e,t){super(e,"boolean","SQLiteBoolean"),this.config.mode=t}build(e){return new q(e,this.config)}}class q extends B{static [t.entityKind]="SQLiteBoolean";mode=this.config.mode;mapFromDriverValue(e){return 1===Number(e)}mapToDriverValue(e){return+!!e}}function F(e,t){let{name:n,config:r}=(0,i.getColumnNameAndConfig)(e,t);return r?.mode==="timestamp"||r?.mode==="timestamp_ms"?new L(n,r.mode):r?.mode==="boolean"?new $(n,r.mode):new D(n)}e.s(["integer",()=>F],37540);class V extends g{static [t.entityKind]="SQLiteNumericBuilder";constructor(e){super(e,"string","SQLiteNumeric")}build(e){return new I(e,this.config)}}class I extends f{static [t.entityKind]="SQLiteNumeric";mapFromDriverValue(e){return"string"==typeof e?e:String(e)}getSQLType(){return"numeric"}}class A extends g{static [t.entityKind]="SQLiteNumericNumberBuilder";constructor(e){super(e,"number","SQLiteNumericNumber")}build(e){return new _(e,this.config)}}class _ extends f{static [t.entityKind]="SQLiteNumericNumber";mapFromDriverValue(e){return"number"==typeof e?e:Number(e)}mapToDriverValue=String;getSQLType(){return"numeric"}}class O extends g{static [t.entityKind]="SQLiteNumericBigIntBuilder";constructor(e){super(e,"bigint","SQLiteNumericBigInt")}build(e){return new z(e,this.config)}}class z extends f{static [t.entityKind]="SQLiteNumericBigInt";mapFromDriverValue=BigInt;mapToDriverValue=String;getSQLType(){return"numeric"}}function U(e,t){let{name:n,config:r}=(0,i.getColumnNameAndConfig)(e,t),s=r?.mode;return"number"===s?new A(n):"bigint"===s?new O(n):new V(n)}class j extends g{static [t.entityKind]="SQLiteRealBuilder";constructor(e){super(e,"number","SQLiteReal")}build(e){return new k(e,this.config)}}class k extends f{static [t.entityKind]="SQLiteReal";getSQLType(){return"real"}}function E(e){return new j(e??"")}e.s(["real",()=>E],24325);class R extends g{static [t.entityKind]="SQLiteTextBuilder";constructor(e,t){super(e,"string","SQLiteText"),this.config.enumValues=t.enum,this.config.length=t.length}build(e){return new J(e,this.config)}}class J extends f{static [t.entityKind]="SQLiteText";enumValues=this.config.enumValues;length=this.config.length;constructor(e,t){super(e,t)}getSQLType(){return`text${this.config.length?`(${this.config.length})`:""}`}}class M extends g{static [t.entityKind]="SQLiteTextJsonBuilder";constructor(e){super(e,"json","SQLiteTextJson")}build(e){return new G(e,this.config)}}class G extends f{static [t.entityKind]="SQLiteTextJson";getSQLType(){return"text"}mapFromDriverValue(e){return JSON.parse(e)}mapToDriverValue(e){return JSON.stringify(e)}}function H(e,t={}){let{name:n,config:r}=(0,i.getColumnNameAndConfig)(e,t);return"json"===r.mode?new M(n):new R(n,r)}e.s(["text",()=>H],80568);let W=Symbol.for("drizzle:SQLiteInlineForeignKeys");class X extends n.Table{static [t.entityKind]="SQLiteTable";static Symbol=Object.assign({},n.Table.Symbol,{InlineForeignKeys:W});[n.Table.Symbol.Columns];[W]=[];[n.Table.Symbol.ExtraConfigBuilder]=void 0}let Y=(e,t,i)=>(function(e,t,i,r,s=e){let a=new X(e,void 0,s),o=Object.fromEntries(Object.entries("function"==typeof t?t({blob:T,customType:w,integer:F,numeric:U,real:E,text:H}):t).map(([e,t])=>{t.setName(e);let n=t.build(a);return a[W].push(...t.buildForeignKeys(n,a)),[e,n]})),u=Object.assign(a,o);return u[n.Table.Symbol.Columns]=o,u[n.Table.Symbol.ExtraConfigColumns]=o,i&&(u[X.Symbol.ExtraConfigBuilder]=i),u})(e,t,i);e.s(["SQLiteTable",()=>X,"sqliteTable",()=>Y],75799)},79822,75225,49129,e=>{"use strict";var t=e.i(69e3),n=e.i(56325),i=e.i(44988),r=t;e.i(4313);var s=e.i(4775),a=s;class o extends a.PgColumnBuilder{static [i.entityKind]="PgIntColumnBaseBuilder";generatedAlwaysAsIdentity(e){if(e){let{name:t,...n}=e;this.config.generatedIdentity={type:"always",sequenceName:t,sequenceOptions:n}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(e){if(e){let{name:t,...n}=e;this.config.generatedIdentity={type:"byDefault",sequenceName:t,sequenceOptions:n}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}class u extends o{static [i.entityKind]="PgBigInt53Builder";constructor(e){super(e,"number","PgBigInt53")}build(e){return new l(e,this.config)}}class l extends s.PgColumn{static [i.entityKind]="PgBigInt53";getSQLType(){return"bigint"}mapFromDriverValue(e){return"number"==typeof e?e:Number(e)}}class c extends o{static [i.entityKind]="PgBigInt64Builder";constructor(e){super(e,"bigint","PgBigInt64")}build(e){return new m(e,this.config)}}class m extends s.PgColumn{static [i.entityKind]="PgBigInt64";getSQLType(){return"bigint"}mapFromDriverValue(e){return BigInt(e)}}var d=s;class g extends d.PgColumnBuilder{static [i.entityKind]="PgBigSerial53Builder";constructor(e){super(e,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new f(e,this.config)}}class f extends d.PgColumn{static [i.entityKind]="PgBigSerial53";getSQLType(){return"bigserial"}mapFromDriverValue(e){return"number"==typeof e?e:Number(e)}}class p extends d.PgColumnBuilder{static [i.entityKind]="PgBigSerial64Builder";constructor(e){super(e,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(e){return new h(e,this.config)}}class h extends d.PgColumn{static [i.entityKind]="PgBigSerial64";getSQLType(){return"bigserial"}mapFromDriverValue(e){return BigInt(e)}}var y=s;class b extends y.PgColumnBuilder{static [i.entityKind]="PgBooleanBuilder";constructor(e){super(e,"boolean","PgBoolean")}build(e){return new S(e,this.config)}}class S extends y.PgColumn{static [i.entityKind]="PgBoolean";getSQLType(){return"boolean"}}var P=s;class T extends P.PgColumnBuilder{static [i.entityKind]="PgCharBuilder";constructor(e,t){super(e,"string","PgChar"),this.config.length=t.length,this.config.enumValues=t.enum}build(e){return new C(e,this.config)}}class C extends P.PgColumn{static [i.entityKind]="PgChar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return void 0===this.length?"char":`char(${this.length})`}}var N=s;class w extends N.PgColumnBuilder{static [i.entityKind]="PgCidrBuilder";constructor(e){super(e,"string","PgCidr")}build(e){return new x(e,this.config)}}class x extends N.PgColumn{static [i.entityKind]="PgCidr";getSQLType(){return"cidr"}}var v=s;class B extends v.PgColumnBuilder{static [i.entityKind]="PgCustomColumnBuilder";constructor(e,t,n){super(e,"custom","PgCustomColumn"),this.config.fieldConfig=t,this.config.customTypeParams=n}build(e){return new D(e,this.config)}}class D extends v.PgColumn{static [i.entityKind]="PgCustomColumn";sqlName;mapTo;mapFrom;constructor(e,t){super(e,t),this.sqlName=t.customTypeParams.dataType(t.fieldConfig),this.mapTo=t.customTypeParams.toDriver,this.mapFrom=t.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(e){return"function"==typeof this.mapFrom?this.mapFrom(e):e}mapToDriverValue(e){return"function"==typeof this.mapTo?this.mapTo(e):e}}var K=s,L=e.i(18899),Q=s;class $ extends Q.PgColumnBuilder{static [i.entityKind]="PgDateColumnBaseBuilder";defaultNow(){return this.default(L.sql`now()`)}}class q extends ${static [i.entityKind]="PgDateBuilder";constructor(e){super(e,"date","PgDate")}build(e){return new F(e,this.config)}}class F extends K.PgColumn{static [i.entityKind]="PgDate";getSQLType(){return"date"}mapFromDriverValue(e){return new Date(e)}mapToDriverValue(e){return e.toISOString()}}class V extends ${static [i.entityKind]="PgDateStringBuilder";constructor(e){super(e,"string","PgDateString")}build(e){return new I(e,this.config)}}class I extends K.PgColumn{static [i.entityKind]="PgDateString";getSQLType(){return"date"}}var A=s;class _ extends A.PgColumnBuilder{static [i.entityKind]="PgDoublePrecisionBuilder";constructor(e){super(e,"number","PgDoublePrecision")}build(e){return new O(e,this.config)}}class O extends A.PgColumn{static [i.entityKind]="PgDoublePrecision";getSQLType(){return"double precision"}mapFromDriverValue(e){return"string"==typeof e?Number.parseFloat(e):e}}var z=s;class U extends z.PgColumnBuilder{static [i.entityKind]="PgInetBuilder";constructor(e){super(e,"string","PgInet")}build(e){return new j(e,this.config)}}class j extends z.PgColumn{static [i.entityKind]="PgInet";getSQLType(){return"inet"}}var k=s;class E extends o{static [i.entityKind]="PgIntegerBuilder";constructor(e){super(e,"number","PgInteger")}build(e){return new R(e,this.config)}}class R extends k.PgColumn{static [i.entityKind]="PgInteger";getSQLType(){return"integer"}mapFromDriverValue(e){return"string"==typeof e?Number.parseInt(e):e}}var J=s;class M extends J.PgColumnBuilder{static [i.entityKind]="PgIntervalBuilder";constructor(e,t){super(e,"string","PgInterval"),this.config.intervalConfig=t}build(e){return new G(e,this.config)}}class G extends J.PgColumn{static [i.entityKind]="PgInterval";fields=this.config.intervalConfig.fields;precision=this.config.intervalConfig.precision;getSQLType(){let e=this.fields?` ${this.fields}`:"",t=this.precision?`(${this.precision})`:"";return`interval${e}${t}`}}var H=s;class W extends H.PgColumnBuilder{static [i.entityKind]="PgJsonBuilder";constructor(e){super(e,"json","PgJson")}build(e){return new X(e,this.config)}}class X extends H.PgColumn{static [i.entityKind]="PgJson";constructor(e,t){super(e,t)}getSQLType(){return"json"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if("string"==typeof e)try{return JSON.parse(e)}catch{}return e}}var Y=s;class Z extends Y.PgColumnBuilder{static [i.entityKind]="PgJsonbBuilder";constructor(e){super(e,"json","PgJsonb")}build(e){return new ee(e,this.config)}}class ee extends Y.PgColumn{static [i.entityKind]="PgJsonb";constructor(e,t){super(e,t)}getSQLType(){return"jsonb"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if("string"==typeof e)try{return JSON.parse(e)}catch{}return e}}var et=s;class en extends et.PgColumnBuilder{static [i.entityKind]="PgLineBuilder";constructor(e){super(e,"array","PgLine")}build(e){return new ei(e,this.config)}}class ei extends et.PgColumn{static [i.entityKind]="PgLine";getSQLType(){return"line"}mapFromDriverValue(e){let[t,n,i]=e.slice(1,-1).split(",");return[Number.parseFloat(t),Number.parseFloat(n),Number.parseFloat(i)]}mapToDriverValue(e){return`{${e[0]},${e[1]},${e[2]}}`}}class er extends et.PgColumnBuilder{static [i.entityKind]="PgLineABCBuilder";constructor(e){super(e,"json","PgLineABC")}build(e){return new es(e,this.config)}}class es extends et.PgColumn{static [i.entityKind]="PgLineABC";getSQLType(){return"line"}mapFromDriverValue(e){let[t,n,i]=e.slice(1,-1).split(",");return{a:Number.parseFloat(t),b:Number.parseFloat(n),c:Number.parseFloat(i)}}mapToDriverValue(e){return`{${e.a},${e.b},${e.c}}`}}var ea=s;class eo extends ea.PgColumnBuilder{static [i.entityKind]="PgMacaddrBuilder";constructor(e){super(e,"string","PgMacaddr")}build(e){return new eu(e,this.config)}}class eu extends ea.PgColumn{static [i.entityKind]="PgMacaddr";getSQLType(){return"macaddr"}}var el=s;class ec extends el.PgColumnBuilder{static [i.entityKind]="PgMacaddr8Builder";constructor(e){super(e,"string","PgMacaddr8")}build(e){return new em(e,this.config)}}class em extends el.PgColumn{static [i.entityKind]="PgMacaddr8";getSQLType(){return"macaddr8"}}var ed=s;class eg extends ed.PgColumnBuilder{static [i.entityKind]="PgNumericBuilder";constructor(e,t,n){super(e,"string","PgNumeric"),this.config.precision=t,this.config.scale=n}build(e){return new ef(e,this.config)}}class ef extends ed.PgColumn{static [i.entityKind]="PgNumeric";precision;scale;constructor(e,t){super(e,t),this.precision=t.precision,this.scale=t.scale}mapFromDriverValue(e){return"string"==typeof e?e:String(e)}getSQLType(){return void 0!==this.precision&&void 0!==this.scale?`numeric(${this.precision}, ${this.scale})`:void 0===this.precision?"numeric":`numeric(${this.precision})`}}class ep extends ed.PgColumnBuilder{static [i.entityKind]="PgNumericNumberBuilder";constructor(e,t,n){super(e,"number","PgNumericNumber"),this.config.precision=t,this.config.scale=n}build(e){return new eh(e,this.config)}}class eh extends ed.PgColumn{static [i.entityKind]="PgNumericNumber";precision;scale;constructor(e,t){super(e,t),this.precision=t.precision,this.scale=t.scale}mapFromDriverValue(e){return"number"==typeof e?e:Number(e)}mapToDriverValue=String;getSQLType(){return void 0!==this.precision&&void 0!==this.scale?`numeric(${this.precision}, ${this.scale})`:void 0===this.precision?"numeric":`numeric(${this.precision})`}}class ey extends ed.PgColumnBuilder{static [i.entityKind]="PgNumericBigIntBuilder";constructor(e,t,n){super(e,"bigint","PgNumericBigInt"),this.config.precision=t,this.config.scale=n}build(e){return new eb(e,this.config)}}class eb extends ed.PgColumn{static [i.entityKind]="PgNumericBigInt";precision;scale;constructor(e,t){super(e,t),this.precision=t.precision,this.scale=t.scale}mapFromDriverValue=BigInt;mapToDriverValue=String;getSQLType(){return void 0!==this.precision&&void 0!==this.scale?`numeric(${this.precision}, ${this.scale})`:void 0===this.precision?"numeric":`numeric(${this.precision})`}}var eS=s;class eP extends eS.PgColumnBuilder{static [i.entityKind]="PgPointTupleBuilder";constructor(e){super(e,"array","PgPointTuple")}build(e){return new eT(e,this.config)}}class eT extends eS.PgColumn{static [i.entityKind]="PgPointTuple";getSQLType(){return"point"}mapFromDriverValue(e){if("string"==typeof e){let[t,n]=e.slice(1,-1).split(",");return[Number.parseFloat(t),Number.parseFloat(n)]}return[e.x,e.y]}mapToDriverValue(e){return`(${e[0]},${e[1]})`}}class eC extends eS.PgColumnBuilder{static [i.entityKind]="PgPointObjectBuilder";constructor(e){super(e,"json","PgPointObject")}build(e){return new eN(e,this.config)}}class eN extends eS.PgColumn{static [i.entityKind]="PgPointObject";getSQLType(){return"point"}mapFromDriverValue(e){if("string"==typeof e){let[t,n]=e.slice(1,-1).split(",");return{x:Number.parseFloat(t),y:Number.parseFloat(n)}}return e}mapToDriverValue(e){return`(${e.x},${e.y})`}}var ew=s;function ex(e,t){let n=new DataView(new ArrayBuffer(8));for(let i=0;i<8;i++)n.setUint8(i,e[t+i]);return n.getFloat64(0,!0)}function ev(e){let t=function(e){let t=[];for(let n=0;n<e.length;n+=2)t.push(Number.parseInt(e.slice(n,n+2),16));return new Uint8Array(t)}(e),n=0,i=t[0];n+=1;let r=new DataView(t.buffer),s=r.getUint32(n,1===i);if(n+=4,0x20000000&s&&(r.getUint32(n,1===i),n+=4),(65535&s)==1){let e=ex(t,n),i=ex(t,n+=8);return n+=8,[e,i]}throw Error("Unsupported geometry type")}class eB extends ew.PgColumnBuilder{static [i.entityKind]="PgGeometryBuilder";constructor(e){super(e,"array","PgGeometry")}build(e){return new eD(e,this.config)}}class eD extends ew.PgColumn{static [i.entityKind]="PgGeometry";getSQLType(){return"geometry(point)"}mapFromDriverValue(e){return ev(e)}mapToDriverValue(e){return`point(${e[0]} ${e[1]})`}}class eK extends ew.PgColumnBuilder{static [i.entityKind]="PgGeometryObjectBuilder";constructor(e){super(e,"json","PgGeometryObject")}build(e){return new eL(e,this.config)}}class eL extends ew.PgColumn{static [i.entityKind]="PgGeometryObject";getSQLType(){return"geometry(point)"}mapFromDriverValue(e){let t=ev(e);return{x:t[0],y:t[1]}}mapToDriverValue(e){return`point(${e.x} ${e.y})`}}var eQ=s;class e$ extends eQ.PgColumnBuilder{static [i.entityKind]="PgRealBuilder";constructor(e,t){super(e,"number","PgReal"),this.config.length=t}build(e){return new eq(e,this.config)}}class eq extends eQ.PgColumn{static [i.entityKind]="PgReal";constructor(e,t){super(e,t)}getSQLType(){return"real"}mapFromDriverValue=e=>"string"==typeof e?Number.parseFloat(e):e}var eF=s;class eV extends eF.PgColumnBuilder{static [i.entityKind]="PgSerialBuilder";constructor(e){super(e,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new eI(e,this.config)}}class eI extends eF.PgColumn{static [i.entityKind]="PgSerial";getSQLType(){return"serial"}}var eA=s;class e_ extends o{static [i.entityKind]="PgSmallIntBuilder";constructor(e){super(e,"number","PgSmallInt")}build(e){return new eO(e,this.config)}}class eO extends eA.PgColumn{static [i.entityKind]="PgSmallInt";getSQLType(){return"smallint"}mapFromDriverValue=e=>"string"==typeof e?Number(e):e}var ez=s;class eU extends ez.PgColumnBuilder{static [i.entityKind]="PgSmallSerialBuilder";constructor(e){super(e,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new ej(e,this.config)}}class ej extends ez.PgColumn{static [i.entityKind]="PgSmallSerial";getSQLType(){return"smallserial"}}var ek=s;class eE extends ek.PgColumnBuilder{static [i.entityKind]="PgTextBuilder";constructor(e,t){super(e,"string","PgText"),this.config.enumValues=t.enum}build(e){return new eR(e,this.config)}}class eR extends ek.PgColumn{static [i.entityKind]="PgText";enumValues=this.config.enumValues;getSQLType(){return"text"}}var eJ=s;class eM extends ${constructor(e,t,n){super(e,"string","PgTime"),this.withTimezone=t,this.precision=n,this.config.withTimezone=t,this.config.precision=n}static [i.entityKind]="PgTimeBuilder";build(e){return new eG(e,this.config)}}class eG extends eJ.PgColumn{static [i.entityKind]="PgTime";withTimezone;precision;constructor(e,t){super(e,t),this.withTimezone=t.withTimezone,this.precision=t.precision}getSQLType(){let e=void 0===this.precision?"":`(${this.precision})`;return`time${e}${this.withTimezone?" with time zone":""}`}}var eH=s;class eW extends ${static [i.entityKind]="PgTimestampBuilder";constructor(e,t,n){super(e,"date","PgTimestamp"),this.config.withTimezone=t,this.config.precision=n}build(e){return new eX(e,this.config)}}class eX extends eH.PgColumn{static [i.entityKind]="PgTimestamp";withTimezone;precision;constructor(e,t){super(e,t),this.withTimezone=t.withTimezone,this.precision=t.precision}getSQLType(){let e=void 0===this.precision?"":` (${this.precision})`;return`timestamp${e}${this.withTimezone?" with time zone":""}`}mapFromDriverValue=e=>new Date(this.withTimezone?e:e+"+0000");mapToDriverValue=e=>e.toISOString()}class eY extends ${static [i.entityKind]="PgTimestampStringBuilder";constructor(e,t,n){super(e,"string","PgTimestampString"),this.config.withTimezone=t,this.config.precision=n}build(e){return new eZ(e,this.config)}}class eZ extends eH.PgColumn{static [i.entityKind]="PgTimestampString";withTimezone;precision;constructor(e,t){super(e,t),this.withTimezone=t.withTimezone,this.precision=t.precision}getSQLType(){let e=void 0===this.precision?"":`(${this.precision})`;return`timestamp${e}${this.withTimezone?" with time zone":""}`}}var e0=s;class e1 extends e0.PgColumnBuilder{static [i.entityKind]="PgUUIDBuilder";constructor(e){super(e,"string","PgUUID")}defaultRandom(){return this.default(L.sql`gen_random_uuid()`)}build(e){return new e8(e,this.config)}}class e8 extends e0.PgColumn{static [i.entityKind]="PgUUID";getSQLType(){return"uuid"}}var e3=s;class e4 extends e3.PgColumnBuilder{static [i.entityKind]="PgVarcharBuilder";constructor(e,t){super(e,"string","PgVarchar"),this.config.length=t.length,this.config.enumValues=t.enum}build(e){return new e5(e,this.config)}}class e5 extends e3.PgColumn{static [i.entityKind]="PgVarchar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return void 0===this.length?"varchar":`varchar(${this.length})`}}var e2=s;class e9 extends e2.PgColumnBuilder{static [i.entityKind]="PgBinaryVectorBuilder";constructor(e,t){super(e,"string","PgBinaryVector"),this.config.dimensions=t.dimensions}build(e){return new e6(e,this.config)}}class e6 extends e2.PgColumn{static [i.entityKind]="PgBinaryVector";dimensions=this.config.dimensions;getSQLType(){return`bit(${this.dimensions})`}}var e7=s;class te extends e7.PgColumnBuilder{static [i.entityKind]="PgHalfVectorBuilder";constructor(e,t){super(e,"array","PgHalfVector"),this.config.dimensions=t.dimensions}build(e){return new tt(e,this.config)}}class tt extends e7.PgColumn{static [i.entityKind]="PgHalfVector";dimensions=this.config.dimensions;getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){return e.slice(1,-1).split(",").map(e=>Number.parseFloat(e))}}var tn=s;class ti extends tn.PgColumnBuilder{static [i.entityKind]="PgSparseVectorBuilder";constructor(e,t){super(e,"string","PgSparseVector"),this.config.dimensions=t.dimensions}build(e){return new tr(e,this.config)}}class tr extends tn.PgColumn{static [i.entityKind]="PgSparseVector";dimensions=this.config.dimensions;getSQLType(){return`sparsevec(${this.dimensions})`}}var ts=s;class ta extends ts.PgColumnBuilder{static [i.entityKind]="PgVectorBuilder";constructor(e,t){super(e,"array","PgVector"),this.config.dimensions=t.dimensions}build(e){return new to(e,this.config)}}class to extends ts.PgColumn{static [i.entityKind]="PgVector";dimensions=this.config.dimensions;getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){return e.slice(1,-1).split(",").map(e=>Number.parseFloat(e))}}let tu=Symbol.for("drizzle:PgInlineForeignKeys"),tl=Symbol.for("drizzle:EnableRLS");class tc extends r.Table{static [i.entityKind]="PgTable";static Symbol=Object.assign({},r.Table.Symbol,{InlineForeignKeys:tu,EnableRLS:tl});[tu]=[];[tl]=!1;[r.Table.Symbol.ExtraConfigBuilder]=void 0;[r.Table.Symbol.ExtraConfigColumns]={}}class tm{static [i.entityKind]="PgPrimaryKeyBuilder";columns;name;constructor(e,t){this.columns=e,this.name=t}build(e){return new td(e,this.columns,this.name)}}class td{constructor(e,t,n){this.table=e,this.columns=t,this.name=n}static [i.entityKind]="PgPrimaryKey";columns;name;getName(){return this.name??`${this.table[tc.Symbol.Name]}_${this.columns.map(e=>e.name).join("_")}_pk`}}function tg(e,r){return!(0,L.isDriverValueEncoder)(r)||(0,L.isSQLWrapper)(e)||(0,i.is)(e,L.Param)||(0,i.is)(e,L.Placeholder)||(0,i.is)(e,n.Column)||(0,i.is)(e,t.Table)||(0,i.is)(e,L.View)?e:new L.Param(e,r)}let tf=(e,t)=>L.sql`${e} = ${tg(t,e)}`,tp=(e,t)=>L.sql`${e} <> ${tg(t,e)}`;function th(...e){let t=e.filter(e=>void 0!==e);if(0!==t.length)return new L.SQL(1===t.length?t:[new L.StringChunk("("),L.sql.join(t,new L.StringChunk(" and ")),new L.StringChunk(")")])}function ty(...e){let t=e.filter(e=>void 0!==e);if(0!==t.length)return new L.SQL(1===t.length?t:[new L.StringChunk("("),L.sql.join(t,new L.StringChunk(" or ")),new L.StringChunk(")")])}function tb(e){return L.sql`not ${e}`}let tS=(e,t)=>L.sql`${e} > ${tg(t,e)}`,tP=(e,t)=>L.sql`${e} >= ${tg(t,e)}`,tT=(e,t)=>L.sql`${e} < ${tg(t,e)}`,tC=(e,t)=>L.sql`${e} <= ${tg(t,e)}`;function tN(e,t){return Array.isArray(t)?0===t.length?L.sql`false`:L.sql`${e} in ${t.map(t=>tg(t,e))}`:L.sql`${e} in ${tg(t,e)}`}function tw(e,t){return Array.isArray(t)?0===t.length?L.sql`true`:L.sql`${e} not in ${t.map(t=>tg(t,e))}`:L.sql`${e} not in ${tg(t,e)}`}function tx(e){return L.sql`${e} is null`}function tv(e){return L.sql`${e} is not null`}function tB(e){return L.sql`exists ${e}`}function tD(e){return L.sql`not exists ${e}`}function tK(e,t,n){return L.sql`${e} between ${tg(t,e)} and ${tg(n,e)}`}function tL(e,t,n){return L.sql`${e} not between ${tg(t,e)} and ${tg(n,e)}`}function tQ(e,t){return L.sql`${e} like ${t}`}function t$(e,t){return L.sql`${e} not like ${t}`}function tq(e,t){return L.sql`${e} ilike ${t}`}function tF(e,t){return L.sql`${e} not ilike ${t}`}function tV(e){return L.sql`${e} asc`}function tI(e){return L.sql`${e} desc`}e.s(["and",()=>th,"between",()=>tK,"eq",()=>tf,"exists",()=>tB,"gt",()=>tS,"gte",()=>tP,"ilike",()=>tq,"inArray",()=>tN,"isNotNull",()=>tv,"isNull",()=>tx,"like",()=>tQ,"lt",()=>tT,"lte",()=>tC,"ne",()=>tp,"not",()=>tb,"notBetween",()=>tL,"notExists",()=>tD,"notIlike",()=>tF,"notInArray",()=>tw,"notLike",()=>t$,"or",()=>ty],75225),e.s(["asc",()=>tV,"desc",()=>tI],49129);class tA{constructor(e,n,i){this.sourceTable=e,this.referencedTable=n,this.relationName=i,this.referencedTableName=n[t.Table.Symbol.Name]}static [i.entityKind]="Relation";referencedTableName;fieldName}class t_{constructor(e,t){this.table=e,this.config=t}static [i.entityKind]="Relations"}class tO extends tA{constructor(e,t,n,i){super(e,t,n?.relationName),this.config=n,this.isNullable=i}static [i.entityKind]="One";withFieldName(e){let t=new tO(this.sourceTable,this.referencedTable,this.config,this.isNullable);return t.fieldName=e,t}}class tz extends tA{constructor(e,t,n){super(e,t,n?.relationName),this.config=n}static [i.entityKind]="Many";withFieldName(e){let t=new tz(this.sourceTable,this.referencedTable,this.config);return t.fieldName=e,t}}function tU(){return{and:th,between:tK,eq:tf,exists:tB,gt:tS,gte:tP,ilike:tq,inArray:tN,isNull:tx,isNotNull:tv,like:tQ,lt:tT,lte:tC,ne:tp,not:tb,notBetween:tL,notExists:tD,notLike:t$,notIlike:tF,notInArray:tw,or:ty,sql:L.sql}}function tj(){return{sql:L.sql,asc:tV,desc:tI}}function tk(e,n){1===Object.keys(e).length&&"default"in e&&!(0,i.is)(e.default,t.Table)&&(e=e.default);let r={},s={},a={};for(let[o,u]of Object.entries(e))if((0,i.is)(u,t.Table)){let e=(0,t.getTableUniqueName)(u),n=s[e];for(let i of(r[e]=o,a[o]={tsName:o,dbName:u[t.Table.Symbol.Name],schema:u[t.Table.Symbol.Schema],columns:u[t.Table.Symbol.Columns],relations:n?.relations??{},primaryKey:n?.primaryKey??[]},Object.values(u[t.Table.Symbol.Columns])))i.primary&&a[o].primaryKey.push(i);let l=u[t.Table.Symbol.ExtraConfigBuilder]?.(u[t.Table.Symbol.ExtraConfigColumns]);if(l)for(let e of Object.values(l))(0,i.is)(e,tm)&&a[o].primaryKey.push(...e.columns)}else if((0,i.is)(u,t_)){let e,i=(0,t.getTableUniqueName)(u.table),o=r[i];for(let[t,r]of Object.entries(u.config(n(u.table))))if(o){let n=a[o];n.relations[t]=r,e&&n.primaryKey.push(...e)}else i in s||(s[i]={relations:{},primaryKey:e}),s[i].relations[t]=r}return{tables:a,tableNamesMap:r}}function tE(e,t){return new t_(e,e=>Object.fromEntries(Object.entries(t(e)).map(([e,t])=>[e,t.withFieldName(e)])))}function tR(e,n,r){if((0,i.is)(r,tO)&&r.config)return{fields:r.config.fields,references:r.config.references};let s=n[(0,t.getTableUniqueName)(r.referencedTable)];if(!s)throw Error(`Table "${r.referencedTable[t.Table.Symbol.Name]}" not found in schema`);let a=e[s];if(!a)throw Error(`Table "${s}" not found in schema`);let o=r.sourceTable,u=n[(0,t.getTableUniqueName)(o)];if(!u)throw Error(`Table "${o[t.Table.Symbol.Name]}" not found in schema`);let l=[];for(let e of Object.values(a.relations))(r.relationName&&r!==e&&e.relationName===r.relationName||!r.relationName&&e.referencedTable===r.sourceTable)&&l.push(e);if(l.length>1)throw r.relationName?Error(`There are multiple relations with name "${r.relationName}" in table "${s}"`):Error(`There are multiple relations between "${s}" and "${r.sourceTable[t.Table.Symbol.Name]}". Please specify relation name`);if(l[0]&&(0,i.is)(l[0],tO)&&l[0].config)return{fields:l[0].config.references,references:l[0].config.fields};throw Error(`There is not enough information to infer relation "${u}.${r.fieldName}"`)}function tJ(e){return{one:function(t,n){return new tO(e,t,n,n?.fields.reduce((e,t)=>e&&t.notNull,!0)??!1)},many:function(t,n){return new tz(e,t,n)}}}e.s(["Many",()=>tz,"One",()=>tO,"createTableRelationsHelpers",()=>tJ,"extractTablesRelationalConfig",()=>tk,"getOperators",()=>tU,"getOrderByOperators",()=>tj,"mapRelationalRow",()=>function e(t,r,s,a,o=e=>e){let u={};for(let[l,c]of a.entries())if(c.isJson){let n=r.relations[c.tsKey],a=s[l],m="string"==typeof a?JSON.parse(a):a;u[c.tsKey]=(0,i.is)(n,tO)?m&&e(t,t[c.relationTableTsKey],m,c.selection,o):m.map(n=>e(t,t[c.relationTableTsKey],n,c.selection,o))}else{let e,t=o(s[l]),r=c.field;e=(0,i.is)(r,n.Column)?r:(0,i.is)(r,L.SQL)?r.decoder:r.sql.decoder,u[c.tsKey]=null===t?null:e.mapFromDriverValue(t)}return u},"normalizeRelation",()=>tR,"relations",()=>tE],79822)},35839,e=>{"use strict";var t=e.i(75799),n=e.i(80568),i=e.i(37540),r=e.i(24325),s=e.i(79822);let a=(0,t.sqliteTable)("users",{id:(0,n.text)("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),email:(0,n.text)("email").notNull().unique(),name:(0,n.text)("name").notNull(),password:(0,n.text)("password").notNull(),role:(0,n.text)("role",{enum:["ADMIN","MANAGER","CASHIER"]}).notNull().default("CASHIER"),createdAt:(0,i.integer)("created_at",{mode:"timestamp"}).$defaultFn(()=>new Date),updatedAt:(0,i.integer)("updated_at",{mode:"timestamp"}).$defaultFn(()=>new Date)}),o=(0,t.sqliteTable)("categories",{id:(0,n.text)("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),name:(0,n.text)("name").notNull().unique(),createdAt:(0,i.integer)("created_at",{mode:"timestamp"}).$defaultFn(()=>new Date),updatedAt:(0,i.integer)("updated_at",{mode:"timestamp"}).$defaultFn(()=>new Date)}),u=(0,t.sqliteTable)("products",{id:(0,n.text)("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),barcode:(0,n.text)("barcode").notNull().unique(),name:(0,n.text)("name").notNull(),categoryId:(0,n.text)("category_id").references(()=>o.id),initialStock:(0,i.integer)("initial_stock").notNull().default(0),currentStock:(0,i.integer)("current_stock").notNull().default(0),sellPrice:(0,r.real)("sell_price").notNull(),createdAt:(0,i.integer)("created_at",{mode:"timestamp"}).$defaultFn(()=>new Date),updatedAt:(0,i.integer)("updated_at",{mode:"timestamp"}).$defaultFn(()=>new Date)}),l=(0,t.sqliteTable)("transactions",{id:(0,n.text)("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),code:(0,n.text)("code").notNull().unique(),transactionDate:(0,i.integer)("transaction_date",{mode:"timestamp"}).$defaultFn(()=>new Date),totalItems:(0,i.integer)("total_items").notNull(),cashAmount:(0,r.real)("cash_amount").notNull().default(0),transferAmount:(0,r.real)("transfer_amount").notNull().default(0),bankName:(0,n.text)("bank_name"),paymentProof:(0,n.text)("payment_proof"),paymentStatus:(0,n.text)("payment_status",{enum:["PENDING","PAID","CANCELLED"]}).notNull().default("PENDING"),userId:(0,n.text)("user_id").notNull().references(()=>a.id),createdAt:(0,i.integer)("created_at",{mode:"timestamp"}).$defaultFn(()=>new Date),updatedAt:(0,i.integer)("updated_at",{mode:"timestamp"}).$defaultFn(()=>new Date)}),c=(0,t.sqliteTable)("outgoing_items",{id:(0,n.text)("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),date:(0,i.integer)("date",{mode:"timestamp"}).$defaultFn(()=>new Date),barcode:(0,n.text)("barcode").notNull(),productName:(0,n.text)("product_name").notNull(),quantity:(0,i.integer)("quantity").notNull(),transactionCode:(0,n.text)("transaction_code").notNull().references(()=>l.code),price:(0,r.real)("price").notNull(),discountPercent:(0,r.real)("discount_percent").notNull().default(0),discountAmount:(0,r.real)("discount_amount").notNull().default(0),createdAt:(0,i.integer)("created_at",{mode:"timestamp"}).$defaultFn(()=>new Date)}),m=(0,t.sqliteTable)("settings",{id:(0,n.text)("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),key:(0,n.text)("key").notNull().unique(),value:(0,n.text)("value").notNull(),createdAt:(0,i.integer)("created_at",{mode:"timestamp"}).$defaultFn(()=>new Date),updatedAt:(0,i.integer)("updated_at",{mode:"timestamp"}).$defaultFn(()=>new Date)}),d=(0,t.sqliteTable)("shifts",{id:(0,n.text)("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:(0,n.text)("user_id").notNull().references(()=>a.id),startTime:(0,i.integer)("start_time",{mode:"timestamp"}).notNull(),endTime:(0,i.integer)("end_time",{mode:"timestamp"}),startingCash:(0,r.real)("starting_cash").notNull().default(0),endingCash:(0,r.real)("ending_cash"),totalSales:(0,r.real)("total_sales").default(0),totalTransactions:(0,i.integer)("total_transactions").default(0),totalExpenses:(0,r.real)("total_expenses").default(0),status:(0,n.text)("status",{enum:["OPEN","CLOSED"]}).notNull().default("OPEN"),notes:(0,n.text)("notes"),createdAt:(0,i.integer)("created_at",{mode:"timestamp"}).$defaultFn(()=>new Date),updatedAt:(0,i.integer)("updated_at",{mode:"timestamp"}).$defaultFn(()=>new Date)}),g=(0,t.sqliteTable)("expenses",{id:(0,n.text)("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),shiftId:(0,n.text)("shift_id").references(()=>d.id),userId:(0,n.text)("user_id").notNull().references(()=>a.id),category:(0,n.text)("category").notNull(),description:(0,n.text)("description").notNull(),amount:(0,r.real)("amount").notNull(),receipt:(0,n.text)("receipt"),createdAt:(0,i.integer)("created_at",{mode:"timestamp"}).$defaultFn(()=>new Date),updatedAt:(0,i.integer)("updated_at",{mode:"timestamp"}).$defaultFn(()=>new Date)}),f=(0,s.relations)(a,({many:e})=>({transactions:e(l)})),p=(0,s.relations)(o,({many:e})=>({products:e(u)})),h=(0,s.relations)(u,({one:e,many:t})=>({category:e(o,{fields:[u.categoryId],references:[o.id]}),outgoingItems:t(c)})),y=(0,s.relations)(l,({one:e,many:t})=>({user:e(a,{fields:[l.userId],references:[a.id]}),outgoingItems:t(c)})),b=(0,s.relations)(c,({one:e})=>({transaction:e(l,{fields:[c.transactionCode],references:[l.code]}),product:e(u,{fields:[c.barcode],references:[u.barcode]})}));e.s(["categories",0,o,"categoriesRelations",0,p,"expenses",0,g,"outgoingItems",0,c,"outgoingItemsRelations",0,b,"products",0,u,"productsRelations",0,h,"settings",0,m,"shifts",0,d,"transactions",0,l,"transactionsRelations",0,y,"users",0,a,"usersRelations",0,f])}];

//# sourceMappingURL=_35fbf50e._.js.map