module.exports=[18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},42602,(a,b,c)=>{"use strict";b.exports=a.r(18622)},87924,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactJsxRuntime},72131,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].React},16259,29139,a=>{"use strict";var b=a.i(87924),c=a.i(72131);async function d(a,b){try{let c=await fetch("/api/auth/signin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a,password:b}),credentials:"include"}),d=await c.json();if(c.ok)return localStorage.setItem("user",JSON.stringify(d.user)),{success:!0,user:d.user};return{success:!1,error:d.error||"Login failed"}}catch(a){return console.error("Login error:",a),{success:!1,error:"Network error"}}}async function e(){try{await fetch("/api/auth/signout",{method:"POST",credentials:"include"}),localStorage.removeItem("user")}catch(a){console.error("Signout error:",a)}}async function f(){try{let a=await fetch("/api/auth/session",{credentials:"include"}),b=await a.json();if(b.user)return localStorage.setItem("user",JSON.stringify(b.user)),b.user;let c=localStorage.getItem("user");if(c)return JSON.parse(c);return null}catch(b){console.error("Session error:",b);let a=localStorage.getItem("user");if(a)return JSON.parse(a);return null}}a.s(["clientSignIn",()=>d,"clientSignOut",()=>e,"getClientSession",()=>f],29139);let g=(0,c.createContext)({user:null,loading:!0,signOut:async()=>{},refreshSession:()=>{}});function h(){return(0,c.useContext)(g)}function i({children:a}){let[d,h]=(0,c.useState)(null),[i,j]=(0,c.useState)(!0);(0,c.useEffect)(()=>{k();let a=()=>{k()};return window.addEventListener("storage",a),window.addEventListener("focus",k),()=>{window.removeEventListener("storage",a),window.removeEventListener("focus",k)}},[]);let k=async()=>{try{let a=await f();h(a)}catch(a){console.error("Session check error:",a),h(null)}finally{j(!1)}},l=async()=>{try{await e(),h(null),window.location.href="/login"}catch(a){console.error("Sign out error:",a)}};return(0,b.jsx)(g.Provider,{value:{user:d,loading:i,signOut:l,refreshSession:()=>{k()}},children:a})}a.s(["default",()=>i,"useAuth",()=>h],16259)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__a24e827b._.js.map