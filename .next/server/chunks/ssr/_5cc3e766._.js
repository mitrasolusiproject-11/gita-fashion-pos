module.exports=[60246,a=>{"use strict";let b=(0,a.i(70106).default)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);a.s(["Users",()=>b],60246)},24669,a=>{"use strict";let b=(0,a.i(70106).default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);a.s(["TrendingUp",()=>b],24669)},49846,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(16259),e=a.i(91119),f=a.i(83497),g=a.i(38784),h=a.i(60246),i=a.i(24669);function j(){let{user:a}=(0,d.useAuth)(),[j,k]=(0,c.useState)({totalProducts:0,todaySales:0,todayTransactions:0,totalCustomers:0,recentTransactions:[],lowStockProducts:[]}),[l,m]=(0,c.useState)(!0);(0,c.useEffect)(()=>{n()},[]);let n=async()=>{try{m(!0);let a=await fetch("/api/dashboard"),b=await a.json();a.ok&&k({totalProducts:b.totalProducts||0,todaySales:b.todaySales||0,todayTransactions:b.todayTransactions||0,totalCustomers:0,recentTransactions:b.recentTransactions||[],lowStockProducts:b.lowStockProducts||[]})}catch(a){console.error("Error fetching dashboard data:",a)}finally{m(!1)}},o=[{title:"Total Produk",value:l?"...":j.totalProducts.toString(),description:"Produk terdaftar",icon:f.Package,color:"text-blue-600"},{title:"Penjualan Hari Ini",value:l?"...":`Rp ${j.todaySales.toLocaleString()}`,description:"Total penjualan",icon:g.ShoppingCart,color:"text-green-600"},{title:"Transaksi",value:l?"...":j.todayTransactions.toString(),description:"Transaksi hari ini",icon:i.TrendingUp,color:"text-purple-600"},{title:"Stok Menipis",value:l?"...":j.lowStockProducts.length.toString(),description:"Produk stok rendah",icon:h.Users,color:"text-orange-600"}];return(0,b.jsxs)("div",{className:"p-6",children:[(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard"}),(0,b.jsxs)("p",{className:"text-gray-600",children:["Selamat datang, ",a?.name,"!"]})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:o.map((a,c)=>{let d=a.icon;return(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(e.CardTitle,{className:"text-sm font-medium",children:a.title}),(0,b.jsx)(d,{className:`h-4 w-4 ${a.color}`})]}),(0,b.jsxs)(e.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold",children:a.value}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:a.description})]})]},c)})}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{children:[(0,b.jsx)(e.CardTitle,{children:"Penjualan Terbaru"}),(0,b.jsx)(e.CardDescription,{children:"Transaksi penjualan terbaru"})]}),(0,b.jsx)(e.CardContent,{children:l?(0,b.jsx)("div",{className:"text-center py-8 text-gray-500",children:"Loading..."}):0===j.recentTransactions.length?(0,b.jsx)("div",{className:"text-center py-8 text-gray-500",children:"Belum ada transaksi"}):(0,b.jsx)("div",{className:"space-y-3",children:j.recentTransactions.map(a=>(0,b.jsxs)("div",{className:"flex justify-between items-center p-3 border rounded",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-medium",children:a.code}),(0,b.jsx)("div",{className:"text-sm text-gray-500",children:new Date(a.transactionDate).toLocaleDateString("id-ID")})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsxs)("div",{className:"font-medium",children:["Rp ",((a.cashAmount||0)+(a.transferAmount||0)).toLocaleString()]}),(0,b.jsxs)("div",{className:"text-sm text-gray-500",children:[a.totalItems," item"]})]})]},a.id))})})]}),(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{children:[(0,b.jsx)(e.CardTitle,{children:"Stok Menipis"}),(0,b.jsx)(e.CardDescription,{children:"Produk dengan stok rendah (â‰¤ 5)"})]}),(0,b.jsx)(e.CardContent,{children:l?(0,b.jsx)("div",{className:"text-center py-8 text-gray-500",children:"Loading..."}):0===j.lowStockProducts.length?(0,b.jsx)("div",{className:"text-center py-8 text-gray-500",children:"Semua produk stok aman"}):(0,b.jsx)("div",{className:"space-y-3",children:j.lowStockProducts.map(a=>(0,b.jsxs)("div",{className:"flex justify-between items-center p-3 border rounded",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-medium",children:a.name}),(0,b.jsx)("div",{className:"text-sm text-gray-500",children:a.barcode})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsxs)("div",{className:`font-medium ${0===a.currentStock?"text-red-600":"text-orange-600"}`,children:["Stok: ",a.currentStock]}),(0,b.jsx)("div",{className:"text-sm text-gray-500",children:a.category?.name||"Tanpa Kategori"})]})]},a.id))})})]})]})]})}a.s(["default",()=>j])}];

//# sourceMappingURL=_5cc3e766._.js.map