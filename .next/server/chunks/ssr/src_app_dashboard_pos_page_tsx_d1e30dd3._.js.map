{"version":3,"sources":["turbopack:///[project]/src/app/dashboard/pos/page.tsx","turbopack:///[project]/node_modules/lucide-react/src/icons/minus.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/credit-card.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/scan.ts"],"sourcesContent":["'use client'\n\nimport { useState, useEffect } from 'react'\nimport { useAuth } from '@/components/providers/session-provider'\nimport { Button } from '@/components/ui/button'\nimport { Input } from '@/components/ui/input'\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card'\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from '@/components/ui/table'\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from '@/components/ui/dialog'\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select'\nimport { Label } from '@/components/ui/label'\nimport { Badge } from '@/components/ui/badge'\nimport { Trash2, Plus, Minus, ShoppingCart, Scan, Package, CreditCard, Banknote, Printer, Percent } from 'lucide-react'\n\ninterface Product {\n  id: string\n  barcode: string\n  name: string\n  category: string\n  currentStock: number\n  sellPrice: number\n}\n\ninterface CartItem {\n  id: string\n  barcode: string\n  name: string\n  price: number\n  quantity: number\n  discount: number\n  discountType: 'percentage' | 'amount'\n}\n\nexport default function POSPage() {\n  const { user } = useAuth()\n  const [barcode, setBarcode] = useState('')\n  const [cart, setCart] = useState<CartItem[]>([])\n  const [products, setProducts] = useState<Product[]>([])\n  const [isProcessingPayment, setIsProcessingPayment] = useState(false)\n  const [showPaymentDialog, setShowPaymentDialog] = useState(false)\n  const [paymentMethod, setPaymentMethod] = useState('cash')\n  const [cashAmount, setCashAmount] = useState(0)\n  const [transferAmount, setTransferAmount] = useState(0)\n  const [bankName, setBankName] = useState('')\n  const [lastTransaction, setLastTransaction] = useState<any>(null)\n  const [showReceiptDialog, setShowReceiptDialog] = useState(false)\n  const [showDiscountDialog, setShowDiscountDialog] = useState(false)\n  const [discountItem, setDiscountItem] = useState<CartItem | null>(null)\n  const [discountValue, setDiscountValue] = useState(0)\n  const [discountType, setDiscountType] = useState<'percentage' | 'amount'>('percentage')\n  const [storeSettings, setStoreSettings] = useState<any>(null)\n\n  useEffect(() => {\n    fetchProducts()\n    fetchStoreSettings()\n  }, [])\n\n  const fetchStoreSettings = async () => {\n    try {\n      const response = await fetch('/api/settings/public')\n      if (response.ok) {\n        const data = await response.json()\n        setStoreSettings(data)\n      }\n    } catch (error) {\n      console.error('Error fetching store settings:', error)\n    }\n  }\n\n  const fetchProducts = async () => {\n    try {\n      const response = await fetch('/api/products', {\n        credentials: 'include'\n      })\n      if (response.ok) {\n        const data = await response.json()\n        setProducts(Array.isArray(data) ? data.slice(0, 10) : []) // Show first 10 products\n      }\n    } catch (error) {\n      console.error('Error fetching products:', error)\n      setProducts([])\n    }\n  }\n\n  const addToCart = (product: Product) => {\n    if (product.currentStock <= 0) {\n      alert('Stok produk habis!')\n      return\n    }\n\n    const existingItem = cart.find(item => item.barcode === product.barcode)\n\n    if (existingItem) {\n      if (existingItem.quantity >= product.currentStock) {\n        alert('Quantity melebihi stok yang tersedia!')\n        return\n      }\n      setCart(cart.map(item =>\n        item.barcode === product.barcode\n          ? { ...item, quantity: item.quantity + 1 }\n          : item\n      ))\n    } else {\n      const newItem: CartItem = {\n        id: product.id,\n        barcode: product.barcode,\n        name: product.name,\n        price: product.sellPrice,\n        quantity: 1,\n        discount: 0,\n        discountType: 'percentage'\n      }\n      setCart([...cart, newItem])\n    }\n  }\n\n  const scanBarcode = async () => {\n    if (!barcode.trim()) return\n\n    try {\n      const response = await fetch(`/api/products/${barcode}`, {\n        credentials: 'include'\n      })\n\n      if (response.ok) {\n        const product = await response.json()\n        addToCart(product)\n        setBarcode('')\n      } else {\n        alert('Produk tidak ditemukan!')\n      }\n    } catch (error) {\n      console.error('Error scanning barcode:', error)\n      alert('Terjadi kesalahan saat scan barcode')\n    }\n  }\n\n  const updateQuantity = (barcode: string, newQuantity: number) => {\n    if (newQuantity <= 0) {\n      removeFromCart(barcode)\n      return\n    }\n\n    const product = products.find(p => p.barcode === barcode)\n    if (product && newQuantity > product.currentStock) {\n      alert('Quantity melebihi stok yang tersedia!')\n      return\n    }\n\n    setCart(cart.map(item =>\n      item.barcode === barcode\n        ? { ...item, quantity: newQuantity }\n        : item\n    ))\n  }\n\n  const removeFromCart = (barcode: string) => {\n    setCart(cart.filter(item => item.barcode !== barcode))\n  }\n\n  const clearCart = () => {\n    setCart([])\n  }\n\n  const openDiscountDialog = (item: CartItem) => {\n    setDiscountItem(item)\n    setDiscountValue(item.discount)\n    setDiscountType(item.discountType)\n    setShowDiscountDialog(true)\n  }\n\n  const applyDiscount = () => {\n    if (!discountItem) return\n\n    const updatedCart = cart.map(item => {\n      if (item.barcode === discountItem.barcode) {\n        return {\n          ...item,\n          discount: discountValue,\n          discountType: discountType\n        }\n      }\n      return item\n    })\n\n    setCart(updatedCart)\n    setShowDiscountDialog(false)\n    setDiscountItem(null)\n    setDiscountValue(0)\n  }\n\n  const calculateItemDiscount = (item: CartItem) => {\n    const subtotal = item.price * item.quantity\n    if (item.discountType === 'percentage') {\n      return (subtotal * item.discount) / 100\n    } else {\n      return item.discount\n    }\n  }\n\n  const calculateTotal = () => {\n    return cart.reduce((total, item) => {\n      const subtotal = item.price * item.quantity\n      const discount = calculateItemDiscount(item)\n      return total + subtotal - discount\n    }, 0)\n  }\n\n  const calculateSubtotal = () => {\n    return cart.reduce((total, item) => total + (item.price * item.quantity), 0)\n  }\n\n  const calculateTotalDiscount = () => {\n    return cart.reduce((total, item) => total + calculateItemDiscount(item), 0)\n  }\n\n  const setAutoAmount = (method: string) => {\n    const total = calculateTotal()\n    if (method === 'cash') {\n      setCashAmount(total)\n      setTransferAmount(0)\n    } else if (method === 'transfer') {\n      setTransferAmount(total)\n      setCashAmount(0)\n    }\n  }\n\n  const processPayment = async () => {\n    if (cart.length === 0) {\n      alert('Keranjang kosong!')\n      return\n    }\n\n    const total = calculateTotal()\n    const totalPaid = cashAmount + transferAmount\n\n    if (totalPaid < total) {\n      alert('Jumlah pembayaran kurang!')\n      return\n    }\n\n    setIsProcessingPayment(true)\n\n    try {\n      // Calculate actual cash/transfer after deducting change\n      // If customer pays 150k for 120k item, we record 120k not 150k\n      const actualCash = cashAmount > 0 ? Math.min(cashAmount, total) : 0\n      const actualTransfer = transferAmount > 0 ? (total - actualCash) : 0\n\n      const transactionData = {\n        items: cart.map(item => ({\n          barcode: item.barcode,\n          name: item.name,\n          quantity: item.quantity,\n          price: item.price,\n          discount: item.discount,\n          discountPercent: item.discountType === 'percentage' ? item.discount : 0,\n          discountAmount: calculateItemDiscount(item)\n        })),\n        cashAmount: actualCash,\n        transferAmount: actualTransfer,\n        bankName: transferAmount > 0 ? bankName : null\n      }\n\n      const response = await fetch('/api/transactions', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(transactionData),\n        credentials: 'include'\n      })\n\n      if (response.ok) {\n        const transaction = await response.json()\n        // Simpan data untuk struk sebelum clear cart\n        const receiptData = {\n          ...transaction,\n          items: cart,\n          cashAmount,\n          transferAmount,\n          user: user\n        }\n        setLastTransaction(receiptData)\n        setShowPaymentDialog(false)\n        setShowReceiptDialog(true)\n        clearCart()\n        setCashAmount(0)\n        setTransferAmount(0)\n        setBankName('')\n        alert('Transaksi berhasil!')\n      } else {\n        const errorData = await response.json()\n        alert(`Gagal memproses transaksi: ${errorData.error || 'Unknown error'}`)\n      }\n    } catch (error) {\n      console.error('Error processing payment:', error)\n      alert('Terjadi kesalahan saat memproses pembayaran')\n    } finally {\n      setIsProcessingPayment(false)\n    }\n  }\n\n  const printReceipt = () => {\n    if (!lastTransaction) return\n\n    const printWindow = window.open('', '_blank')\n    if (!printWindow) return\n\n    const receiptContent = `\n      <!DOCTYPE html>\n      <html>\n      <head>\n        <title>Struk Transaksi - ${lastTransaction.code}</title>\n        <style>\n          @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap');\n          \n          /* Thermal printer specific CSS */\n          @media print {\n            @page {\n              size: 58mm auto;\n              margin: 0;\n            }\n            \n            body {\n              margin: 0 !important;\n              padding: 0 !important;\n            }\n            \n            .receipt {\n              width: 100% !important;\n            }\n          }\n          \n          * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n          }\n          body { \n            font-family: 'Roboto', sans-serif; \n            font-size: 12px; \n            margin: 0; \n            padding: 0; \n            line-height: 1.2;\n            width: 100%;\n          }\n          .receipt { \n            width: 100%; \n            max-width: 180px; \n            margin: 0; \n            padding: 2px;\n          }\n          \n          /* Thermal 80mm Support */\n          @media print and (min-width: 80mm) {\n            .receipt { \n              max-width: 260px !important; /* 68.8mm - optimal untuk 80mm */\n              padding: 3px !important;\n            }\n            body {\n              font-size: 13px !important;\n            }\n            .header h2 {\n              font-size: 18px !important;\n            }\n            .header p {\n              font-size: 12px !important;\n            }\n            .item {\n              font-size: 12px !important;\n            }\n          }\n          \n          /* Alternative: Manual 80mm class */\n          .receipt-80mm { \n            max-width: 260px !important;\n            padding: 3px !important;\n          }\n          .receipt-80mm body {\n            font-size: 13px !important;\n          }\n          .receipt-80mm .header h2 {\n            font-size: 18px !important;\n          }\n          .receipt-80mm .header p {\n            font-size: 12px !important;\n          }\n          .receipt-80mm .item {\n            font-size: 12px !important;\n          }\n          .header { \n            text-align: center; \n            border-bottom: 1px dashed #000; \n            padding-bottom: 8px; \n            margin-bottom: 8px; \n          }\n          .header h2 { \n            margin: 0 0 2px 0; \n            font-weight: 700; \n            font-size: 16px; \n          }\n          .header p { \n            margin: 1px 0; \n            font-size: 11px; \n            font-weight: 400; \n          }\n          .item { \n            display: flex; \n            justify-content: space-between; \n            margin: 2px 0; \n            font-weight: 400; \n          }\n          .total { \n            border-top: 1px dashed #000; \n            padding-top: 8px; \n            margin-top: 8px; \n          }\n          .footer { \n            text-align: center; \n            margin-top: 15px; \n            font-size: 10px; \n            font-weight: 300; \n          }\n          .footer p { \n            margin: 2px 0; \n          }\n          \n          @media print {\n            * {\n              margin: 0 !important;\n              padding: 0 !important;\n            }\n            body { \n              margin: 0 !important; \n              padding: 0 !important; \n              width: auto !important;\n              font-size: 11px !important;\n            }\n            .receipt { \n              width: 100% !important; \n              max-width: 180px !important; /* Default 58mm */\n              margin: 0 !important; \n              padding: 1px !important;\n            }\n            \n            /* Auto-detect 80mm thermal */\n            @media print and (min-width: 300px) {\n              .receipt { \n                max-width: 260px !important; /* 80mm thermal */\n                padding: 2px !important;\n              }\n            }\n            .header {\n              padding-bottom: 6px !important;\n              margin-bottom: 6px !important;\n            }\n            .header h2 {\n              font-size: 14px !important;\n              margin: 0 !important;\n            }\n            .header p {\n              font-size: 10px !important;\n              margin: 0 !important;\n            }\n            .item {\n              font-size: 10px !important;\n              margin: 1px 0 !important;\n            }\n            .total {\n              padding-top: 4px !important;\n              margin-top: 4px !important;\n            }\n            .footer {\n              margin-top: 8px !important;\n              font-size: 8px !important;\n            }\n          }\n        </style>\n      </head>\n      <body>\n        <div class=\"receipt\">\n          <div class=\"header\">\n            <h2>${storeSettings?.storeName || 'GITA FASHION'}</h2>\n            <p>${storeSettings?.storeAddress || 'Jl. Fashion Street No. 123'}</p>\n            <p>Telp: ${storeSettings?.storePhone || '(021) 123-4567'}</p>\n            <p>================================</p>\n          </div>\n          \n          <div class=\"transaction-info\">\n            <div class=\"item\"><span>No. Transaksi:</span><span>${lastTransaction.code}</span></div>\n            <div class=\"item\"><span>Tanggal:</span><span>${new Date().toLocaleString('id-ID')}</span></div>\n            <div class=\"item\"><span>Kasir:</span><span>${user?.name || 'Kasir'}</span></div>\n            <p>================================</p>\n          </div>\n\n          <div class=\"items\">\n            ${(lastTransaction.items || []).map((item: any) => {\n      const itemDiscount = item.discountType === 'percentage'\n        ? (item.price * item.quantity * item.discount) / 100\n        : item.discount\n      return `\n                <div class=\"item\">\n                  <span>${item.name}</span>\n                </div>\n                <div class=\"item\">\n                  <span>${item.quantity} x Rp ${item.price.toLocaleString('id-ID')}</span>\n                  <span>Rp ${(item.quantity * item.price).toLocaleString('id-ID')}</span>\n                </div>\n                ${item.discount > 0 ? `<div class=\"item\"><span>Diskon ${item.discountType === 'percentage' ? item.discount + '%' : 'Rp ' + item.discount.toLocaleString('id-ID')}:</span><span>-Rp ${itemDiscount.toLocaleString('id-ID')}</span></div>` : ''}\n              `\n    }).join('')}\n          </div>\n\n          <div class=\"total\">\n            ${(() => {\n        const items = lastTransaction.items || []\n        const subtotal = items.reduce((sum: number, item: any) => sum + (item.price * item.quantity), 0)\n        const totalDiscount = items.reduce((sum: number, item: any) => {\n          const discount = item.discountType === 'percentage'\n            ? (item.price * item.quantity * item.discount) / 100\n            : item.discount\n          return sum + discount\n        }, 0)\n        const total = subtotal - totalDiscount\n        const cash = lastTransaction.cashAmount || 0\n        const transfer = lastTransaction.transferAmount || 0\n        const kembalian = Math.max(0, (cash + transfer) - total)\n\n        return `\n                <div class=\"item\"><span>Subtotal:</span><span>Rp ${subtotal.toLocaleString('id-ID')}</span></div>\n                ${totalDiscount > 0 ? `<div class=\"item\"><span>Total Diskon:</span><span>-Rp ${totalDiscount.toLocaleString('id-ID')}</span></div>` : ''}\n                <div class=\"item\"><strong><span>TOTAL:</span><span>Rp ${total.toLocaleString('id-ID')}</span></strong></div>\n                <p>================================</p>\n                ${cash > 0 ? `<div class=\"item\"><span>Tunai:</span><span>Rp ${cash.toLocaleString('id-ID')}</span></div>` : ''}\n                ${transfer > 0 ? `<div class=\"item\"><span>Transfer:</span><span>Rp ${transfer.toLocaleString('id-ID')}</span></div>` : ''}\n                <div class=\"item\"><span>Kembalian:</span><span>Rp ${kembalian.toLocaleString('id-ID')}</span></div>\n              `\n      })()}\n          </div>\n\n          <div class=\"footer\">\n            <p>${storeSettings?.footerText || 'Terima kasih atas kunjungan Anda!'}</p>\n            <p>Barang yang sudah dibeli tidak dapat dikembalikan</p>\n            <p>${new Date().toLocaleString('id-ID')}</p>\n          </div>\n        </div>\n      </body>\n      \n      <script>\n        // Simple print control - content starts from top\n        window.addEventListener('afterprint', function() {\n          console.log('Print completed - closing window');\n          setTimeout(() => window.close(), 500);\n        });\n        \n        // Auto print after short delay\n        setTimeout(() => {\n          window.print();\n        }, 1000);\n        \n        // Add paper cut spacing at the end\n        document.addEventListener('DOMContentLoaded', function() {\n          const receipt = document.querySelector('.receipt');\n          if (receipt) {\n            const spacer = document.createElement('div');\n            spacer.style.height = '10mm';\n            spacer.style.width = '100%';\n            receipt.appendChild(spacer);\n          }\n        });\n      </script>\n      </html>\n    `\n\n    // Safe approach for setting print content\n    printWindow.document.open()\n    printWindow.document.write(receiptContent)\n    printWindow.document.close()\n    \n    // Print will be handled by the script in the HTML\n  }\n\n  return (\n    <div className=\"p-6\">\n      <div className=\"mb-6\">\n        <h1 className=\"text-2xl font-bold text-gray-900\">Point of Sale</h1>\n        <p className=\"text-gray-600\">Sistem kasir Gita Fashion</p>\n      </div>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n        {/* Left Column - Product Scanner & Popular Products */}\n        <div className=\"lg:col-span-2 space-y-6\">\n          {/* Barcode Scanner */}\n          <Card>\n            <CardHeader>\n              <CardTitle className=\"flex items-center gap-2\">\n                <Scan className=\"h-5 w-5\" />\n                Scanner Barcode\n              </CardTitle>\n            </CardHeader>\n            <CardContent>\n              <div className=\"flex gap-2\">\n                <Input\n                  placeholder=\"Scan atau ketik barcode produk...\"\n                  value={barcode}\n                  onChange={(e) => setBarcode(e.target.value)}\n                  onKeyPress={(e) => e.key === 'Enter' && scanBarcode()}\n                  className=\"flex-1\"\n                />\n                <Button onClick={scanBarcode}>\n                  <Scan className=\"h-4 w-4\" />\n                </Button>\n              </div>\n            </CardContent>\n          </Card>\n\n          {/* Popular Products Table */}\n          <Card>\n            <CardHeader>\n              <CardTitle className=\"flex items-center gap-2\">\n                <Package className=\"h-5 w-5\" />\n                Produk Populer\n              </CardTitle>\n            </CardHeader>\n            <CardContent>\n              {products.length === 0 ? (\n                <div className=\"text-center py-8 text-gray-500\">\n                  Tidak ada produk tersedia\n                </div>\n              ) : (\n                <div className=\"overflow-x-auto\">\n                  <Table>\n                    <TableHeader>\n                      <TableRow>\n                        <TableHead>Barcode</TableHead>\n                        <TableHead>Nama Produk</TableHead>\n                        <TableHead>Kategori</TableHead>\n                        <TableHead>Stok</TableHead>\n                        <TableHead>Harga</TableHead>\n                        <TableHead>Aksi</TableHead>\n                      </TableRow>\n                    </TableHeader>\n                    <TableBody>\n                      {products.map((product) => (\n                        <TableRow key={product.id}>\n                          <TableCell className=\"font-mono text-sm\">{product.barcode}</TableCell>\n                          <TableCell className=\"font-medium\">{product.name}</TableCell>\n                          <TableCell>{product.category}</TableCell>\n                          <TableCell>\n                            <Badge variant={product.currentStock <= 5 ? \"destructive\" : \"secondary\"}>\n                              {product.currentStock}\n                            </Badge>\n                          </TableCell>\n                          <TableCell>Rp {product.sellPrice.toLocaleString()}</TableCell>\n                          <TableCell>\n                            <Button\n                              size=\"sm\"\n                              onClick={() => addToCart(product)}\n                              disabled={product.currentStock <= 0}\n                            >\n                              <Plus className=\"h-4 w-4\" />\n                            </Button>\n                          </TableCell>\n                        </TableRow>\n                      ))}\n                    </TableBody>\n                  </Table>\n                </div>\n              )}\n            </CardContent>\n          </Card>\n        </div>\n\n        {/* Right Column - Shopping Cart */}\n        <div className=\"space-y-6\">\n          <Card>\n            <CardHeader>\n              <CardTitle className=\"flex items-center justify-between\">\n                <div className=\"flex items-center gap-2\">\n                  <ShoppingCart className=\"h-5 w-5\" />\n                  Keranjang ({cart.length})\n                </div>\n                {cart.length > 0 && (\n                  <Button variant=\"outline\" size=\"sm\" onClick={clearCart}>\n                    <Trash2 className=\"h-4 w-4\" />\n                  </Button>\n                )}\n              </CardTitle>\n            </CardHeader>\n            <CardContent>\n              {cart.length === 0 ? (\n                <div className=\"text-center py-8 text-gray-500\">\n                  Keranjang kosong\n                </div>\n              ) : (\n                <div className=\"space-y-4\">\n                  {cart.map((item) => {\n                    const itemSubtotal = item.price * item.quantity\n                    const itemDiscount = calculateItemDiscount(item)\n                    const itemTotal = itemSubtotal - itemDiscount\n\n                    return (\n                      <div key={item.barcode} className=\"p-3 border rounded space-y-2\">\n                        <div className=\"flex items-start justify-between\">\n                          <div className=\"flex-1\">\n                            <h4 className=\"font-medium text-sm\">{item.name}</h4>\n                            <p className=\"text-xs text-gray-500\">{item.barcode}</p>\n                            <p className=\"text-sm\">Rp {item.price.toLocaleString()} x {item.quantity}</p>\n                            {item.discount > 0 && (\n                              <p className=\"text-xs text-red-600\">\n                                Diskon: {item.discountType === 'percentage' ? `${item.discount}%` : `Rp ${item.discount.toLocaleString()}`}\n                                {' '}(-Rp {itemDiscount.toLocaleString()})\n                              </p>\n                            )}\n                            <p className=\"text-sm font-bold\">Total: Rp {itemTotal.toLocaleString()}</p>\n                          </div>\n                        </div>\n\n                        <div className=\"flex items-center justify-between\">\n                          <div className=\"flex items-center gap-1\">\n                            <Button\n                              size=\"sm\"\n                              variant=\"outline\"\n                              onClick={() => updateQuantity(item.barcode, item.quantity - 1)}\n                            >\n                              <Minus className=\"h-3 w-3\" />\n                            </Button>\n                            <span className=\"w-8 text-center text-sm\">{item.quantity}</span>\n                            <Button\n                              size=\"sm\"\n                              variant=\"outline\"\n                              onClick={() => updateQuantity(item.barcode, item.quantity + 1)}\n                            >\n                              <Plus className=\"h-3 w-3\" />\n                            </Button>\n                          </div>\n\n                          <div className=\"flex items-center gap-1\">\n                            <Button\n                              size=\"sm\"\n                              variant=\"outline\"\n                              onClick={() => openDiscountDialog(item)}\n                              title=\"Diskon\"\n                            >\n                              %\n                            </Button>\n                            <Button\n                              size=\"sm\"\n                              variant=\"destructive\"\n                              onClick={() => removeFromCart(item.barcode)}\n                            >\n                              <Trash2 className=\"h-3 w-3\" />\n                            </Button>\n                          </div>\n                        </div>\n                      </div>\n                    )\n                  })}\n                </div>\n              )}\n            </CardContent>\n          </Card>\n\n          {/* Total & Payment */}\n          {cart.length > 0 && (\n            <Card>\n              <CardHeader>\n                <CardTitle>Total Pembayaran</CardTitle>\n              </CardHeader>\n              <CardContent className=\"space-y-4\">\n                <div className=\"space-y-2\">\n                  <div className=\"flex justify-between\">\n                    <span>Subtotal:</span>\n                    <span>Rp {calculateSubtotal().toLocaleString()}</span>\n                  </div>\n                  {calculateTotalDiscount() > 0 && (\n                    <div className=\"flex justify-between text-red-600\">\n                      <span>Diskon:</span>\n                      <span>-Rp {calculateTotalDiscount().toLocaleString()}</span>\n                    </div>\n                  )}\n                  <div className=\"flex justify-between font-bold text-lg border-t pt-2\">\n                    <span>Total:</span>\n                    <span>Rp {calculateTotal().toLocaleString()}</span>\n                  </div>\n                </div>\n                <Button\n                  className=\"w-full\"\n                  onClick={() => setShowPaymentDialog(true)}\n                  disabled={cart.length === 0}\n                >\n                  <CreditCard className=\"h-4 w-4 mr-2\" />\n                  Proses Pembayaran\n                </Button>\n              </CardContent>\n            </Card>\n          )}\n        </div>\n      </div>\n\n      {/* Payment Dialog */}\n      <Dialog open={showPaymentDialog} onOpenChange={setShowPaymentDialog}>\n        <DialogContent className=\"max-w-md\">\n          <DialogHeader>\n            <DialogTitle>Proses Pembayaran</DialogTitle>\n          </DialogHeader>\n          <div className=\"space-y-4\">\n            <div className=\"p-4 bg-gray-50 rounded\">\n              <div className=\"flex justify-between font-bold text-lg\">\n                <span>Total Bayar:</span>\n                <span>Rp {calculateTotal().toLocaleString()}</span>\n              </div>\n            </div>\n\n            <div className=\"space-y-4\">\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"paymentMethod\">Metode Pembayaran</Label>\n                <Select value={paymentMethod} onValueChange={setPaymentMethod}>\n                  <SelectTrigger>\n                    <SelectValue />\n                  </SelectTrigger>\n                  <SelectContent>\n                    <SelectItem value=\"cash\">Tunai</SelectItem>\n                    <SelectItem value=\"transfer\">Transfer</SelectItem>\n                    <SelectItem value=\"split\">Tunai + Transfer</SelectItem>\n                  </SelectContent>\n                </Select>\n              </div>\n\n              {(paymentMethod === 'cash' || paymentMethod === 'split') && (\n                <div className=\"space-y-2\">\n                  <div className=\"flex items-center justify-between\">\n                    <Label htmlFor=\"cashAmount\">Jumlah Tunai</Label>\n                    {paymentMethod === 'cash' && (\n                      <Button\n                        type=\"button\"\n                        size=\"sm\"\n                        variant=\"outline\"\n                        onClick={() => setAutoAmount('cash')}\n                      >\n                        Pas\n                      </Button>\n                    )}\n                  </div>\n                  <Input\n                    id=\"cashAmount\"\n                    type=\"number\"\n                    value={cashAmount}\n                    onChange={(e) => setCashAmount(parseFloat(e.target.value) || 0)}\n                    placeholder=\"0\"\n                  />\n                </div>\n              )}\n\n              {(paymentMethod === 'transfer' || paymentMethod === 'split') && (\n                <>\n                  <div className=\"space-y-2\">\n                    <div className=\"flex items-center justify-between\">\n                      <Label htmlFor=\"transferAmount\">Jumlah Transfer</Label>\n                      {paymentMethod === 'transfer' && (\n                        <Button\n                          type=\"button\"\n                          size=\"sm\"\n                          variant=\"outline\"\n                          onClick={() => setAutoAmount('transfer')}\n                        >\n                          Pas\n                        </Button>\n                      )}\n                    </div>\n                    <Input\n                      id=\"transferAmount\"\n                      type=\"number\"\n                      value={transferAmount}\n                      onChange={(e) => setTransferAmount(parseFloat(e.target.value) || 0)}\n                      placeholder=\"0\"\n                    />\n                  </div>\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"bankName\">Nama Bank</Label>\n                    <Input\n                      id=\"bankName\"\n                      value={bankName}\n                      onChange={(e) => setBankName(e.target.value)}\n                      placeholder=\"Contoh: BCA, Mandiri, BRI\"\n                    />\n                  </div>\n                </>\n              )}\n\n              {(cashAmount + transferAmount) > calculateTotal() && (\n                <div className=\"p-3 bg-green-50 border border-green-200 rounded\">\n                  <div className=\"flex justify-between\">\n                    <span>Kembalian:</span>\n                    <span className=\"font-bold\">Rp {((cashAmount + transferAmount) - calculateTotal()).toLocaleString()}</span>\n                  </div>\n                </div>\n              )}\n            </div>\n\n            <div className=\"flex gap-2\">\n              <Button variant=\"outline\" onClick={() => setShowPaymentDialog(false)} className=\"flex-1\">\n                Batal\n              </Button>\n              <Button\n                onClick={processPayment}\n                disabled={isProcessingPayment || (cashAmount + transferAmount) < calculateTotal()}\n                className=\"flex-1\"\n              >\n                {isProcessingPayment ? 'Memproses...' : 'Bayar'}\n              </Button>\n            </div>\n          </div>\n        </DialogContent>\n      </Dialog>\n\n      {/* Discount Dialog */}\n      <Dialog open={showDiscountDialog} onOpenChange={setShowDiscountDialog}>\n        <DialogContent className=\"max-w-md\">\n          <DialogHeader>\n            <DialogTitle>Atur Diskon</DialogTitle>\n          </DialogHeader>\n          {discountItem && (\n            <div className=\"space-y-4\">\n              <div>\n                <p className=\"font-medium\">{discountItem.name}</p>\n                <p className=\"text-sm text-gray-600\">Harga: Rp {discountItem.price.toLocaleString()}</p>\n                <p className=\"text-sm text-gray-600\">Quantity: {discountItem.quantity}</p>\n                <p className=\"text-sm text-gray-600\">Subtotal: Rp {(discountItem.price * discountItem.quantity).toLocaleString()}</p>\n              </div>\n\n              <div className=\"space-y-2\">\n                <Label>Jenis Diskon</Label>\n                <Select value={discountType} onValueChange={(value: 'percentage' | 'amount') => setDiscountType(value)}>\n                  <SelectTrigger>\n                    <SelectValue />\n                  </SelectTrigger>\n                  <SelectContent>\n                    <SelectItem value=\"percentage\">Persentase (%)</SelectItem>\n                    <SelectItem value=\"amount\">Nominal (Rp)</SelectItem>\n                  </SelectContent>\n                </Select>\n              </div>\n\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"discountValue\">\n                  Nilai Diskon {discountType === 'percentage' ? '(%)' : '(Rp)'}\n                </Label>\n                <Input\n                  id=\"discountValue\"\n                  type=\"number\"\n                  value={discountValue}\n                  onChange={(e) => setDiscountValue(parseFloat(e.target.value) || 0)}\n                  placeholder=\"0\"\n                  min=\"0\"\n                  max={discountType === 'percentage' ? 100 : discountItem.price * discountItem.quantity}\n                />\n              </div>\n\n              {discountValue > 0 && (\n                <div className=\"p-3 bg-blue-50 border border-blue-200 rounded\">\n                  <p className=\"text-sm\">\n                    Diskon: {discountType === 'percentage'\n                      ? `${discountValue}% = Rp ${((discountItem.price * discountItem.quantity * discountValue) / 100).toLocaleString()}`\n                      : `Rp ${discountValue.toLocaleString()}`\n                    }\n                  </p>\n                  <p className=\"text-sm font-bold\">\n                    Total setelah diskon: Rp {(\n                      (discountItem.price * discountItem.quantity) -\n                      (discountType === 'percentage'\n                        ? (discountItem.price * discountItem.quantity * discountValue) / 100\n                        : discountValue\n                      )\n                    ).toLocaleString()}\n                  </p>\n                </div>\n              )}\n\n              <div className=\"flex gap-2\">\n                <Button variant=\"outline\" onClick={() => setShowDiscountDialog(false)} className=\"flex-1\">\n                  Batal\n                </Button>\n                <Button onClick={applyDiscount} className=\"flex-1\">\n                  Terapkan Diskon\n                </Button>\n              </div>\n            </div>\n          )}\n        </DialogContent>\n      </Dialog>\n\n      {/* Receipt Dialog */}\n      <Dialog open={showReceiptDialog} onOpenChange={setShowReceiptDialog}>\n        <DialogContent className=\"max-w-md\">\n          <DialogHeader>\n            <DialogTitle>Transaksi Berhasil</DialogTitle>\n          </DialogHeader>\n          <div className=\"space-y-4\">\n            <div className=\"text-center\">\n              <div className=\"text-green-600 text-lg font-bold\">âœ“ Pembayaran Berhasil</div>\n              {lastTransaction && (\n                <p className=\"text-sm text-gray-600\">Kode Transaksi: {lastTransaction.code}</p>\n              )}\n            </div>\n\n            <div className=\"flex gap-2\">\n              <Button variant=\"outline\" onClick={() => setShowReceiptDialog(false)} className=\"flex-1\">\n                Tutup\n              </Button>\n              <Button onClick={printReceipt} className=\"flex-1\">\n                <Printer className=\"h-4 w-4 mr-2\" />\n                Cetak Struk\n              </Button>\n            </div>\n          </div>\n        </DialogContent>\n      </Dialog>\n    </div>\n  )\n}","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [['path', { d: 'M5 12h14', key: '1ays0h' }]];\n\n/**\n * @component @name Minus\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNSAxMmgxNCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/minus\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Minus = createLucideIcon('minus', __iconNode);\n\nexport default Minus;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['rect', { width: '20', height: '14', x: '2', y: '5', rx: '2', key: 'ynyp8z' }],\n  ['line', { x1: '2', x2: '22', y1: '10', y2: '10', key: '1b3vmo' }],\n];\n\n/**\n * @component @name CreditCard\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cmVjdCB3aWR0aD0iMjAiIGhlaWdodD0iMTQiIHg9IjIiIHk9IjUiIHJ4PSIyIiAvPgogIDxsaW5lIHgxPSIyIiB4Mj0iMjIiIHkxPSIxMCIgeTI9IjEwIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/credit-card\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst CreditCard = createLucideIcon('credit-card', __iconNode);\n\nexport default CreditCard;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M3 7V5a2 2 0 0 1 2-2h2', key: 'aa7l1z' }],\n  ['path', { d: 'M17 3h2a2 2 0 0 1 2 2v2', key: '4qcy5o' }],\n  ['path', { d: 'M21 17v2a2 2 0 0 1-2 2h-2', key: '6vwrx8' }],\n  ['path', { d: 'M7 21H5a2 2 0 0 1-2-2v-2', key: 'ioqczr' }],\n];\n\n/**\n * @component @name Scan\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMyA3VjVhMiAyIDAgMCAxIDItMmgyIiAvPgogIDxwYXRoIGQ9Ik0xNyAzaDJhMiAyIDAgMCAxIDIgMnYyIiAvPgogIDxwYXRoIGQ9Ik0yMSAxN3YyYTIgMiAwIDAgMS0yIDJoLTIiIC8+CiAgPHBhdGggZD0iTTcgMjFINWEyIDIgMCAwIDEtMi0ydi0yIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/scan\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Scan = createLucideIcon('scan', __iconNode);\n\nexport default Scan;\n"],"names":[],"mappings":"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","ignoreList":[1,2,3]}