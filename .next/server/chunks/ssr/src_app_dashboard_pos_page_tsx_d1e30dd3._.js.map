{"version":3,"sources":["turbopack:///[project]/src/app/dashboard/pos/page.tsx","turbopack:///[project]/node_modules/lucide-react/src/icons/minus.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/credit-card.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/scan.ts"],"sourcesContent":["'use client'\r\n\r\nimport { useState, useEffect } from 'react'\r\nimport { useAuth } from '@/components/providers/session-provider'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from '@/components/ui/table'\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from '@/components/ui/dialog'\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select'\r\nimport { Label } from '@/components/ui/label'\r\nimport { Badge } from '@/components/ui/badge'\r\nimport { Trash2, Plus, Minus, ShoppingCart, Scan, Package, CreditCard, Banknote, Printer, Percent } from 'lucide-react'\r\n\r\ninterface Product {\r\n  id: string\r\n  barcode: string\r\n  name: string\r\n  category: string\r\n  currentStock: number\r\n  sellPrice: number\r\n}\r\n\r\ninterface CartItem {\r\n  id: string\r\n  barcode: string\r\n  name: string\r\n  price: number\r\n  quantity: number\r\n  discount: number\r\n  discountType: 'percentage' | 'amount'\r\n}\r\n\r\nexport default function POSPage() {\r\n  const { user } = useAuth()\r\n  const [barcode, setBarcode] = useState('')\r\n  const [cart, setCart] = useState<CartItem[]>([])\r\n  const [products, setProducts] = useState<Product[]>([])\r\n  const [isProcessingPayment, setIsProcessingPayment] = useState(false)\r\n  const [showPaymentDialog, setShowPaymentDialog] = useState(false)\r\n  const [paymentMethod, setPaymentMethod] = useState('cash')\r\n  const [cashAmount, setCashAmount] = useState(0)\r\n  const [transferAmount, setTransferAmount] = useState(0)\r\n  const [bankName, setBankName] = useState('')\r\n  const [lastTransaction, setLastTransaction] = useState<any>(null)\r\n  const [showReceiptDialog, setShowReceiptDialog] = useState(false)\r\n  const [showDiscountDialog, setShowDiscountDialog] = useState(false)\r\n  const [discountItem, setDiscountItem] = useState<CartItem | null>(null)\r\n  const [discountValue, setDiscountValue] = useState(0)\r\n  const [discountType, setDiscountType] = useState<'percentage' | 'amount'>('percentage')\r\n  const [storeSettings, setStoreSettings] = useState<any>(null)\r\n\r\n  useEffect(() => {\r\n    fetchProducts()\r\n    fetchStoreSettings()\r\n  }, [])\r\n\r\n  const fetchStoreSettings = async () => {\r\n    try {\r\n      const response = await fetch('/api/settings/public')\r\n      if (response.ok) {\r\n        const data = await response.json()\r\n        setStoreSettings(data)\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching store settings:', error)\r\n    }\r\n  }\r\n\r\n  const fetchProducts = async () => {\r\n    try {\r\n      const response = await fetch('/api/products', {\r\n        credentials: 'include'\r\n      })\r\n      if (response.ok) {\r\n        const data = await response.json()\r\n        setProducts(Array.isArray(data) ? data.slice(0, 10) : []) // Show first 10 products\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching products:', error)\r\n      setProducts([])\r\n    }\r\n  }\r\n\r\n  const addToCart = (product: Product) => {\r\n    if (product.currentStock <= 0) {\r\n      alert('Stok produk habis!')\r\n      return\r\n    }\r\n\r\n    const existingItem = cart.find(item => item.barcode === product.barcode)\r\n\r\n    if (existingItem) {\r\n      if (existingItem.quantity >= product.currentStock) {\r\n        alert('Quantity melebihi stok yang tersedia!')\r\n        return\r\n      }\r\n      setCart(cart.map(item =>\r\n        item.barcode === product.barcode\r\n          ? { ...item, quantity: item.quantity + 1 }\r\n          : item\r\n      ))\r\n    } else {\r\n      const newItem: CartItem = {\r\n        id: product.id,\r\n        barcode: product.barcode,\r\n        name: product.name,\r\n        price: product.sellPrice,\r\n        quantity: 1,\r\n        discount: 0,\r\n        discountType: 'percentage'\r\n      }\r\n      setCart([...cart, newItem])\r\n    }\r\n  }\r\n\r\n  const scanBarcode = async () => {\r\n    if (!barcode.trim()) return\r\n\r\n    try {\r\n      const response = await fetch(`/api/products/${barcode}`, {\r\n        credentials: 'include'\r\n      })\r\n\r\n      if (response.ok) {\r\n        const product = await response.json()\r\n        addToCart(product)\r\n        setBarcode('')\r\n      } else {\r\n        alert('Produk tidak ditemukan!')\r\n      }\r\n    } catch (error) {\r\n      console.error('Error scanning barcode:', error)\r\n      alert('Terjadi kesalahan saat scan barcode')\r\n    }\r\n  }\r\n\r\n  const updateQuantity = (barcode: string, newQuantity: number) => {\r\n    if (newQuantity <= 0) {\r\n      removeFromCart(barcode)\r\n      return\r\n    }\r\n\r\n    const product = products.find(p => p.barcode === barcode)\r\n    if (product && newQuantity > product.currentStock) {\r\n      alert('Quantity melebihi stok yang tersedia!')\r\n      return\r\n    }\r\n\r\n    setCart(cart.map(item =>\r\n      item.barcode === barcode\r\n        ? { ...item, quantity: newQuantity }\r\n        : item\r\n    ))\r\n  }\r\n\r\n  const removeFromCart = (barcode: string) => {\r\n    setCart(cart.filter(item => item.barcode !== barcode))\r\n  }\r\n\r\n  const clearCart = () => {\r\n    setCart([])\r\n  }\r\n\r\n  const openDiscountDialog = (item: CartItem) => {\r\n    setDiscountItem(item)\r\n    setDiscountValue(item.discount)\r\n    setDiscountType(item.discountType)\r\n    setShowDiscountDialog(true)\r\n  }\r\n\r\n  const applyDiscount = () => {\r\n    if (!discountItem) return\r\n\r\n    const updatedCart = cart.map(item => {\r\n      if (item.barcode === discountItem.barcode) {\r\n        return {\r\n          ...item,\r\n          discount: discountValue,\r\n          discountType: discountType\r\n        }\r\n      }\r\n      return item\r\n    })\r\n\r\n    setCart(updatedCart)\r\n    setShowDiscountDialog(false)\r\n    setDiscountItem(null)\r\n    setDiscountValue(0)\r\n  }\r\n\r\n  const calculateItemDiscount = (item: CartItem) => {\r\n    const subtotal = item.price * item.quantity\r\n    if (item.discountType === 'percentage') {\r\n      return (subtotal * item.discount) / 100\r\n    } else {\r\n      return item.discount\r\n    }\r\n  }\r\n\r\n  const calculateTotal = () => {\r\n    return cart.reduce((total, item) => {\r\n      const subtotal = item.price * item.quantity\r\n      const discount = calculateItemDiscount(item)\r\n      return total + subtotal - discount\r\n    }, 0)\r\n  }\r\n\r\n  const calculateSubtotal = () => {\r\n    return cart.reduce((total, item) => total + (item.price * item.quantity), 0)\r\n  }\r\n\r\n  const calculateTotalDiscount = () => {\r\n    return cart.reduce((total, item) => total + calculateItemDiscount(item), 0)\r\n  }\r\n\r\n  const setAutoAmount = (method: string) => {\r\n    const total = calculateTotal()\r\n    if (method === 'cash') {\r\n      setCashAmount(total)\r\n      setTransferAmount(0)\r\n    } else if (method === 'transfer') {\r\n      setTransferAmount(total)\r\n      setCashAmount(0)\r\n    }\r\n  }\r\n\r\n  const processPayment = async () => {\r\n    if (cart.length === 0) {\r\n      alert('Keranjang kosong!')\r\n      return\r\n    }\r\n\r\n    const total = calculateTotal()\r\n    const totalPaid = cashAmount + transferAmount\r\n\r\n    if (totalPaid < total) {\r\n      alert('Jumlah pembayaran kurang!')\r\n      return\r\n    }\r\n\r\n    setIsProcessingPayment(true)\r\n\r\n    try {\r\n      const transactionData = {\r\n        items: cart.map(item => ({\r\n          barcode: item.barcode,\r\n          name: item.name,\r\n          quantity: item.quantity,\r\n          price: item.price,\r\n          discount: item.discount,\r\n          discountPercent: item.discountType === 'percentage' ? item.discount : 0,\r\n          discountAmount: calculateItemDiscount(item)\r\n        })),\r\n        cashAmount,\r\n        transferAmount,\r\n        bankName: transferAmount > 0 ? bankName : null\r\n      }\r\n\r\n      const response = await fetch('/api/transactions', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(transactionData),\r\n        credentials: 'include'\r\n      })\r\n\r\n      if (response.ok) {\r\n        const transaction = await response.json()\r\n        // Simpan data untuk struk sebelum clear cart\r\n        const receiptData = {\r\n          ...transaction,\r\n          items: cart,\r\n          cashAmount,\r\n          transferAmount,\r\n          user: user\r\n        }\r\n        setLastTransaction(receiptData)\r\n        setShowPaymentDialog(false)\r\n        setShowReceiptDialog(true)\r\n        clearCart()\r\n        setCashAmount(0)\r\n        setTransferAmount(0)\r\n        setBankName('')\r\n        alert('Transaksi berhasil!')\r\n      } else {\r\n        const errorData = await response.json()\r\n        alert(`Gagal memproses transaksi: ${errorData.error || 'Unknown error'}`)\r\n      }\r\n    } catch (error) {\r\n      console.error('Error processing payment:', error)\r\n      alert('Terjadi kesalahan saat memproses pembayaran')\r\n    } finally {\r\n      setIsProcessingPayment(false)\r\n    }\r\n  }\r\n\r\n  const printReceipt = () => {\r\n    if (!lastTransaction) return\r\n\r\n    const printWindow = window.open('', '_blank')\r\n    if (!printWindow) return\r\n\r\n    const receiptContent = `\r\n      <!DOCTYPE html>\r\n      <html>\r\n      <head>\r\n        <title>Struk Transaksi - ${lastTransaction.code}</title>\r\n        <style>\r\n          @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap');\r\n          \r\n          /* Thermal printer specific CSS */\r\n          @media print {\r\n            @page {\r\n              size: 58mm auto;\r\n              margin: 0;\r\n            }\r\n            \r\n            body {\r\n              margin: 0 !important;\r\n              padding: 0 !important;\r\n            }\r\n            \r\n            .receipt {\r\n              width: 100% !important;\r\n            }\r\n          }\r\n          \r\n          * {\r\n            margin: 0;\r\n            padding: 0;\r\n            box-sizing: border-box;\r\n          }\r\n          body { \r\n            font-family: 'Roboto', sans-serif; \r\n            font-size: 12px; \r\n            margin: 0; \r\n            padding: 0; \r\n            line-height: 1.2;\r\n            width: 100%;\r\n          }\r\n          .receipt { \r\n            width: 100%; \r\n            max-width: 180px; \r\n            margin: 0; \r\n            padding: 2px;\r\n          }\r\n          \r\n          /* Thermal 80mm Support */\r\n          @media print and (min-width: 80mm) {\r\n            .receipt { \r\n              max-width: 260px !important; /* 68.8mm - optimal untuk 80mm */\r\n              padding: 3px !important;\r\n            }\r\n            body {\r\n              font-size: 13px !important;\r\n            }\r\n            .header h2 {\r\n              font-size: 18px !important;\r\n            }\r\n            .header p {\r\n              font-size: 12px !important;\r\n            }\r\n            .item {\r\n              font-size: 12px !important;\r\n            }\r\n          }\r\n          \r\n          /* Alternative: Manual 80mm class */\r\n          .receipt-80mm { \r\n            max-width: 260px !important;\r\n            padding: 3px !important;\r\n          }\r\n          .receipt-80mm body {\r\n            font-size: 13px !important;\r\n          }\r\n          .receipt-80mm .header h2 {\r\n            font-size: 18px !important;\r\n          }\r\n          .receipt-80mm .header p {\r\n            font-size: 12px !important;\r\n          }\r\n          .receipt-80mm .item {\r\n            font-size: 12px !important;\r\n          }\r\n          .header { \r\n            text-align: center; \r\n            border-bottom: 1px dashed #000; \r\n            padding-bottom: 8px; \r\n            margin-bottom: 8px; \r\n          }\r\n          .header h2 { \r\n            margin: 0 0 2px 0; \r\n            font-weight: 700; \r\n            font-size: 16px; \r\n          }\r\n          .header p { \r\n            margin: 1px 0; \r\n            font-size: 11px; \r\n            font-weight: 400; \r\n          }\r\n          .item { \r\n            display: flex; \r\n            justify-content: space-between; \r\n            margin: 2px 0; \r\n            font-weight: 400; \r\n          }\r\n          .total { \r\n            border-top: 1px dashed #000; \r\n            padding-top: 8px; \r\n            margin-top: 8px; \r\n          }\r\n          .footer { \r\n            text-align: center; \r\n            margin-top: 15px; \r\n            font-size: 10px; \r\n            font-weight: 300; \r\n          }\r\n          .footer p { \r\n            margin: 2px 0; \r\n          }\r\n          \r\n          @media print {\r\n            * {\r\n              margin: 0 !important;\r\n              padding: 0 !important;\r\n            }\r\n            body { \r\n              margin: 0 !important; \r\n              padding: 0 !important; \r\n              width: auto !important;\r\n              font-size: 11px !important;\r\n            }\r\n            .receipt { \r\n              width: 100% !important; \r\n              max-width: 180px !important; /* Default 58mm */\r\n              margin: 0 !important; \r\n              padding: 1px !important;\r\n            }\r\n            \r\n            /* Auto-detect 80mm thermal */\r\n            @media print and (min-width: 300px) {\r\n              .receipt { \r\n                max-width: 260px !important; /* 80mm thermal */\r\n                padding: 2px !important;\r\n              }\r\n            }\r\n            .header {\r\n              padding-bottom: 6px !important;\r\n              margin-bottom: 6px !important;\r\n            }\r\n            .header h2 {\r\n              font-size: 14px !important;\r\n              margin: 0 !important;\r\n            }\r\n            .header p {\r\n              font-size: 10px !important;\r\n              margin: 0 !important;\r\n            }\r\n            .item {\r\n              font-size: 10px !important;\r\n              margin: 1px 0 !important;\r\n            }\r\n            .total {\r\n              padding-top: 4px !important;\r\n              margin-top: 4px !important;\r\n            }\r\n            .footer {\r\n              margin-top: 8px !important;\r\n              font-size: 8px !important;\r\n            }\r\n          }\r\n        </style>\r\n      </head>\r\n      <body>\r\n        <div class=\"receipt\">\r\n          <div class=\"header\">\r\n            <h2>${storeSettings?.storeName || 'GITA FASHION'}</h2>\r\n            <p>${storeSettings?.storeAddress || 'Jl. Fashion Street No. 123'}</p>\r\n            <p>Telp: ${storeSettings?.storePhone || '(021) 123-4567'}</p>\r\n            <p>================================</p>\r\n          </div>\r\n          \r\n          <div class=\"transaction-info\">\r\n            <div class=\"item\"><span>No. Transaksi:</span><span>${lastTransaction.code}</span></div>\r\n            <div class=\"item\"><span>Tanggal:</span><span>${new Date().toLocaleString('id-ID')}</span></div>\r\n            <div class=\"item\"><span>Kasir:</span><span>${user?.name || 'Kasir'}</span></div>\r\n            <p>================================</p>\r\n          </div>\r\n\r\n          <div class=\"items\">\r\n            ${(lastTransaction.items || []).map((item: any) => {\r\n      const itemDiscount = item.discountType === 'percentage'\r\n        ? (item.price * item.quantity * item.discount) / 100\r\n        : item.discount\r\n      return `\r\n                <div class=\"item\">\r\n                  <span>${item.name}</span>\r\n                </div>\r\n                <div class=\"item\">\r\n                  <span>${item.quantity} x Rp ${item.price.toLocaleString('id-ID')}</span>\r\n                  <span>Rp ${(item.quantity * item.price).toLocaleString('id-ID')}</span>\r\n                </div>\r\n                ${item.discount > 0 ? `<div class=\"item\"><span>Diskon ${item.discountType === 'percentage' ? item.discount + '%' : 'Rp ' + item.discount.toLocaleString('id-ID')}:</span><span>-Rp ${itemDiscount.toLocaleString('id-ID')}</span></div>` : ''}\r\n              `\r\n    }).join('')}\r\n          </div>\r\n\r\n          <div class=\"total\">\r\n            ${(() => {\r\n        const items = lastTransaction.items || []\r\n        const subtotal = items.reduce((sum: number, item: any) => sum + (item.price * item.quantity), 0)\r\n        const totalDiscount = items.reduce((sum: number, item: any) => {\r\n          const discount = item.discountType === 'percentage'\r\n            ? (item.price * item.quantity * item.discount) / 100\r\n            : item.discount\r\n          return sum + discount\r\n        }, 0)\r\n        const total = subtotal - totalDiscount\r\n        const cash = lastTransaction.cashAmount || 0\r\n        const transfer = lastTransaction.transferAmount || 0\r\n        const kembalian = Math.max(0, (cash + transfer) - total)\r\n\r\n        return `\r\n                <div class=\"item\"><span>Subtotal:</span><span>Rp ${subtotal.toLocaleString('id-ID')}</span></div>\r\n                ${totalDiscount > 0 ? `<div class=\"item\"><span>Total Diskon:</span><span>-Rp ${totalDiscount.toLocaleString('id-ID')}</span></div>` : ''}\r\n                <div class=\"item\"><strong><span>TOTAL:</span><span>Rp ${total.toLocaleString('id-ID')}</span></strong></div>\r\n                <p>================================</p>\r\n                ${cash > 0 ? `<div class=\"item\"><span>Tunai:</span><span>Rp ${cash.toLocaleString('id-ID')}</span></div>` : ''}\r\n                ${transfer > 0 ? `<div class=\"item\"><span>Transfer:</span><span>Rp ${transfer.toLocaleString('id-ID')}</span></div>` : ''}\r\n                <div class=\"item\"><span>Kembalian:</span><span>Rp ${kembalian.toLocaleString('id-ID')}</span></div>\r\n              `\r\n      })()}\r\n          </div>\r\n\r\n          <div class=\"footer\">\r\n            <p>${storeSettings?.footerText || 'Terima kasih atas kunjungan Anda!'}</p>\r\n            <p>Barang yang sudah dibeli tidak dapat dikembalikan</p>\r\n            <p>${new Date().toLocaleString('id-ID')}</p>\r\n          </div>\r\n        </div>\r\n      </body>\r\n      \r\n      <script>\r\n        // Simple print control - content starts from top\r\n        window.addEventListener('afterprint', function() {\r\n          console.log('Print completed - closing window');\r\n          setTimeout(() => window.close(), 500);\r\n        });\r\n        \r\n        // Auto print after short delay\r\n        setTimeout(() => {\r\n          window.print();\r\n        }, 1000);\r\n        \r\n        // Add paper cut spacing at the end\r\n        document.addEventListener('DOMContentLoaded', function() {\r\n          const receipt = document.querySelector('.receipt');\r\n          if (receipt) {\r\n            const spacer = document.createElement('div');\r\n            spacer.style.height = '10mm';\r\n            spacer.style.width = '100%';\r\n            receipt.appendChild(spacer);\r\n          }\r\n        });\r\n      </script>\r\n      </html>\r\n    `\r\n\r\n    // Safe approach for setting print content\r\n    printWindow.document.open()\r\n    printWindow.document.write(receiptContent)\r\n    printWindow.document.close()\r\n    \r\n    // Print will be handled by the script in the HTML\r\n  }\r\n\r\n  return (\r\n    <div className=\"p-6\">\r\n      <div className=\"mb-6\">\r\n        <h1 className=\"text-2xl font-bold text-gray-900\">Point of Sale</h1>\r\n        <p className=\"text-gray-600\">Sistem kasir Gita Fashion</p>\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\r\n        {/* Left Column - Product Scanner & Popular Products */}\r\n        <div className=\"lg:col-span-2 space-y-6\">\r\n          {/* Barcode Scanner */}\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle className=\"flex items-center gap-2\">\r\n                <Scan className=\"h-5 w-5\" />\r\n                Scanner Barcode\r\n              </CardTitle>\r\n            </CardHeader>\r\n            <CardContent>\r\n              <div className=\"flex gap-2\">\r\n                <Input\r\n                  placeholder=\"Scan atau ketik barcode produk...\"\r\n                  value={barcode}\r\n                  onChange={(e) => setBarcode(e.target.value)}\r\n                  onKeyPress={(e) => e.key === 'Enter' && scanBarcode()}\r\n                  className=\"flex-1\"\r\n                />\r\n                <Button onClick={scanBarcode}>\r\n                  <Scan className=\"h-4 w-4\" />\r\n                </Button>\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n\r\n          {/* Popular Products Table */}\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle className=\"flex items-center gap-2\">\r\n                <Package className=\"h-5 w-5\" />\r\n                Produk Populer\r\n              </CardTitle>\r\n            </CardHeader>\r\n            <CardContent>\r\n              {products.length === 0 ? (\r\n                <div className=\"text-center py-8 text-gray-500\">\r\n                  Tidak ada produk tersedia\r\n                </div>\r\n              ) : (\r\n                <div className=\"overflow-x-auto\">\r\n                  <Table>\r\n                    <TableHeader>\r\n                      <TableRow>\r\n                        <TableHead>Barcode</TableHead>\r\n                        <TableHead>Nama Produk</TableHead>\r\n                        <TableHead>Kategori</TableHead>\r\n                        <TableHead>Stok</TableHead>\r\n                        <TableHead>Harga</TableHead>\r\n                        <TableHead>Aksi</TableHead>\r\n                      </TableRow>\r\n                    </TableHeader>\r\n                    <TableBody>\r\n                      {products.map((product) => (\r\n                        <TableRow key={product.id}>\r\n                          <TableCell className=\"font-mono text-sm\">{product.barcode}</TableCell>\r\n                          <TableCell className=\"font-medium\">{product.name}</TableCell>\r\n                          <TableCell>{product.category}</TableCell>\r\n                          <TableCell>\r\n                            <Badge variant={product.currentStock <= 5 ? \"destructive\" : \"secondary\"}>\r\n                              {product.currentStock}\r\n                            </Badge>\r\n                          </TableCell>\r\n                          <TableCell>Rp {product.sellPrice.toLocaleString()}</TableCell>\r\n                          <TableCell>\r\n                            <Button\r\n                              size=\"sm\"\r\n                              onClick={() => addToCart(product)}\r\n                              disabled={product.currentStock <= 0}\r\n                            >\r\n                              <Plus className=\"h-4 w-4\" />\r\n                            </Button>\r\n                          </TableCell>\r\n                        </TableRow>\r\n                      ))}\r\n                    </TableBody>\r\n                  </Table>\r\n                </div>\r\n              )}\r\n            </CardContent>\r\n          </Card>\r\n        </div>\r\n\r\n        {/* Right Column - Shopping Cart */}\r\n        <div className=\"space-y-6\">\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle className=\"flex items-center justify-between\">\r\n                <div className=\"flex items-center gap-2\">\r\n                  <ShoppingCart className=\"h-5 w-5\" />\r\n                  Keranjang ({cart.length})\r\n                </div>\r\n                {cart.length > 0 && (\r\n                  <Button variant=\"outline\" size=\"sm\" onClick={clearCart}>\r\n                    <Trash2 className=\"h-4 w-4\" />\r\n                  </Button>\r\n                )}\r\n              </CardTitle>\r\n            </CardHeader>\r\n            <CardContent>\r\n              {cart.length === 0 ? (\r\n                <div className=\"text-center py-8 text-gray-500\">\r\n                  Keranjang kosong\r\n                </div>\r\n              ) : (\r\n                <div className=\"space-y-4\">\r\n                  {cart.map((item) => {\r\n                    const itemSubtotal = item.price * item.quantity\r\n                    const itemDiscount = calculateItemDiscount(item)\r\n                    const itemTotal = itemSubtotal - itemDiscount\r\n\r\n                    return (\r\n                      <div key={item.barcode} className=\"p-3 border rounded space-y-2\">\r\n                        <div className=\"flex items-start justify-between\">\r\n                          <div className=\"flex-1\">\r\n                            <h4 className=\"font-medium text-sm\">{item.name}</h4>\r\n                            <p className=\"text-xs text-gray-500\">{item.barcode}</p>\r\n                            <p className=\"text-sm\">Rp {item.price.toLocaleString()} x {item.quantity}</p>\r\n                            {item.discount > 0 && (\r\n                              <p className=\"text-xs text-red-600\">\r\n                                Diskon: {item.discountType === 'percentage' ? `${item.discount}%` : `Rp ${item.discount.toLocaleString()}`}\r\n                                {' '}(-Rp {itemDiscount.toLocaleString()})\r\n                              </p>\r\n                            )}\r\n                            <p className=\"text-sm font-bold\">Total: Rp {itemTotal.toLocaleString()}</p>\r\n                          </div>\r\n                        </div>\r\n\r\n                        <div className=\"flex items-center justify-between\">\r\n                          <div className=\"flex items-center gap-1\">\r\n                            <Button\r\n                              size=\"sm\"\r\n                              variant=\"outline\"\r\n                              onClick={() => updateQuantity(item.barcode, item.quantity - 1)}\r\n                            >\r\n                              <Minus className=\"h-3 w-3\" />\r\n                            </Button>\r\n                            <span className=\"w-8 text-center text-sm\">{item.quantity}</span>\r\n                            <Button\r\n                              size=\"sm\"\r\n                              variant=\"outline\"\r\n                              onClick={() => updateQuantity(item.barcode, item.quantity + 1)}\r\n                            >\r\n                              <Plus className=\"h-3 w-3\" />\r\n                            </Button>\r\n                          </div>\r\n\r\n                          <div className=\"flex items-center gap-1\">\r\n                            <Button\r\n                              size=\"sm\"\r\n                              variant=\"outline\"\r\n                              onClick={() => openDiscountDialog(item)}\r\n                              title=\"Diskon\"\r\n                            >\r\n                              %\r\n                            </Button>\r\n                            <Button\r\n                              size=\"sm\"\r\n                              variant=\"destructive\"\r\n                              onClick={() => removeFromCart(item.barcode)}\r\n                            >\r\n                              <Trash2 className=\"h-3 w-3\" />\r\n                            </Button>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    )\r\n                  })}\r\n                </div>\r\n              )}\r\n            </CardContent>\r\n          </Card>\r\n\r\n          {/* Total & Payment */}\r\n          {cart.length > 0 && (\r\n            <Card>\r\n              <CardHeader>\r\n                <CardTitle>Total Pembayaran</CardTitle>\r\n              </CardHeader>\r\n              <CardContent className=\"space-y-4\">\r\n                <div className=\"space-y-2\">\r\n                  <div className=\"flex justify-between\">\r\n                    <span>Subtotal:</span>\r\n                    <span>Rp {calculateSubtotal().toLocaleString()}</span>\r\n                  </div>\r\n                  {calculateTotalDiscount() > 0 && (\r\n                    <div className=\"flex justify-between text-red-600\">\r\n                      <span>Diskon:</span>\r\n                      <span>-Rp {calculateTotalDiscount().toLocaleString()}</span>\r\n                    </div>\r\n                  )}\r\n                  <div className=\"flex justify-between font-bold text-lg border-t pt-2\">\r\n                    <span>Total:</span>\r\n                    <span>Rp {calculateTotal().toLocaleString()}</span>\r\n                  </div>\r\n                </div>\r\n                <Button\r\n                  className=\"w-full\"\r\n                  onClick={() => setShowPaymentDialog(true)}\r\n                  disabled={cart.length === 0}\r\n                >\r\n                  <CreditCard className=\"h-4 w-4 mr-2\" />\r\n                  Proses Pembayaran\r\n                </Button>\r\n              </CardContent>\r\n            </Card>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Payment Dialog */}\r\n      <Dialog open={showPaymentDialog} onOpenChange={setShowPaymentDialog}>\r\n        <DialogContent className=\"max-w-md\">\r\n          <DialogHeader>\r\n            <DialogTitle>Proses Pembayaran</DialogTitle>\r\n          </DialogHeader>\r\n          <div className=\"space-y-4\">\r\n            <div className=\"p-4 bg-gray-50 rounded\">\r\n              <div className=\"flex justify-between font-bold text-lg\">\r\n                <span>Total Bayar:</span>\r\n                <span>Rp {calculateTotal().toLocaleString()}</span>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"space-y-4\">\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"paymentMethod\">Metode Pembayaran</Label>\r\n                <Select value={paymentMethod} onValueChange={setPaymentMethod}>\r\n                  <SelectTrigger>\r\n                    <SelectValue />\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    <SelectItem value=\"cash\">Tunai</SelectItem>\r\n                    <SelectItem value=\"transfer\">Transfer</SelectItem>\r\n                    <SelectItem value=\"split\">Tunai + Transfer</SelectItem>\r\n                  </SelectContent>\r\n                </Select>\r\n              </div>\r\n\r\n              {(paymentMethod === 'cash' || paymentMethod === 'split') && (\r\n                <div className=\"space-y-2\">\r\n                  <div className=\"flex items-center justify-between\">\r\n                    <Label htmlFor=\"cashAmount\">Jumlah Tunai</Label>\r\n                    {paymentMethod === 'cash' && (\r\n                      <Button\r\n                        type=\"button\"\r\n                        size=\"sm\"\r\n                        variant=\"outline\"\r\n                        onClick={() => setAutoAmount('cash')}\r\n                      >\r\n                        Pas\r\n                      </Button>\r\n                    )}\r\n                  </div>\r\n                  <Input\r\n                    id=\"cashAmount\"\r\n                    type=\"number\"\r\n                    value={cashAmount}\r\n                    onChange={(e) => setCashAmount(parseFloat(e.target.value) || 0)}\r\n                    placeholder=\"0\"\r\n                  />\r\n                </div>\r\n              )}\r\n\r\n              {(paymentMethod === 'transfer' || paymentMethod === 'split') && (\r\n                <>\r\n                  <div className=\"space-y-2\">\r\n                    <div className=\"flex items-center justify-between\">\r\n                      <Label htmlFor=\"transferAmount\">Jumlah Transfer</Label>\r\n                      {paymentMethod === 'transfer' && (\r\n                        <Button\r\n                          type=\"button\"\r\n                          size=\"sm\"\r\n                          variant=\"outline\"\r\n                          onClick={() => setAutoAmount('transfer')}\r\n                        >\r\n                          Pas\r\n                        </Button>\r\n                      )}\r\n                    </div>\r\n                    <Input\r\n                      id=\"transferAmount\"\r\n                      type=\"number\"\r\n                      value={transferAmount}\r\n                      onChange={(e) => setTransferAmount(parseFloat(e.target.value) || 0)}\r\n                      placeholder=\"0\"\r\n                    />\r\n                  </div>\r\n                  <div className=\"space-y-2\">\r\n                    <Label htmlFor=\"bankName\">Nama Bank</Label>\r\n                    <Input\r\n                      id=\"bankName\"\r\n                      value={bankName}\r\n                      onChange={(e) => setBankName(e.target.value)}\r\n                      placeholder=\"Contoh: BCA, Mandiri, BRI\"\r\n                    />\r\n                  </div>\r\n                </>\r\n              )}\r\n\r\n              {(cashAmount + transferAmount) > calculateTotal() && (\r\n                <div className=\"p-3 bg-green-50 border border-green-200 rounded\">\r\n                  <div className=\"flex justify-between\">\r\n                    <span>Kembalian:</span>\r\n                    <span className=\"font-bold\">Rp {((cashAmount + transferAmount) - calculateTotal()).toLocaleString()}</span>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"flex gap-2\">\r\n              <Button variant=\"outline\" onClick={() => setShowPaymentDialog(false)} className=\"flex-1\">\r\n                Batal\r\n              </Button>\r\n              <Button\r\n                onClick={processPayment}\r\n                disabled={isProcessingPayment || (cashAmount + transferAmount) < calculateTotal()}\r\n                className=\"flex-1\"\r\n              >\r\n                {isProcessingPayment ? 'Memproses...' : 'Bayar'}\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </DialogContent>\r\n      </Dialog>\r\n\r\n      {/* Discount Dialog */}\r\n      <Dialog open={showDiscountDialog} onOpenChange={setShowDiscountDialog}>\r\n        <DialogContent className=\"max-w-md\">\r\n          <DialogHeader>\r\n            <DialogTitle>Atur Diskon</DialogTitle>\r\n          </DialogHeader>\r\n          {discountItem && (\r\n            <div className=\"space-y-4\">\r\n              <div>\r\n                <p className=\"font-medium\">{discountItem.name}</p>\r\n                <p className=\"text-sm text-gray-600\">Harga: Rp {discountItem.price.toLocaleString()}</p>\r\n                <p className=\"text-sm text-gray-600\">Quantity: {discountItem.quantity}</p>\r\n                <p className=\"text-sm text-gray-600\">Subtotal: Rp {(discountItem.price * discountItem.quantity).toLocaleString()}</p>\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label>Jenis Diskon</Label>\r\n                <Select value={discountType} onValueChange={(value: 'percentage' | 'amount') => setDiscountType(value)}>\r\n                  <SelectTrigger>\r\n                    <SelectValue />\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    <SelectItem value=\"percentage\">Persentase (%)</SelectItem>\r\n                    <SelectItem value=\"amount\">Nominal (Rp)</SelectItem>\r\n                  </SelectContent>\r\n                </Select>\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"discountValue\">\r\n                  Nilai Diskon {discountType === 'percentage' ? '(%)' : '(Rp)'}\r\n                </Label>\r\n                <Input\r\n                  id=\"discountValue\"\r\n                  type=\"number\"\r\n                  value={discountValue}\r\n                  onChange={(e) => setDiscountValue(parseFloat(e.target.value) || 0)}\r\n                  placeholder=\"0\"\r\n                  min=\"0\"\r\n                  max={discountType === 'percentage' ? 100 : discountItem.price * discountItem.quantity}\r\n                />\r\n              </div>\r\n\r\n              {discountValue > 0 && (\r\n                <div className=\"p-3 bg-blue-50 border border-blue-200 rounded\">\r\n                  <p className=\"text-sm\">\r\n                    Diskon: {discountType === 'percentage'\r\n                      ? `${discountValue}% = Rp ${((discountItem.price * discountItem.quantity * discountValue) / 100).toLocaleString()}`\r\n                      : `Rp ${discountValue.toLocaleString()}`\r\n                    }\r\n                  </p>\r\n                  <p className=\"text-sm font-bold\">\r\n                    Total setelah diskon: Rp {(\r\n                      (discountItem.price * discountItem.quantity) -\r\n                      (discountType === 'percentage'\r\n                        ? (discountItem.price * discountItem.quantity * discountValue) / 100\r\n                        : discountValue\r\n                      )\r\n                    ).toLocaleString()}\r\n                  </p>\r\n                </div>\r\n              )}\r\n\r\n              <div className=\"flex gap-2\">\r\n                <Button variant=\"outline\" onClick={() => setShowDiscountDialog(false)} className=\"flex-1\">\r\n                  Batal\r\n                </Button>\r\n                <Button onClick={applyDiscount} className=\"flex-1\">\r\n                  Terapkan Diskon\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </DialogContent>\r\n      </Dialog>\r\n\r\n      {/* Receipt Dialog */}\r\n      <Dialog open={showReceiptDialog} onOpenChange={setShowReceiptDialog}>\r\n        <DialogContent className=\"max-w-md\">\r\n          <DialogHeader>\r\n            <DialogTitle>Transaksi Berhasil</DialogTitle>\r\n          </DialogHeader>\r\n          <div className=\"space-y-4\">\r\n            <div className=\"text-center\">\r\n              <div className=\"text-green-600 text-lg font-bold\">âœ“ Pembayaran Berhasil</div>\r\n              {lastTransaction && (\r\n                <p className=\"text-sm text-gray-600\">Kode Transaksi: {lastTransaction.code}</p>\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"flex gap-2\">\r\n              <Button variant=\"outline\" onClick={() => setShowReceiptDialog(false)} className=\"flex-1\">\r\n                Tutup\r\n              </Button>\r\n              <Button onClick={printReceipt} className=\"flex-1\">\r\n                <Printer className=\"h-4 w-4 mr-2\" />\r\n                Cetak Struk\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </DialogContent>\r\n      </Dialog>\r\n    </div>\r\n  )\r\n}","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [['path', { d: 'M5 12h14', key: '1ays0h' }]];\n\n/**\n * @component @name Minus\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNSAxMmgxNCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/minus\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Minus = createLucideIcon('minus', __iconNode);\n\nexport default Minus;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['rect', { width: '20', height: '14', x: '2', y: '5', rx: '2', key: 'ynyp8z' }],\n  ['line', { x1: '2', x2: '22', y1: '10', y2: '10', key: '1b3vmo' }],\n];\n\n/**\n * @component @name CreditCard\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cmVjdCB3aWR0aD0iMjAiIGhlaWdodD0iMTQiIHg9IjIiIHk9IjUiIHJ4PSIyIiAvPgogIDxsaW5lIHgxPSIyIiB4Mj0iMjIiIHkxPSIxMCIgeTI9IjEwIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/credit-card\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst CreditCard = createLucideIcon('credit-card', __iconNode);\n\nexport default CreditCard;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M3 7V5a2 2 0 0 1 2-2h2', key: 'aa7l1z' }],\n  ['path', { d: 'M17 3h2a2 2 0 0 1 2 2v2', key: '4qcy5o' }],\n  ['path', { d: 'M21 17v2a2 2 0 0 1-2 2h-2', key: '6vwrx8' }],\n  ['path', { d: 'M7 21H5a2 2 0 0 1-2-2v-2', key: 'ioqczr' }],\n];\n\n/**\n * @component @name Scan\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMyA3VjVhMiAyIDAgMCAxIDItMmgyIiAvPgogIDxwYXRoIGQ9Ik0xNyAzaDJhMiAyIDAgMCAxIDIgMnYyIiAvPgogIDxwYXRoIGQ9Ik0yMSAxN3YyYTIgMiAwIDAgMS0yIDJoLTIiIC8+CiAgPHBhdGggZD0iTTcgMjFINWEyIDIgMCAwIDEtMi0ydi0yIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/scan\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Scan = createLucideIcon('scan', __iconNode);\n\nexport default Scan;\n"],"names":[],"mappings":"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","ignoreList":[1,2,3]}