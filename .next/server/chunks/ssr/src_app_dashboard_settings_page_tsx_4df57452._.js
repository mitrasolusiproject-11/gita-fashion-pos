module.exports=[76010,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(16259),e=a.i(99570),f=a.i(66718),g=a.i(91119),h=a.i(70430),i=a.i(80701),j=a.i(86304),k=a.i(14574),l=a.i(6015),m=a.i(70106);let n=(0,m.default)("store",[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]]),o=(0,m.default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);var p=a.i(71931);let q=(0,m.default)("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),r=(0,m.default)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);var s=a.i(15618),t=a.i(24569),u=a.i(81560),v=a.i(60246);let w=(0,m.default)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]),x=(0,m.default)("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);var y=a.i(33508),z=a.i(33441),A=a.i(71987);function B({currentLogo:a,onLogoChange:d}){let[i,j]=(0,c.useState)(null),[k,l]=(0,c.useState)(null),[m,n]=(0,c.useState)(!1),[o,p]=(0,c.useState)(!1),q=(0,c.useRef)(null),r=async()=>{if(i){n(!0);try{let a=new FormData;a.append("logo",i);let b=await fetch("/api/settings/logo",{method:"POST",body:a,credentials:"include"});if(b.ok){let a=await b.json();p(!0),d?.(a.logoUrl),setTimeout(()=>{j(null),l(null),p(!1),q.current&&(q.current.value="")},2e3),alert("Logo berhasil diupload!")}else{let a=await b.json();alert(`Gagal upload logo: ${a.message}`)}}catch(a){console.error("Error uploading logo:",a),alert("Terjadi kesalahan saat upload logo")}finally{n(!1)}}},s=async()=>{if(confirm("Apakah Anda yakin ingin mengembalikan logo ke default?"))try{(await fetch("/api/settings/logo",{method:"DELETE",credentials:"include"})).ok?(d?.("/logo-gita-fashion.svg"),alert("Logo berhasil direset ke default!")):alert("Gagal reset logo")}catch(a){console.error("Error resetting logo:",a),alert("Terjadi kesalahan saat reset logo")}};return(0,b.jsxs)(g.Card,{children:[(0,b.jsx)(g.CardHeader,{children:(0,b.jsxs)(g.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(x,{className:"h-5 w-5"}),"Logo Toko"]})}),(0,b.jsxs)(g.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{children:"Logo Saat Ini"}),(0,b.jsx)("div",{className:"flex items-center justify-center p-4 border-2 border-dashed border-gray-300 rounded-lg bg-gray-50",children:a?(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)(A.default,{src:a,alt:"Logo Toko",width:120,height:120,className:"mx-auto object-contain",onError:()=>{d?.("/logo-gita-fashion.svg")}}),(0,b.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Logo Aktif"})]}):(0,b.jsxs)("div",{className:"text-center text-gray-500",children:[(0,b.jsx)(x,{className:"h-12 w-12 mx-auto mb-2"}),(0,b.jsx)("p",{children:"Tidak ada logo"})]})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"logoFile",children:"Upload Logo Baru"}),(0,b.jsx)(f.Input,{ref:q,id:"logoFile",type:"file",accept:"image/*",onChange:a=>{let b=a.target.files?.[0];if(b){if(!b.type.startsWith("image/"))return void alert("Hanya file gambar yang diperbolehkan");if(b.size>2097152)return void alert("Ukuran file maksimal 2MB");j(b);let a=new FileReader;a.onload=a=>{l(a.target?.result)},a.readAsDataURL(b),p(!1)}},className:"cursor-pointer"}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:"Format: JPG, PNG, SVG. Maksimal 2MB. Rekomendasi: 200x200px atau rasio 1:1"})]}),k&&(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{children:"Preview Logo Baru"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("div",{className:"flex items-center justify-center p-4 border-2 border-blue-300 rounded-lg bg-blue-50",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)(A.default,{src:k,alt:"Preview Logo",width:120,height:120,className:"mx-auto object-contain"}),(0,b.jsxs)("p",{className:"text-sm text-blue-600 mt-2",children:[i?.name," (",Math.round((i?.size||0)/1024),"KB)"]})]})}),(0,b.jsx)(e.Button,{size:"sm",variant:"destructive",className:"absolute top-2 right-2",onClick:()=>{j(null),l(null),p(!1),q.current&&(q.current.value="")},children:(0,b.jsx)(y.X,{className:"h-4 w-4"})})]})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(e.Button,{onClick:r,disabled:!i||m||o,className:"flex-1",children:m?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(w,{className:"h-4 w-4 mr-2 animate-spin"}),"Uploading..."]}):o?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(z.Check,{className:"h-4 w-4 mr-2"}),"Berhasil!"]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(w,{className:"h-4 w-4 mr-2"}),"Upload Logo"]})}),(0,b.jsx)(e.Button,{variant:"outline",onClick:s,disabled:m,children:"Reset Default"})]}),(0,b.jsxs)("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded text-sm",children:[(0,b.jsx)("p",{className:"font-medium mb-2",children:"ğŸ“‹ Panduan Upload Logo:"}),(0,b.jsxs)("ul",{className:"space-y-1 text-blue-700",children:[(0,b.jsx)("li",{children:"â€¢ Gunakan format PNG atau SVG untuk hasil terbaik"}),(0,b.jsx)("li",{children:"â€¢ Rasio 1:1 (persegi) direkomendasikan"}),(0,b.jsx)("li",{children:"â€¢ Logo akan muncul di login page, sidebar, dan struk"}),(0,b.jsx)("li",{children:"â€¢ Pastikan logo terlihat jelas pada background terang dan gelap"})]})]})]})]})}var C=a.i(77156);let D=(0,m.default)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),E=(0,m.default)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);function F({children:a}){let[d,g]=(0,c.useState)(!1),[i,j]=(0,c.useState)(!1),[l,m]=(0,c.useState)(!1),[n,o]=(0,c.useState)(!1),[p,q]=(0,c.useState)(!1),[r,s]=(0,c.useState)(""),[t,u]=(0,c.useState)(""),[v,w]=(0,c.useState)({currentPassword:"",newPassword:"",confirmPassword:""}),x=async a=>{if(a.preventDefault(),s(""),u(""),console.log("ğŸ” Change password form submitted"),!v.currentPassword||!v.newPassword||!v.confirmPassword)return void s("Semua field harus diisi");if(v.newPassword.length<6)return void s("Password baru minimal 6 karakter");if(v.newPassword!==v.confirmPassword)return void s("Konfirmasi password tidak sesuai");if(v.currentPassword===v.newPassword)return void s("Password baru harus berbeda dengan password lama");j(!0),console.log("ğŸ” Sending change password request...");try{let a=await fetch("/api/auth/change-password",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({currentPassword:v.currentPassword,newPassword:v.newPassword})});if(console.log("ğŸ” Change password response status:",a.status),!a.ok){let b="Gagal mengubah password";try{b=(await a.json()).error||b}catch{b=`Error ${a.status}: ${a.statusText}`}401===a.status&&(b="Sesi Anda telah berakhir. Silakan login ulang."),s(b),console.error("ğŸ” Change password failed:",b);return}let b=await a.json();console.log("ğŸ” Change password success:",b),u("Password berhasil diubah!"),w({currentPassword:"",newPassword:"",confirmPassword:""}),setTimeout(()=>{g(!1),u("")},2e3)}catch(a){console.error("ğŸ” Error changing password:",a),s("Terjadi kesalahan saat mengubah password. Periksa koneksi internet Anda.")}finally{j(!1)}};return(0,b.jsxs)(k.Dialog,{open:d,onOpenChange:a=>{console.log("ğŸ” Dialog state changed:",a),g(a)},children:[(0,b.jsx)(k.DialogTrigger,{asChild:!0,onClick:()=>console.log("ğŸ” Change password button clicked"),children:a}),(0,b.jsxs)(k.DialogContent,{className:"sm:max-w-md",children:[(0,b.jsx)(k.DialogHeader,{children:(0,b.jsxs)(k.DialogTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(E,{className:"h-5 w-5"}),"Ubah Password"]})}),(0,b.jsxs)("form",{onSubmit:x,className:"space-y-4",children:[r&&(0,b.jsx)("div",{className:"p-3 rounded-md border border-red-200 bg-red-50 text-red-800 text-sm",children:r}),t&&(0,b.jsx)("div",{className:"p-3 rounded-md border border-green-200 bg-green-50 text-green-800 text-sm",children:t}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"currentPassword",children:"Password Lama"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(f.Input,{id:"currentPassword",type:l?"text":"password",value:v.currentPassword,onChange:a=>w({...v,currentPassword:a.target.value}),placeholder:"Masukkan password lama",required:!0,disabled:i}),(0,b.jsx)(e.Button,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>m(!l),disabled:i,children:l?(0,b.jsx)(D,{className:"h-4 w-4"}):(0,b.jsx)(C.Eye,{className:"h-4 w-4"})})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"newPassword",children:"Password Baru"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(f.Input,{id:"newPassword",type:n?"text":"password",value:v.newPassword,onChange:a=>w({...v,newPassword:a.target.value}),placeholder:"Masukkan password baru (minimal 6 karakter)",required:!0,disabled:i}),(0,b.jsx)(e.Button,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>o(!n),disabled:i,children:n?(0,b.jsx)(D,{className:"h-4 w-4"}):(0,b.jsx)(C.Eye,{className:"h-4 w-4"})})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"confirmPassword",children:"Konfirmasi Password Baru"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(f.Input,{id:"confirmPassword",type:p?"text":"password",value:v.confirmPassword,onChange:a=>w({...v,confirmPassword:a.target.value}),placeholder:"Ulangi password baru",required:!0,disabled:i}),(0,b.jsx)(e.Button,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>q(!p),disabled:i,children:p?(0,b.jsx)(D,{className:"h-4 w-4"}):(0,b.jsx)(C.Eye,{className:"h-4 w-4"})})]})]}),(0,b.jsxs)("div",{className:"flex gap-2 pt-4",children:[(0,b.jsx)(e.Button,{type:"button",variant:"outline",onClick:()=>{g(!1),s(""),u(""),w({currentPassword:"",newPassword:"",confirmPassword:""})},disabled:i,className:"flex-1",children:"Batal"}),(0,b.jsx)(e.Button,{type:"submit",disabled:i,className:"flex-1",children:i?"Mengubah...":"Ubah Password"})]})]})]})]})}function G(){let{user:a}=(0,d.useAuth)(),[m,w]=(0,c.useState)([]),[x,y]=(0,c.useState)(!1),[z,A]=(0,c.useState)(!1),[C,D]=(0,c.useState)(!1),[E,G]=(0,c.useState)(!1),[H,I]=(0,c.useState)(!1),[J,K]=(0,c.useState)(null),[L,M]=(0,c.useState)(null),[N,O]=(0,c.useState)("products"),[P,Q]=(0,c.useState)(null),[R,S]=(0,c.useState)(!1),[T,U]=(0,c.useState)(!1),[V,W]=(0,c.useState)("/logo-gita-fashion.svg"),[X,Y]=(0,c.useState)({email:"",name:"",password:"",role:"CASHIER"}),[Z,$]=(0,c.useState)({storeName:"Gita Fashion",storeAddress:"Jl. Fashion Street No. 123, Jakarta",storePhone:"021-12345678",storeEmail:"info@gitafashion.com",currency:"IDR",taxRate:10,thermalPrinterSize:"58mm"}),[_,aa]=(0,c.useState)({printerName:"Thermal Printer 80mm",paperSize:"80mm",printLogo:!0,printFooter:!0,footerText:"Terima kasih atas kunjungan Anda!"});(0,c.useEffect)(()=>{ac(),ab(),a?.role==="ADMIN"&&ad()},[a]);let ab=async()=>{try{let a=await fetch("/api/settings/logo",{credentials:"include"});if(a.ok){let b=await a.json();W(b.logoUrl||"/logo-gita-fashion.svg")}}catch(a){console.error("Error fetching current logo:",a)}},ac=async()=>{try{let a=await fetch("/api/settings",{credentials:"include"});if(a.ok){let b=await a.json();$({storeName:b.storeName||"Gita Fashion",storeAddress:b.storeAddress||"Jl. Fashion Street No. 123, Jakarta",storePhone:b.storePhone||"021-12345678",storeEmail:b.storeEmail||"info@gitafashion.com",currency:b.currency||"IDR",taxRate:parseFloat(b.taxRate)||10,thermalPrinterSize:b.thermalPrinterSize||"58mm"}),aa({printerName:b.printerName||"Thermal Printer 80mm",paperSize:b.paperSize||"80mm",printLogo:"true"===b.printLogo,printFooter:"true"===b.printFooter,footerText:b.footerText||"Terima kasih atas kunjungan Anda!"})}}catch(a){console.error("Error fetching settings:",a)}},ad=async()=>{try{let a=await fetch("/api/users",{credentials:"include"});if(a.ok){let b=await a.json();w(Array.isArray(b)?b:[])}}catch(a){console.error("Error fetching users:",a)}},ae=async a=>{a.preventDefault();try{(await fetch("/api/settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Z),credentials:"include"})).ok?alert("Pengaturan toko berhasil disimpan!"):alert("Gagal menyimpan pengaturan toko")}catch(a){console.error("Error saving store settings:",a),alert("Terjadi kesalahan saat menyimpan pengaturan toko")}},af=async a=>{a.preventDefault();try{(await fetch("/api/settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(_),credentials:"include"})).ok?alert("Pengaturan printer berhasil disimpan!"):alert("Gagal menyimpan pengaturan printer")}catch(a){console.error("Error saving printer settings:",a),alert("Terjadi kesalahan saat menyimpan pengaturan printer")}},ag=async a=>{a.preventDefault();try{(await fetch("/api/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(X),credentials:"include"})).ok?(await ad(),y(!1),Y({email:"",name:"",password:"",role:"CASHIER"}),alert("User berhasil ditambahkan!")):alert("Gagal menambahkan user")}catch(a){console.error("Error adding user:",a),alert("Terjadi kesalahan saat menambahkan user")}},ah=async a=>{if(a.preventDefault(),J)try{(await fetch(`/api/users/${J.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:X.name,email:X.email,role:X.role}),credentials:"include"})).ok?(await ad(),A(!1),K(null),alert("User berhasil diperbarui!")):alert("Gagal memperbarui user")}catch(a){console.error("Error updating user:",a),alert("Terjadi kesalahan saat memperbarui user")}},ai=async a=>{if(confirm("Apakah Anda yakin ingin menghapus user ini?"))try{(await fetch(`/api/users/${a}`,{method:"DELETE",credentials:"include"})).ok?(await ad(),alert("User berhasil dihapus!")):alert("Gagal menghapus user")}catch(a){console.error("Error deleting user:",a),alert("Terjadi kesalahan saat menghapus user")}},aj=async()=>{try{let a=await fetch("/api/backup",{credentials:"include"});if(a.ok){let b=await a.blob(),c=window.URL.createObjectURL(b),d=document.createElement("a");d.href=c,d.download=`gita-fashion-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(d),d.click(),window.URL.revokeObjectURL(c),document.body.removeChild(d),alert("Backup database berhasil diunduh!")}else alert("Gagal melakukan backup database")}catch(a){console.error("Error backing up database:",a),alert("Gagal melakukan backup database")}},ak=async(a="transactions")=>{try{let b=await fetch(`/api/export?type=${a}&format=csv`,{credentials:"include"});if(b.ok){let c=await b.blob(),d=window.URL.createObjectURL(c),e=document.createElement("a");e.href=d;let f={transactions:"transaksi",products:"produk",sales:"penjualan",shifts:"shift",expenses:"pengeluaran"};e.download=`${f[a]||"data"}-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(e),e.click(),window.URL.revokeObjectURL(d),document.body.removeChild(e),alert(`Export data ${f[a]||"data"} berhasil diunduh!`)}else alert("Gagal melakukan export data")}catch(a){console.error("Error exporting data:",a),alert("Gagal melakukan export data")}},al=async()=>{if(!L)return void alert("Pilih file untuk diimport");S(!0);try{let a=new FormData;a.append("file",L),a.append("type",N);let b=await fetch("/api/import",{method:"POST",body:a,credentials:"include"}),c=await b.json();b.ok?(alert(`Import berhasil!
${c.message}

Berhasil: ${c.successCount}
Error: ${c.errorCount}`),c.errors&&c.errors.length>0&&console.log("Import errors:",c.errors),G(!1),M(null)):alert(`Gagal import data: ${c.error}`)}catch(a){console.error("Error importing data:",a),alert("Terjadi kesalahan saat import data")}finally{S(!1)}},am=async()=>{if(!P)return void alert("Pilih file backup untuk direstore");if(confirm("PERINGATAN: Restore database akan menimpa data yang ada. Apakah Anda yakin?")){U(!0);try{let a=new FormData;a.append("file",P);let b=await fetch("/api/restore",{method:"POST",body:a,credentials:"include"}),c=await b.json();b.ok?(alert(`Restore berhasil!
${c.message}

Record diproses: ${c.restoredCount}
Error: ${c.errorCount}`),c.errors&&c.errors.length>0&&console.log("Restore errors:",c.errors),I(!1),Q(null),window.location.reload()):alert(`Gagal restore database: ${c.error}`)}catch(a){console.error("Error restoring database:",a),alert("Terjadi kesalahan saat restore database")}finally{U(!1)}}};return(0,b.jsxs)("div",{className:"p-6",children:[(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Pengaturan Sistem"}),(0,b.jsx)("p",{className:"text-gray-600",children:"Konfigurasi aplikasi kasir Gita Fashion"})]}),a?.role==="ADMIN"&&(0,b.jsx)("div",{className:"mb-6",children:(0,b.jsx)(B,{currentLogo:V,onLogoChange:a=>{W(a),window.dispatchEvent(new CustomEvent("logoChanged",{detail:{logoUrl:a}}))}})}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,b.jsxs)(g.Card,{children:[(0,b.jsx)(g.CardHeader,{children:(0,b.jsxs)(g.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(n,{className:"h-5 w-5"}),"Pengaturan Toko"]})}),(0,b.jsx)(g.CardContent,{children:(0,b.jsxs)("form",{onSubmit:ae,className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"storeName",children:"Nama Toko"}),(0,b.jsx)(f.Input,{id:"storeName",value:Z.storeName,onChange:a=>$({...Z,storeName:a.target.value})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"storeAddress",children:"Alamat Toko"}),(0,b.jsx)(f.Input,{id:"storeAddress",value:Z.storeAddress,onChange:a=>$({...Z,storeAddress:a.target.value})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"storePhone",children:"Telepon"}),(0,b.jsx)(f.Input,{id:"storePhone",value:Z.storePhone,onChange:a=>$({...Z,storePhone:a.target.value})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"storeEmail",children:"Email"}),(0,b.jsx)(f.Input,{id:"storeEmail",type:"email",value:Z.storeEmail,onChange:a=>$({...Z,storeEmail:a.target.value})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"currency",children:"Mata Uang"}),(0,b.jsxs)(i.Select,{value:Z.currency,onValueChange:a=>$({...Z,currency:a}),children:[(0,b.jsx)(i.SelectTrigger,{children:(0,b.jsx)(i.SelectValue,{})}),(0,b.jsxs)(i.SelectContent,{children:[(0,b.jsx)(i.SelectItem,{value:"IDR",children:"IDR (Rupiah)"}),(0,b.jsx)(i.SelectItem,{value:"USD",children:"USD (Dollar)"})]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"taxRate",children:"Pajak (%)"}),(0,b.jsx)(f.Input,{id:"taxRate",type:"number",value:Z.taxRate||0,onChange:a=>$({...Z,taxRate:parseFloat(a.target.value)||0})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"thermalPrinterSize",children:"Ukuran Thermal Printer"}),(0,b.jsxs)(i.Select,{value:Z.thermalPrinterSize,onValueChange:a=>$({...Z,thermalPrinterSize:a}),children:[(0,b.jsx)(i.SelectTrigger,{children:(0,b.jsx)(i.SelectValue,{})}),(0,b.jsxs)(i.SelectContent,{children:[(0,b.jsx)(i.SelectItem,{value:"58mm",children:"58mm Thermal Printer"}),(0,b.jsx)(i.SelectItem,{value:"80mm",children:"80mm Thermal Printer"})]})]})]})]}),(0,b.jsx)(e.Button,{type:"submit",className:"w-full",children:"Simpan Pengaturan Toko"})]})})]}),(0,b.jsxs)(g.Card,{children:[(0,b.jsx)(g.CardHeader,{children:(0,b.jsxs)(g.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(p.Printer,{className:"h-5 w-5"}),"Pengaturan Printer"]})}),(0,b.jsx)(g.CardContent,{children:(0,b.jsxs)("form",{onSubmit:af,className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"printerName",children:"Nama Printer"}),(0,b.jsx)(f.Input,{id:"printerName",value:_.printerName,onChange:a=>aa({..._,printerName:a.target.value})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"paperSize",children:"Ukuran Kertas"}),(0,b.jsxs)(i.Select,{value:_.paperSize,onValueChange:a=>aa({..._,paperSize:a}),children:[(0,b.jsx)(i.SelectTrigger,{children:(0,b.jsx)(i.SelectValue,{})}),(0,b.jsxs)(i.SelectContent,{children:[(0,b.jsx)(i.SelectItem,{value:"58mm",children:"58mm"}),(0,b.jsx)(i.SelectItem,{value:"80mm",children:"80mm"})]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"footerText",children:"Teks Footer Struk"}),(0,b.jsx)(f.Input,{id:"footerText",value:_.footerText,onChange:a=>aa({..._,footerText:a.target.value})})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)(h.Label,{children:"Opsi Cetak"}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,b.jsx)("input",{type:"checkbox",checked:_.printLogo,onChange:a=>aa({..._,printLogo:a.target.checked}),className:"rounded"}),(0,b.jsx)("span",{className:"text-sm",children:"Cetak Logo Toko"})]}),(0,b.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,b.jsx)("input",{type:"checkbox",checked:_.printFooter,onChange:a=>aa({..._,printFooter:a.target.checked}),className:"rounded"}),(0,b.jsx)("span",{className:"text-sm",children:"Cetak Footer"})]})]})]}),(0,b.jsx)(e.Button,{type:"submit",className:"w-full",children:"Simpan Pengaturan Printer"})]})})]}),(0,b.jsxs)(g.Card,{children:[(0,b.jsx)(g.CardHeader,{children:(0,b.jsxs)(g.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(o,{className:"h-5 w-5"}),"Profil Pengguna"]})}),(0,b.jsxs)(g.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{children:"Nama"}),(0,b.jsx)("div",{className:"p-2 bg-gray-50 rounded",children:a?.name})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{children:"Email"}),(0,b.jsx)("div",{className:"p-2 bg-gray-50 rounded",children:a?.email})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{children:"Role"}),(0,b.jsx)("div",{children:(0,b.jsx)(j.Badge,{variant:a?.role==="ADMIN"?"default":"secondary",children:a?.role})})]}),(0,b.jsx)(F,{children:(0,b.jsx)(e.Button,{variant:"outline",className:"w-full",children:"Ubah Password"})})]})]}),(0,b.jsxs)(g.Card,{children:[(0,b.jsx)(g.CardHeader,{children:(0,b.jsxs)(g.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(q,{className:"h-5 w-5"}),"Informasi Sistem"]})}),(0,b.jsxs)(g.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(h.Label,{className:"text-xs text-gray-500",children:"Versi Aplikasi"}),(0,b.jsx)("div",{className:"font-medium",children:"v1.0.0"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(h.Label,{className:"text-xs text-gray-500",children:"Database"}),(0,b.jsx)("div",{className:"font-medium",children:"SQLite"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(h.Label,{className:"text-xs text-gray-500",children:"Framework"}),(0,b.jsx)("div",{className:"font-medium",children:"Next.js 16"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(h.Label,{className:"text-xs text-gray-500",children:"ORM"}),(0,b.jsx)("div",{className:"font-medium",children:"Drizzle"})]})]}),(0,b.jsx)("div",{className:"pt-4 border-t space-y-2",children:(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,b.jsxs)(e.Button,{variant:"outline",onClick:aj,children:[(0,b.jsx)(q,{className:"h-4 w-4 mr-2"}),"Backup"]}),(0,b.jsxs)(k.Dialog,{open:H,onOpenChange:I,children:[(0,b.jsx)(k.DialogTrigger,{asChild:!0,children:(0,b.jsxs)(e.Button,{variant:"outline",children:[(0,b.jsx)(q,{className:"h-4 w-4 mr-2"}),"Restore"]})}),(0,b.jsxs)(k.DialogContent,{children:[(0,b.jsx)(k.DialogHeader,{children:(0,b.jsx)(k.DialogTitle,{children:"Restore Database"})}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded",children:(0,b.jsxs)("p",{className:"text-sm text-yellow-800",children:["âš ï¸ ",(0,b.jsx)("strong",{children:"PERINGATAN:"})," Restore akan menimpa semua data yang ada. Pastikan Anda sudah melakukan backup terlebih dahulu."]})}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"restoreFile",children:"Pilih File Backup (.json)"}),(0,b.jsx)(f.Input,{id:"restoreFile",type:"file",accept:".json",onChange:a=>Q(a.target.files?.[0]||null)})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(e.Button,{variant:"outline",onClick:()=>I(!1),className:"flex-1",children:"Batal"}),(0,b.jsx)(e.Button,{onClick:am,disabled:!P||T,className:"flex-1",children:T?"Restoring...":"Restore Database"})]})]})]})]})]})}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,b.jsxs)(k.Dialog,{open:C,onOpenChange:D,children:[(0,b.jsx)(k.DialogTrigger,{asChild:!0,children:(0,b.jsxs)(e.Button,{variant:"outline",children:[(0,b.jsx)(r,{className:"h-4 w-4 mr-2"}),"Export"]})}),(0,b.jsxs)(k.DialogContent,{children:[(0,b.jsx)(k.DialogHeader,{children:(0,b.jsx)(k.DialogTitle,{children:"Export Data"})}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"Pilih jenis data yang ingin diekspor dalam format CSV:"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 gap-2",children:[(0,b.jsx)(e.Button,{variant:"outline",className:"justify-start",onClick:()=>{ak("transactions"),D(!1)},children:"ğŸ“Š Data Transaksi"}),(0,b.jsx)(e.Button,{variant:"outline",className:"justify-start",onClick:()=>{ak("products"),D(!1)},children:"ğŸ“¦ Data Produk"}),(0,b.jsx)(e.Button,{variant:"outline",className:"justify-start",onClick:()=>{ak("sales"),D(!1)},children:"ğŸ›’ Data Penjualan Detail"}),(0,b.jsx)(e.Button,{variant:"outline",className:"justify-start",onClick:()=>{ak("shifts"),D(!1)},children:"â° Data Shift Kasir"}),(0,b.jsx)(e.Button,{variant:"outline",className:"justify-start",onClick:()=>{ak("expenses"),D(!1)},children:"ğŸ’¸ Data Pengeluaran"})]})]})]})]}),(0,b.jsxs)(k.Dialog,{open:E,onOpenChange:G,children:[(0,b.jsx)(k.DialogTrigger,{asChild:!0,children:(0,b.jsxs)(e.Button,{variant:"outline",children:[(0,b.jsx)(s.Plus,{className:"h-4 w-4 mr-2"}),"Import"]})}),(0,b.jsxs)(k.DialogContent,{children:[(0,b.jsx)(k.DialogHeader,{children:(0,b.jsx)(k.DialogTitle,{children:"Import Data"})}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"Import data dari file CSV. Pastikan format file sesuai dengan template."}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"importType",children:"Jenis Data"}),(0,b.jsxs)(i.Select,{value:N,onValueChange:O,children:[(0,b.jsx)(i.SelectTrigger,{children:(0,b.jsx)(i.SelectValue,{})}),(0,b.jsxs)(i.SelectContent,{children:[(0,b.jsx)(i.SelectItem,{value:"products",children:"ğŸ“¦ Data Produk"}),(0,b.jsx)(i.SelectItem,{value:"categories",children:"ğŸ“‚ Data Kategori"})]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"importFile",children:"Pilih File CSV"}),(0,b.jsx)(f.Input,{id:"importFile",type:"file",accept:".csv,.xlsx,.xls",onChange:a=>M(a.target.files?.[0]||null)})]}),(0,b.jsxs)("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded text-sm",children:[(0,b.jsx)("p",{className:"font-medium mb-2",children:"Format CSV yang diperlukan:"}),"products"===N&&(0,b.jsx)("p",{children:"Barcode, Nama Produk, Kategori ID, Harga Jual, Stok Awal"}),"categories"===N&&(0,b.jsx)("p",{children:"ID, Nama Kategori"})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(e.Button,{variant:"outline",onClick:()=>G(!1),className:"flex-1",children:"Batal"}),(0,b.jsx)(e.Button,{onClick:al,disabled:!L||R,className:"flex-1",children:R?"Importing...":"Import Data"})]})]})]})]})]})]})]})]}),a?.role==="ADMIN"&&(0,b.jsxs)(g.Card,{className:"mt-6",children:[(0,b.jsx)(g.CardHeader,{children:(0,b.jsxs)(g.CardTitle,{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(v.Users,{className:"h-5 w-5"}),"Manajemen User"]}),(0,b.jsxs)(k.Dialog,{open:x,onOpenChange:y,children:[(0,b.jsx)(k.DialogTrigger,{asChild:!0,children:(0,b.jsxs)(e.Button,{children:[(0,b.jsx)(s.Plus,{className:"h-4 w-4 mr-2"}),"Tambah User"]})}),(0,b.jsxs)(k.DialogContent,{children:[(0,b.jsx)(k.DialogHeader,{children:(0,b.jsx)(k.DialogTitle,{children:"Tambah User Baru"})}),(0,b.jsxs)("form",{onSubmit:ag,className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"userEmail",children:"Email"}),(0,b.jsx)(f.Input,{id:"userEmail",type:"email",value:X.email,onChange:a=>Y({...X,email:a.target.value}),required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"userName",children:"Nama"}),(0,b.jsx)(f.Input,{id:"userName",value:X.name,onChange:a=>Y({...X,name:a.target.value}),required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"userPassword",children:"Password"}),(0,b.jsx)(f.Input,{id:"userPassword",type:"password",value:X.password,onChange:a=>Y({...X,password:a.target.value}),required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"userRole",children:"Role"}),(0,b.jsxs)(i.Select,{value:X.role,onValueChange:a=>Y({...X,role:a}),children:[(0,b.jsx)(i.SelectTrigger,{children:(0,b.jsx)(i.SelectValue,{})}),(0,b.jsxs)(i.SelectContent,{children:[(0,b.jsx)(i.SelectItem,{value:"ADMIN",children:"Admin"}),(0,b.jsx)(i.SelectItem,{value:"MANAGER",children:"Manager"}),(0,b.jsx)(i.SelectItem,{value:"CASHIER",children:"Kasir"})]})]})]}),(0,b.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,b.jsx)(e.Button,{type:"button",variant:"outline",onClick:()=>y(!1),children:"Batal"}),(0,b.jsx)(e.Button,{type:"submit",children:"Tambah User"})]})]})]})]})]})}),(0,b.jsx)(g.CardContent,{children:(0,b.jsxs)(l.Table,{children:[(0,b.jsx)(l.TableHeader,{children:(0,b.jsxs)(l.TableRow,{children:[(0,b.jsx)(l.TableHead,{children:"Nama"}),(0,b.jsx)(l.TableHead,{children:"Email"}),(0,b.jsx)(l.TableHead,{children:"Role"}),(0,b.jsx)(l.TableHead,{children:"Tanggal Dibuat"}),(0,b.jsx)(l.TableHead,{children:"Aksi"})]})}),(0,b.jsx)(l.TableBody,{children:m.map(a=>(0,b.jsxs)(l.TableRow,{children:[(0,b.jsx)(l.TableCell,{children:a.name}),(0,b.jsx)(l.TableCell,{children:a.email}),(0,b.jsx)(l.TableCell,{children:(0,b.jsx)(j.Badge,{variant:"ADMIN"===a.role?"default":"secondary",children:a.role})}),(0,b.jsx)(l.TableCell,{children:new Date(a.createdAt).toLocaleDateString("id-ID")}),(0,b.jsx)(l.TableCell,{children:(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(e.Button,{size:"sm",variant:"outline",onClick:()=>{K(a),Y({email:a.email,name:a.name,password:"",role:a.role}),A(!0)},children:(0,b.jsx)(t.Edit,{className:"h-4 w-4"})}),(0,b.jsx)(e.Button,{size:"sm",variant:"destructive",onClick:()=>ai(a.id),children:(0,b.jsx)(u.Trash2,{className:"h-4 w-4"})})]})})]},a.id))})]})})]}),(0,b.jsx)(k.Dialog,{open:z,onOpenChange:A,children:(0,b.jsxs)(k.DialogContent,{children:[(0,b.jsx)(k.DialogHeader,{children:(0,b.jsx)(k.DialogTitle,{children:"Edit User"})}),(0,b.jsxs)("form",{onSubmit:ah,className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"editUserEmail",children:"Email"}),(0,b.jsx)(f.Input,{id:"editUserEmail",type:"email",value:X.email,onChange:a=>Y({...X,email:a.target.value}),required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"editUserName",children:"Nama"}),(0,b.jsx)(f.Input,{id:"editUserName",value:X.name,onChange:a=>Y({...X,name:a.target.value}),required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"editUserRole",children:"Role"}),(0,b.jsxs)(i.Select,{value:X.role,onValueChange:a=>Y({...X,role:a}),children:[(0,b.jsx)(i.SelectTrigger,{children:(0,b.jsx)(i.SelectValue,{})}),(0,b.jsxs)(i.SelectContent,{children:[(0,b.jsx)(i.SelectItem,{value:"ADMIN",children:"Admin"}),(0,b.jsx)(i.SelectItem,{value:"MANAGER",children:"Manager"}),(0,b.jsx)(i.SelectItem,{value:"CASHIER",children:"Kasir"})]})]})]}),(0,b.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,b.jsx)(e.Button,{type:"button",variant:"outline",onClick:()=>A(!1),children:"Batal"}),(0,b.jsx)(e.Button,{type:"submit",children:"Simpan Perubahan"})]})]})]})})]})}a.s(["default",()=>G],76010)}];

//# sourceMappingURL=src_app_dashboard_settings_page_tsx_4df57452._.js.map