module.exports=[76010,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(16259),e=a.i(99570),f=a.i(66718),g=a.i(91119),h=a.i(70430),i=a.i(80701),j=a.i(86304),k=a.i(14574),l=a.i(6015),m=a.i(70106);let n=(0,m.default)("store",[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]]),o=(0,m.default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);var p=a.i(71931);let q=(0,m.default)("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),r=(0,m.default)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);var s=a.i(15618),t=a.i(24569),u=a.i(81560),v=a.i(60246);let w=(0,m.default)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]),x=(0,m.default)("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);var y=a.i(33508),z=a.i(33441),A=a.i(71987);function B({currentLogo:a,onLogoChange:d}){let[i,j]=(0,c.useState)(null),[k,l]=(0,c.useState)(null),[m,n]=(0,c.useState)(!1),[o,p]=(0,c.useState)(!1),q=(0,c.useRef)(null),r=async()=>{if(i){n(!0);try{let a=new FormData;a.append("logo",i);let b=await fetch("/api/settings/logo",{method:"POST",body:a,credentials:"include"});if(b.ok){let a=await b.json();p(!0),d?.(a.logoUrl),setTimeout(()=>{j(null),l(null),p(!1),q.current&&(q.current.value="")},2e3),alert("Logo berhasil diupload!")}else{let a=await b.json();alert(`Gagal upload logo: ${a.message}`)}}catch(a){console.error("Error uploading logo:",a),alert("Terjadi kesalahan saat upload logo")}finally{n(!1)}}},s=async()=>{if(confirm("Apakah Anda yakin ingin mengembalikan logo ke default?"))try{(await fetch("/api/settings/logo",{method:"DELETE",credentials:"include"})).ok?(d?.("/logo-gita-fashion.svg"),alert("Logo berhasil direset ke default!")):alert("Gagal reset logo")}catch(a){console.error("Error resetting logo:",a),alert("Terjadi kesalahan saat reset logo")}};return(0,b.jsxs)(g.Card,{children:[(0,b.jsx)(g.CardHeader,{children:(0,b.jsxs)(g.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(x,{className:"h-5 w-5"}),"Logo Toko"]})}),(0,b.jsxs)(g.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{children:"Logo Saat Ini"}),(0,b.jsx)("div",{className:"flex items-center justify-center p-4 border-2 border-dashed border-gray-300 rounded-lg bg-gray-50",children:a?(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)(A.default,{src:a,alt:"Logo Toko",width:120,height:120,className:"mx-auto object-contain",onError:()=>{d?.("/logo-gita-fashion.svg")}}),(0,b.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Logo Aktif"})]}):(0,b.jsxs)("div",{className:"text-center text-gray-500",children:[(0,b.jsx)(x,{className:"h-12 w-12 mx-auto mb-2"}),(0,b.jsx)("p",{children:"Tidak ada logo"})]})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"logoFile",children:"Upload Logo Baru"}),(0,b.jsx)(f.Input,{ref:q,id:"logoFile",type:"file",accept:"image/*",onChange:a=>{let b=a.target.files?.[0];if(b){if(!b.type.startsWith("image/"))return void alert("Hanya file gambar yang diperbolehkan");if(b.size>2097152)return void alert("Ukuran file maksimal 2MB");j(b);let a=new FileReader;a.onload=a=>{l(a.target?.result)},a.readAsDataURL(b),p(!1)}},className:"cursor-pointer"}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:"Format: JPG, PNG, SVG. Maksimal 2MB. Rekomendasi: 200x200px atau rasio 1:1"})]}),k&&(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{children:"Preview Logo Baru"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("div",{className:"flex items-center justify-center p-4 border-2 border-blue-300 rounded-lg bg-blue-50",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)(A.default,{src:k,alt:"Preview Logo",width:120,height:120,className:"mx-auto object-contain"}),(0,b.jsxs)("p",{className:"text-sm text-blue-600 mt-2",children:[i?.name," (",Math.round((i?.size||0)/1024),"KB)"]})]})}),(0,b.jsx)(e.Button,{size:"sm",variant:"destructive",className:"absolute top-2 right-2",onClick:()=>{j(null),l(null),p(!1),q.current&&(q.current.value="")},children:(0,b.jsx)(y.X,{className:"h-4 w-4"})})]})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(e.Button,{onClick:r,disabled:!i||m||o,className:"flex-1",children:m?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(w,{className:"h-4 w-4 mr-2 animate-spin"}),"Uploading..."]}):o?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(z.Check,{className:"h-4 w-4 mr-2"}),"Berhasil!"]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(w,{className:"h-4 w-4 mr-2"}),"Upload Logo"]})}),(0,b.jsx)(e.Button,{variant:"outline",onClick:s,disabled:m,children:"Reset Default"})]}),(0,b.jsxs)("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded text-sm",children:[(0,b.jsx)("p",{className:"font-medium mb-2",children:"ğŸ“‹ Panduan Upload Logo:"}),(0,b.jsxs)("ul",{className:"space-y-1 text-blue-700",children:[(0,b.jsx)("li",{children:"â€¢ Gunakan format PNG atau SVG untuk hasil terbaik"}),(0,b.jsx)("li",{children:"â€¢ Rasio 1:1 (persegi) direkomendasikan"}),(0,b.jsx)("li",{children:"â€¢ Logo akan muncul di login page, sidebar, dan struk"}),(0,b.jsx)("li",{children:"â€¢ Pastikan logo terlihat jelas pada background terang dan gelap"})]})]})]})]})}var C=a.i(77156);let D=(0,m.default)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),E=(0,m.default)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);function F({children:a}){let[d,g]=(0,c.useState)(!1),[i,j]=(0,c.useState)(!1),[l,m]=(0,c.useState)(!1),[n,o]=(0,c.useState)(!1),[p,q]=(0,c.useState)(!1),[r,s]=(0,c.useState)(""),[t,u]=(0,c.useState)(""),[v,w]=(0,c.useState)({currentPassword:"",newPassword:"",confirmPassword:""}),x=async a=>{if(a.preventDefault(),s(""),u(""),console.log("ğŸ” Change password form submitted"),!v.currentPassword||!v.newPassword||!v.confirmPassword)return void s("Semua field harus diisi");if(v.newPassword.length<6)return void s("Password baru minimal 6 karakter");if(v.newPassword!==v.confirmPassword)return void s("Konfirmasi password tidak sesuai");if(v.currentPassword===v.newPassword)return void s("Password baru harus berbeda dengan password lama");j(!0),console.log("ğŸ” Sending change password request...");try{let a=await fetch("/api/auth/change-password",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({currentPassword:v.currentPassword,newPassword:v.newPassword})});if(console.log("ğŸ” Change password response status:",a.status),!a.ok){let b="Gagal mengubah password";try{b=(await a.json()).error||b}catch{b=`Error ${a.status}: ${a.statusText}`}401===a.status&&(b="Sesi Anda telah berakhir. Silakan login ulang."),s(b),console.error("ğŸ” Change password failed:",b);return}let b=await a.json();console.log("ğŸ” Change password success:",b),u("Password berhasil diubah!"),w({currentPassword:"",newPassword:"",confirmPassword:""}),setTimeout(()=>{g(!1),u("")},2e3)}catch(a){console.error("ğŸ” Error changing password:",a),s("Terjadi kesalahan saat mengubah password. Periksa koneksi internet Anda.")}finally{j(!1)}};return(0,b.jsxs)(k.Dialog,{open:d,onOpenChange:a=>{console.log("ğŸ” Dialog state changed:",a),g(a)},children:[(0,b.jsx)(k.DialogTrigger,{asChild:!0,onClick:()=>console.log("ğŸ” Change password button clicked"),children:a}),(0,b.jsxs)(k.DialogContent,{className:"sm:max-w-md",children:[(0,b.jsx)(k.DialogHeader,{children:(0,b.jsxs)(k.DialogTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(E,{className:"h-5 w-5"}),"Ubah Password"]})}),(0,b.jsxs)("form",{onSubmit:x,className:"space-y-4",children:[r&&(0,b.jsx)("div",{className:"p-3 rounded-md border border-red-200 bg-red-50 text-red-800 text-sm",children:r}),t&&(0,b.jsx)("div",{className:"p-3 rounded-md border border-green-200 bg-green-50 text-green-800 text-sm",children:t}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"currentPassword",children:"Password Lama"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(f.Input,{id:"currentPassword",type:l?"text":"password",value:v.currentPassword,onChange:a=>w({...v,currentPassword:a.target.value}),placeholder:"Masukkan password lama",required:!0,disabled:i}),(0,b.jsx)(e.Button,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>m(!l),disabled:i,children:l?(0,b.jsx)(D,{className:"h-4 w-4"}):(0,b.jsx)(C.Eye,{className:"h-4 w-4"})})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"newPassword",children:"Password Baru"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(f.Input,{id:"newPassword",type:n?"text":"password",value:v.newPassword,onChange:a=>w({...v,newPassword:a.target.value}),placeholder:"Masukkan password baru (minimal 6 karakter)",required:!0,disabled:i}),(0,b.jsx)(e.Button,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>o(!n),disabled:i,children:n?(0,b.jsx)(D,{className:"h-4 w-4"}):(0,b.jsx)(C.Eye,{className:"h-4 w-4"})})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"confirmPassword",children:"Konfirmasi Password Baru"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(f.Input,{id:"confirmPassword",type:p?"text":"password",value:v.confirmPassword,onChange:a=>w({...v,confirmPassword:a.target.value}),placeholder:"Ulangi password baru",required:!0,disabled:i}),(0,b.jsx)(e.Button,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>q(!p),disabled:i,children:p?(0,b.jsx)(D,{className:"h-4 w-4"}):(0,b.jsx)(C.Eye,{className:"h-4 w-4"})})]})]}),(0,b.jsxs)("div",{className:"flex gap-2 pt-4",children:[(0,b.jsx)(e.Button,{type:"button",variant:"outline",onClick:()=>{g(!1),s(""),u(""),w({currentPassword:"",newPassword:"",confirmPassword:""})},disabled:i,className:"flex-1",children:"Batal"}),(0,b.jsx)(e.Button,{type:"submit",disabled:i,className:"flex-1",children:i?"Mengubah...":"Ubah Password"})]})]})]})]})}var G=a.i(4720);let H=(0,m.default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),I=(0,m.default)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),J=(0,m.default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);function K(){let[a,d]=(0,c.useState)(null),[f,h]=(0,c.useState)(!1),[i,j]=(0,c.useState)(!1),[k,l]=(0,c.useState)(null),[m,n]=(0,c.useState)(""),[o,p]=(0,c.useState)(""),q=(0,c.useRef)(null),r=async()=>{if(!m||!o)return void alert("Pilih tanggal mulai dan tanggal akhir");if(confirm(`Hapus semua transaksi dari ${m} sampai ${o}?

Peringatan: Aksi ini tidak dapat dibatalkan!`)){j(!0);try{let a=await fetch("/api/transactions/delete-range",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({startDate:m,endDate:o})}),b=await a.json();a.ok?(alert(`âœ… Berhasil menghapus ${b.deletedCount} transaksi`),n(""),p("")):alert(`âŒ Error: ${b.error}`)}catch(a){console.error("Delete error:",a),alert("Terjadi kesalahan saat menghapus transaksi")}finally{j(!1)}}},s=async()=>{if(!a)return void alert("Pilih file CSV terlebih dahulu");h(!0),l(null);try{let b=new FormData;b.append("file",a);let c=await fetch("/api/import/transactions",{method:"POST",body:b}),e=await c.json();c.ok?(l(e),d(null),q.current&&(q.current.value="")):alert(`Error: ${e.error}`)}catch(a){console.error("Import error:",a),alert("Terjadi kesalahan saat import")}finally{h(!1)}};return(0,b.jsxs)(g.Card,{children:[(0,b.jsxs)(g.CardHeader,{children:[(0,b.jsxs)(g.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(w,{className:"h-5 w-5"}),"Import Transaksi dari CSV"]}),(0,b.jsx)(g.CardDescription,{children:"Upload file CSV untuk import transaksi lama ke sistem"})]}),(0,b.jsxs)(g.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded space-y-3",children:[(0,b.jsx)("p",{className:"text-sm font-medium text-yellow-900",children:"âš ï¸ Hapus Transaksi (untuk re-import)"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs text-yellow-800 mb-1",children:"Dari Tanggal"}),(0,b.jsx)("input",{type:"date",value:m,onChange:a=>n(a.target.value),className:"w-full px-3 py-2 text-sm border rounded"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs text-yellow-800 mb-1",children:"Sampai Tanggal"}),(0,b.jsx)("input",{type:"date",value:o,onChange:a=>p(a.target.value),className:"w-full px-3 py-2 text-sm border rounded"})]})]}),(0,b.jsx)(e.Button,{variant:"destructive",size:"sm",onClick:r,disabled:!m||!o||i,className:"w-full",children:i?"Menghapus...":"Hapus Transaksi di Range Ini"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"block text-sm font-medium",children:"Pilih File CSV"}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("input",{ref:q,type:"file",accept:".csv",onChange:a=>{a.target.files&&a.target.files[0]&&(d(a.target.files[0]),l(null))},className:"flex-1 text-sm file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"}),(0,b.jsx)(e.Button,{onClick:s,disabled:!a||f,children:f?"Importing...":"Import"})]}),a&&(0,b.jsxs)("p",{className:"text-sm text-gray-600 flex items-center gap-2",children:[(0,b.jsx)(G.FileText,{className:"h-4 w-4"}),a.name," (",(a.size/1024).toFixed(2)," KB)"]})]}),k&&(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"p-4 bg-green-50 border border-green-200 rounded",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-green-800 font-medium mb-2",children:[(0,b.jsx)(H,{className:"h-5 w-5"}),"Import Selesai"]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[(0,b.jsxs)("div",{children:["Total Transaksi: ",(0,b.jsx)("span",{className:"font-bold",children:k.summary.total})]}),(0,b.jsxs)("div",{className:"text-green-600",children:["Berhasil: ",(0,b.jsx)("span",{className:"font-bold",children:k.summary.success})]}),(0,b.jsxs)("div",{className:"text-yellow-600",children:["Dilewati: ",(0,b.jsx)("span",{className:"font-bold",children:k.summary.skipped})]}),(0,b.jsxs)("div",{className:"text-red-600",children:["Gagal: ",(0,b.jsx)("span",{className:"font-bold",children:k.summary.failed})]})]})]}),k.errors&&k.errors.length>0&&(0,b.jsxs)("div",{className:"p-4 bg-red-50 border border-red-200 rounded",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-red-800 font-medium mb-2",children:[(0,b.jsx)(I,{className:"h-5 w-5"}),"Error Messages"]}),(0,b.jsx)("ul",{className:"text-sm text-red-700 space-y-1",children:k.errors.map((a,c)=>(0,b.jsxs)("li",{children:["â€¢ ",a]},c))})]})]}),(0,b.jsx)("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded text-sm",children:(0,b.jsxs)("div",{className:"flex items-start gap-2",children:[(0,b.jsx)(J,{className:"h-5 w-5 text-blue-600 flex-shrink-0 mt-0.5"}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("p",{className:"font-medium text-blue-900",children:"Format CSV:"}),(0,b.jsx)("p",{className:"text-blue-800",children:"File CSV harus memiliki kolom: code, transactionDate, barcode, productName, quantity, price, discountPercent, discountAmount, cashAmount, transferAmount, bankName, paymentStatus"}),(0,b.jsx)("p",{className:"text-blue-800",children:"Untuk transaksi dengan multiple items, gunakan code yang sama di beberapa baris."})]})]})})]})]})}function L(){let{user:a}=(0,d.useAuth)(),[m,w]=(0,c.useState)([]),[x,y]=(0,c.useState)(!1),[z,A]=(0,c.useState)(!1),[C,D]=(0,c.useState)(!1),[E,G]=(0,c.useState)(!1),[H,I]=(0,c.useState)(!1),[J,L]=(0,c.useState)(null),[M,N]=(0,c.useState)(null),[O,P]=(0,c.useState)("products"),[Q,R]=(0,c.useState)(null),[S,T]=(0,c.useState)(!1),[U,V]=(0,c.useState)(!1),[W,X]=(0,c.useState)("/logo-gita-fashion.svg"),[Y,Z]=(0,c.useState)({email:"",name:"",password:"",role:"CASHIER"}),[$,_]=(0,c.useState)({storeName:"Gita Fashion",storeAddress:"Jl. Fashion Street No. 123, Jakarta",storePhone:"021-12345678",storeEmail:"info@gitafashion.com",currency:"IDR",taxRate:10,thermalPrinterSize:"58mm"}),[aa,ab]=(0,c.useState)({printerName:"Thermal Printer 80mm",paperSize:"80mm",printLogo:!0,printFooter:!0,footerText:"Terima kasih atas kunjungan Anda!"});(0,c.useEffect)(()=>{ad(),ac(),a?.role==="ADMIN"&&ae()},[a]);let ac=async()=>{try{let a=await fetch("/api/settings/logo",{credentials:"include"});if(a.ok){let b=await a.json();X(b.logoUrl||"/logo-gita-fashion.svg")}}catch(a){console.error("Error fetching current logo:",a)}},ad=async()=>{try{let a=await fetch("/api/settings",{credentials:"include"});if(a.ok){let b=await a.json();_({storeName:b.storeName||"Gita Fashion",storeAddress:b.storeAddress||"Jl. Fashion Street No. 123, Jakarta",storePhone:b.storePhone||"021-12345678",storeEmail:b.storeEmail||"info@gitafashion.com",currency:b.currency||"IDR",taxRate:parseFloat(b.taxRate)||10,thermalPrinterSize:b.thermalPrinterSize||"58mm"}),ab({printerName:b.printerName||"Thermal Printer 80mm",paperSize:b.paperSize||"80mm",printLogo:"true"===b.printLogo,printFooter:"true"===b.printFooter,footerText:b.footerText||"Terima kasih atas kunjungan Anda!"})}}catch(a){console.error("Error fetching settings:",a)}},ae=async()=>{try{let a=await fetch("/api/users",{credentials:"include"});if(a.ok){let b=await a.json();w(Array.isArray(b)?b:[])}}catch(a){console.error("Error fetching users:",a)}},af=async a=>{a.preventDefault();try{(await fetch("/api/settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify($),credentials:"include"})).ok?alert("Pengaturan toko berhasil disimpan!"):alert("Gagal menyimpan pengaturan toko")}catch(a){console.error("Error saving store settings:",a),alert("Terjadi kesalahan saat menyimpan pengaturan toko")}},ag=async a=>{a.preventDefault();try{(await fetch("/api/settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(aa),credentials:"include"})).ok?alert("Pengaturan printer berhasil disimpan!"):alert("Gagal menyimpan pengaturan printer")}catch(a){console.error("Error saving printer settings:",a),alert("Terjadi kesalahan saat menyimpan pengaturan printer")}},ah=async a=>{a.preventDefault();try{(await fetch("/api/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Y),credentials:"include"})).ok?(await ae(),y(!1),Z({email:"",name:"",password:"",role:"CASHIER"}),alert("User berhasil ditambahkan!")):alert("Gagal menambahkan user")}catch(a){console.error("Error adding user:",a),alert("Terjadi kesalahan saat menambahkan user")}},ai=async a=>{if(a.preventDefault(),J)try{(await fetch(`/api/users/${J.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:Y.name,email:Y.email,role:Y.role}),credentials:"include"})).ok?(await ae(),A(!1),L(null),alert("User berhasil diperbarui!")):alert("Gagal memperbarui user")}catch(a){console.error("Error updating user:",a),alert("Terjadi kesalahan saat memperbarui user")}},aj=async a=>{if(confirm("Apakah Anda yakin ingin menghapus user ini?"))try{(await fetch(`/api/users/${a}`,{method:"DELETE",credentials:"include"})).ok?(await ae(),alert("User berhasil dihapus!")):alert("Gagal menghapus user")}catch(a){console.error("Error deleting user:",a),alert("Terjadi kesalahan saat menghapus user")}},ak=async()=>{try{let a=await fetch("/api/backup",{credentials:"include"});if(a.ok){let b=await a.blob(),c=window.URL.createObjectURL(b),d=document.createElement("a");d.href=c,d.download=`gita-fashion-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(d),d.click(),window.URL.revokeObjectURL(c),document.body.removeChild(d),alert("Backup database berhasil diunduh!")}else alert("Gagal melakukan backup database")}catch(a){console.error("Error backing up database:",a),alert("Gagal melakukan backup database")}},al=async(a="transactions")=>{try{let b=await fetch(`/api/export?type=${a}&format=csv`,{credentials:"include"});if(b.ok){let c=await b.blob(),d=window.URL.createObjectURL(c),e=document.createElement("a");e.href=d;let f={transactions:"transaksi",products:"produk",sales:"penjualan",shifts:"shift",expenses:"pengeluaran"};e.download=`${f[a]||"data"}-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(e),e.click(),window.URL.revokeObjectURL(d),document.body.removeChild(e),alert(`Export data ${f[a]||"data"} berhasil diunduh!`)}else alert("Gagal melakukan export data")}catch(a){console.error("Error exporting data:",a),alert("Gagal melakukan export data")}},am=async()=>{if(!M)return void alert("Pilih file untuk diimport");T(!0);try{let a=new FormData;a.append("file",M),a.append("type",O);let b=await fetch("/api/import",{method:"POST",body:a,credentials:"include"}),c=await b.json();b.ok?(alert(`Import berhasil!
${c.message}

Berhasil: ${c.successCount}
Error: ${c.errorCount}`),c.errors&&c.errors.length>0&&console.log("Import errors:",c.errors),G(!1),N(null)):alert(`Gagal import data: ${c.error}`)}catch(a){console.error("Error importing data:",a),alert("Terjadi kesalahan saat import data")}finally{T(!1)}},an=async()=>{if(confirm("Jalankan migration untuk menghapus foreign key constraint dari outgoing_items? Ini diperlukan untuk import transaksi."))try{let a=await fetch("/api/migrate-fk",{method:"POST",credentials:"include"}),b=await a.json();a.ok?alert(`âœ… ${b.message}`):alert(`âŒ Migration gagal: ${b.error}`)}catch(a){console.error("Error running migration:",a),alert("Terjadi kesalahan saat menjalankan migration")}},ao=async()=>{try{let a=await fetch("/api/system/cleanup",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"}),b=await a.json();a.ok?alert(b.message):alert(`âŒ Check gagal: ${b.error}`)}catch(a){console.error("Error checking disk:",a),alert("Terjadi kesalahan saat mengecek disk")}},ap=async()=>{if(!Q)return void alert("Pilih file backup untuk direstore");if(confirm("PERINGATAN: Restore database akan menimpa data yang ada. Apakah Anda yakin?")){V(!0);try{let a=new FormData;a.append("file",Q);let b=await fetch("/api/restore",{method:"POST",body:a,credentials:"include"}),c=await b.json();b.ok?(alert(`Restore berhasil!
${c.message}

Record diproses: ${c.restoredCount}
Error: ${c.errorCount}`),c.errors&&c.errors.length>0&&console.log("Restore errors:",c.errors),I(!1),R(null),window.location.reload()):alert(`Gagal restore database: ${c.error}`)}catch(a){console.error("Error restoring database:",a),alert("Terjadi kesalahan saat restore database")}finally{V(!1)}}};return(0,b.jsxs)("div",{className:"p-6",children:[(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Pengaturan Sistem"}),(0,b.jsx)("p",{className:"text-gray-600",children:"Konfigurasi aplikasi kasir Gita Fashion"})]}),a?.role==="ADMIN"&&(0,b.jsx)("div",{className:"mb-6",children:(0,b.jsx)(B,{currentLogo:W,onLogoChange:a=>{X(a),window.dispatchEvent(new CustomEvent("logoChanged",{detail:{logoUrl:a}}))}})}),a?.role==="ADMIN"&&(0,b.jsx)("div",{className:"mb-6",children:(0,b.jsx)(K,{})}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,b.jsxs)(g.Card,{children:[(0,b.jsx)(g.CardHeader,{children:(0,b.jsxs)(g.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(n,{className:"h-5 w-5"}),"Pengaturan Toko"]})}),(0,b.jsx)(g.CardContent,{children:(0,b.jsxs)("form",{onSubmit:af,className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"storeName",children:"Nama Toko"}),(0,b.jsx)(f.Input,{id:"storeName",value:$.storeName,onChange:a=>_({...$,storeName:a.target.value})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"storeAddress",children:"Alamat Toko"}),(0,b.jsx)(f.Input,{id:"storeAddress",value:$.storeAddress,onChange:a=>_({...$,storeAddress:a.target.value})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"storePhone",children:"Telepon"}),(0,b.jsx)(f.Input,{id:"storePhone",value:$.storePhone,onChange:a=>_({...$,storePhone:a.target.value})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"storeEmail",children:"Email"}),(0,b.jsx)(f.Input,{id:"storeEmail",type:"email",value:$.storeEmail,onChange:a=>_({...$,storeEmail:a.target.value})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"currency",children:"Mata Uang"}),(0,b.jsxs)(i.Select,{value:$.currency,onValueChange:a=>_({...$,currency:a}),children:[(0,b.jsx)(i.SelectTrigger,{children:(0,b.jsx)(i.SelectValue,{})}),(0,b.jsxs)(i.SelectContent,{children:[(0,b.jsx)(i.SelectItem,{value:"IDR",children:"IDR (Rupiah)"}),(0,b.jsx)(i.SelectItem,{value:"USD",children:"USD (Dollar)"})]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"taxRate",children:"Pajak (%)"}),(0,b.jsx)(f.Input,{id:"taxRate",type:"number",value:$.taxRate||0,onChange:a=>_({...$,taxRate:parseFloat(a.target.value)||0})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"thermalPrinterSize",children:"Ukuran Thermal Printer"}),(0,b.jsxs)(i.Select,{value:$.thermalPrinterSize,onValueChange:a=>_({...$,thermalPrinterSize:a}),children:[(0,b.jsx)(i.SelectTrigger,{children:(0,b.jsx)(i.SelectValue,{})}),(0,b.jsxs)(i.SelectContent,{children:[(0,b.jsx)(i.SelectItem,{value:"58mm",children:"58mm Thermal Printer"}),(0,b.jsx)(i.SelectItem,{value:"80mm",children:"80mm Thermal Printer"})]})]})]})]}),(0,b.jsx)(e.Button,{type:"submit",className:"w-full",children:"Simpan Pengaturan Toko"})]})})]}),(0,b.jsxs)(g.Card,{children:[(0,b.jsx)(g.CardHeader,{children:(0,b.jsxs)(g.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(p.Printer,{className:"h-5 w-5"}),"Pengaturan Printer"]})}),(0,b.jsx)(g.CardContent,{children:(0,b.jsxs)("form",{onSubmit:ag,className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"printerName",children:"Nama Printer"}),(0,b.jsx)(f.Input,{id:"printerName",value:aa.printerName,onChange:a=>ab({...aa,printerName:a.target.value})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"paperSize",children:"Ukuran Kertas"}),(0,b.jsxs)(i.Select,{value:aa.paperSize,onValueChange:a=>ab({...aa,paperSize:a}),children:[(0,b.jsx)(i.SelectTrigger,{children:(0,b.jsx)(i.SelectValue,{})}),(0,b.jsxs)(i.SelectContent,{children:[(0,b.jsx)(i.SelectItem,{value:"58mm",children:"58mm"}),(0,b.jsx)(i.SelectItem,{value:"80mm",children:"80mm"})]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"footerText",children:"Teks Footer Struk"}),(0,b.jsx)(f.Input,{id:"footerText",value:aa.footerText,onChange:a=>ab({...aa,footerText:a.target.value})})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)(h.Label,{children:"Opsi Cetak"}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,b.jsx)("input",{type:"checkbox",checked:aa.printLogo,onChange:a=>ab({...aa,printLogo:a.target.checked}),className:"rounded"}),(0,b.jsx)("span",{className:"text-sm",children:"Cetak Logo Toko"})]}),(0,b.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,b.jsx)("input",{type:"checkbox",checked:aa.printFooter,onChange:a=>ab({...aa,printFooter:a.target.checked}),className:"rounded"}),(0,b.jsx)("span",{className:"text-sm",children:"Cetak Footer"})]})]})]}),(0,b.jsx)(e.Button,{type:"submit",className:"w-full",children:"Simpan Pengaturan Printer"})]})})]}),(0,b.jsxs)(g.Card,{children:[(0,b.jsx)(g.CardHeader,{children:(0,b.jsxs)(g.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(o,{className:"h-5 w-5"}),"Profil Pengguna"]})}),(0,b.jsxs)(g.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{children:"Nama"}),(0,b.jsx)("div",{className:"p-2 bg-gray-50 rounded",children:a?.name})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{children:"Email"}),(0,b.jsx)("div",{className:"p-2 bg-gray-50 rounded",children:a?.email})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{children:"Role"}),(0,b.jsx)("div",{children:(0,b.jsx)(j.Badge,{variant:a?.role==="ADMIN"?"default":"secondary",children:a?.role})})]}),(0,b.jsx)(F,{children:(0,b.jsx)(e.Button,{variant:"outline",className:"w-full",children:"Ubah Password"})})]})]}),(0,b.jsxs)(g.Card,{children:[(0,b.jsx)(g.CardHeader,{children:(0,b.jsxs)(g.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(q,{className:"h-5 w-5"}),"Informasi Sistem"]})}),(0,b.jsxs)(g.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(h.Label,{className:"text-xs text-gray-500",children:"Versi Aplikasi"}),(0,b.jsx)("div",{className:"font-medium",children:"v1.0.0"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(h.Label,{className:"text-xs text-gray-500",children:"Database"}),(0,b.jsx)("div",{className:"font-medium",children:"SQLite"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(h.Label,{className:"text-xs text-gray-500",children:"Framework"}),(0,b.jsx)("div",{className:"font-medium",children:"Next.js 16"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(h.Label,{className:"text-xs text-gray-500",children:"ORM"}),(0,b.jsx)("div",{className:"font-medium",children:"Drizzle"})]})]}),(0,b.jsxs)("div",{className:"pt-4 border-t space-y-2",children:[a?.role==="ADMIN"&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(e.Button,{variant:"outline",onClick:an,className:"w-full mb-2",size:"sm",children:"ğŸ”§ Fix Import Error (Run Migration)"}),(0,b.jsx)(e.Button,{variant:"outline",onClick:ao,className:"w-full mb-2",size:"sm",children:"ğŸ“Š Check Disk Usage"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,b.jsxs)(e.Button,{variant:"outline",onClick:ak,children:[(0,b.jsx)(q,{className:"h-4 w-4 mr-2"}),"Backup"]}),(0,b.jsxs)(k.Dialog,{open:H,onOpenChange:I,children:[(0,b.jsx)(k.DialogTrigger,{asChild:!0,children:(0,b.jsxs)(e.Button,{variant:"outline",children:[(0,b.jsx)(q,{className:"h-4 w-4 mr-2"}),"Restore"]})}),(0,b.jsxs)(k.DialogContent,{children:[(0,b.jsx)(k.DialogHeader,{children:(0,b.jsx)(k.DialogTitle,{children:"Restore Database"})}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded",children:(0,b.jsxs)("p",{className:"text-sm text-yellow-800",children:["âš ï¸ ",(0,b.jsx)("strong",{children:"PERINGATAN:"})," Restore akan menimpa semua data yang ada. Pastikan Anda sudah melakukan backup terlebih dahulu."]})}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"restoreFile",children:"Pilih File Backup (.json)"}),(0,b.jsx)(f.Input,{id:"restoreFile",type:"file",accept:".json",onChange:a=>R(a.target.files?.[0]||null)})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(e.Button,{variant:"outline",onClick:()=>I(!1),className:"flex-1",children:"Batal"}),(0,b.jsx)(e.Button,{onClick:ap,disabled:!Q||U,className:"flex-1",children:U?"Restoring...":"Restore Database"})]})]})]})]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,b.jsxs)(k.Dialog,{open:C,onOpenChange:D,children:[(0,b.jsx)(k.DialogTrigger,{asChild:!0,children:(0,b.jsxs)(e.Button,{variant:"outline",children:[(0,b.jsx)(r,{className:"h-4 w-4 mr-2"}),"Export"]})}),(0,b.jsxs)(k.DialogContent,{children:[(0,b.jsx)(k.DialogHeader,{children:(0,b.jsx)(k.DialogTitle,{children:"Export Data"})}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"Pilih jenis data yang ingin diekspor dalam format CSV:"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 gap-2",children:[(0,b.jsx)(e.Button,{variant:"outline",className:"justify-start",onClick:()=>{al("transactions"),D(!1)},children:"ğŸ“Š Data Transaksi"}),(0,b.jsx)(e.Button,{variant:"outline",className:"justify-start",onClick:()=>{al("products"),D(!1)},children:"ğŸ“¦ Data Produk"}),(0,b.jsx)(e.Button,{variant:"outline",className:"justify-start",onClick:()=>{al("sales"),D(!1)},children:"ğŸ›’ Data Penjualan Detail"}),(0,b.jsx)(e.Button,{variant:"outline",className:"justify-start",onClick:()=>{al("shifts"),D(!1)},children:"â° Data Shift Kasir"}),(0,b.jsx)(e.Button,{variant:"outline",className:"justify-start",onClick:()=>{al("expenses"),D(!1)},children:"ğŸ’¸ Data Pengeluaran"})]})]})]})]}),(0,b.jsxs)(k.Dialog,{open:E,onOpenChange:G,children:[(0,b.jsx)(k.DialogTrigger,{asChild:!0,children:(0,b.jsxs)(e.Button,{variant:"outline",children:[(0,b.jsx)(s.Plus,{className:"h-4 w-4 mr-2"}),"Import"]})}),(0,b.jsxs)(k.DialogContent,{children:[(0,b.jsx)(k.DialogHeader,{children:(0,b.jsx)(k.DialogTitle,{children:"Import Data"})}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"Import data dari file CSV. Pastikan format file sesuai dengan template."}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"importType",children:"Jenis Data"}),(0,b.jsxs)(i.Select,{value:O,onValueChange:P,children:[(0,b.jsx)(i.SelectTrigger,{children:(0,b.jsx)(i.SelectValue,{})}),(0,b.jsxs)(i.SelectContent,{children:[(0,b.jsx)(i.SelectItem,{value:"products",children:"ğŸ“¦ Data Produk"}),(0,b.jsx)(i.SelectItem,{value:"categories",children:"ğŸ“‚ Data Kategori"})]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"importFile",children:"Pilih File CSV"}),(0,b.jsx)(f.Input,{id:"importFile",type:"file",accept:".csv,.xlsx,.xls",onChange:a=>N(a.target.files?.[0]||null)})]}),(0,b.jsxs)("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded text-sm",children:[(0,b.jsx)("p",{className:"font-medium mb-2",children:"Format CSV yang diperlukan:"}),"products"===O&&(0,b.jsx)("p",{children:"Barcode, Nama Produk, Kategori ID, Harga Jual, Stok Awal"}),"categories"===O&&(0,b.jsx)("p",{children:"ID, Nama Kategori"})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(e.Button,{variant:"outline",onClick:()=>G(!1),className:"flex-1",children:"Batal"}),(0,b.jsx)(e.Button,{onClick:am,disabled:!M||S,className:"flex-1",children:S?"Importing...":"Import Data"})]})]})]})]})]})]})]})]}),a?.role==="ADMIN"&&(0,b.jsxs)(g.Card,{className:"mt-6",children:[(0,b.jsx)(g.CardHeader,{children:(0,b.jsxs)(g.CardTitle,{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(v.Users,{className:"h-5 w-5"}),"Manajemen User"]}),(0,b.jsxs)(k.Dialog,{open:x,onOpenChange:y,children:[(0,b.jsx)(k.DialogTrigger,{asChild:!0,children:(0,b.jsxs)(e.Button,{children:[(0,b.jsx)(s.Plus,{className:"h-4 w-4 mr-2"}),"Tambah User"]})}),(0,b.jsxs)(k.DialogContent,{children:[(0,b.jsx)(k.DialogHeader,{children:(0,b.jsx)(k.DialogTitle,{children:"Tambah User Baru"})}),(0,b.jsxs)("form",{onSubmit:ah,className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"userEmail",children:"Email"}),(0,b.jsx)(f.Input,{id:"userEmail",type:"email",value:Y.email,onChange:a=>Z({...Y,email:a.target.value}),required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"userName",children:"Nama"}),(0,b.jsx)(f.Input,{id:"userName",value:Y.name,onChange:a=>Z({...Y,name:a.target.value}),required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"userPassword",children:"Password"}),(0,b.jsx)(f.Input,{id:"userPassword",type:"password",value:Y.password,onChange:a=>Z({...Y,password:a.target.value}),required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"userRole",children:"Role"}),(0,b.jsxs)(i.Select,{value:Y.role,onValueChange:a=>Z({...Y,role:a}),children:[(0,b.jsx)(i.SelectTrigger,{children:(0,b.jsx)(i.SelectValue,{})}),(0,b.jsxs)(i.SelectContent,{children:[(0,b.jsx)(i.SelectItem,{value:"ADMIN",children:"Admin"}),(0,b.jsx)(i.SelectItem,{value:"MANAGER",children:"Manager"}),(0,b.jsx)(i.SelectItem,{value:"CASHIER",children:"Kasir"})]})]})]}),(0,b.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,b.jsx)(e.Button,{type:"button",variant:"outline",onClick:()=>y(!1),children:"Batal"}),(0,b.jsx)(e.Button,{type:"submit",children:"Tambah User"})]})]})]})]})]})}),(0,b.jsx)(g.CardContent,{children:(0,b.jsxs)(l.Table,{children:[(0,b.jsx)(l.TableHeader,{children:(0,b.jsxs)(l.TableRow,{children:[(0,b.jsx)(l.TableHead,{children:"Nama"}),(0,b.jsx)(l.TableHead,{children:"Email"}),(0,b.jsx)(l.TableHead,{children:"Role"}),(0,b.jsx)(l.TableHead,{children:"Tanggal Dibuat"}),(0,b.jsx)(l.TableHead,{children:"Aksi"})]})}),(0,b.jsx)(l.TableBody,{children:m.map(a=>(0,b.jsxs)(l.TableRow,{children:[(0,b.jsx)(l.TableCell,{children:a.name}),(0,b.jsx)(l.TableCell,{children:a.email}),(0,b.jsx)(l.TableCell,{children:(0,b.jsx)(j.Badge,{variant:"ADMIN"===a.role?"default":"secondary",children:a.role})}),(0,b.jsx)(l.TableCell,{children:new Date(a.createdAt).toLocaleDateString("id-ID")}),(0,b.jsx)(l.TableCell,{children:(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(e.Button,{size:"sm",variant:"outline",onClick:()=>{L(a),Z({email:a.email,name:a.name,password:"",role:a.role}),A(!0)},children:(0,b.jsx)(t.Edit,{className:"h-4 w-4"})}),(0,b.jsx)(e.Button,{size:"sm",variant:"destructive",onClick:()=>aj(a.id),children:(0,b.jsx)(u.Trash2,{className:"h-4 w-4"})})]})})]},a.id))})]})})]}),(0,b.jsx)(k.Dialog,{open:z,onOpenChange:A,children:(0,b.jsxs)(k.DialogContent,{children:[(0,b.jsx)(k.DialogHeader,{children:(0,b.jsx)(k.DialogTitle,{children:"Edit User"})}),(0,b.jsxs)("form",{onSubmit:ai,className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"editUserEmail",children:"Email"}),(0,b.jsx)(f.Input,{id:"editUserEmail",type:"email",value:Y.email,onChange:a=>Z({...Y,email:a.target.value}),required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"editUserName",children:"Nama"}),(0,b.jsx)(f.Input,{id:"editUserName",value:Y.name,onChange:a=>Z({...Y,name:a.target.value}),required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"editUserRole",children:"Role"}),(0,b.jsxs)(i.Select,{value:Y.role,onValueChange:a=>Z({...Y,role:a}),children:[(0,b.jsx)(i.SelectTrigger,{children:(0,b.jsx)(i.SelectValue,{})}),(0,b.jsxs)(i.SelectContent,{children:[(0,b.jsx)(i.SelectItem,{value:"ADMIN",children:"Admin"}),(0,b.jsx)(i.SelectItem,{value:"MANAGER",children:"Manager"}),(0,b.jsx)(i.SelectItem,{value:"CASHIER",children:"Kasir"})]})]})]}),(0,b.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,b.jsx)(e.Button,{type:"button",variant:"outline",onClick:()=>A(!1),children:"Batal"}),(0,b.jsx)(e.Button,{type:"submit",children:"Simpan Perubahan"})]})]})]})})]})}a.s(["default",()=>L],76010)}];

//# sourceMappingURL=src_app_dashboard_settings_page_tsx_4df57452._.js.map