(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,3281,e=>{"use strict";let t=(0,e.i(75254).default)("printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);e.s(["Printer",()=>t],3281)},93479,48425,e=>{"use strict";var t=e.i(43476),a=e.i(75157);function n({className:e,type:n,...i}){return(0,t.jsx)("input",{type:n,"data-slot":"input",className:(0,a.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...i})}e.s(["Input",()=>n],93479);var i=e.i(71645),s=e.i(74080),r=e.i(91918),l=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,a)=>{let n=(0,r.createSlot)(`Primitive.${a}`),s=i.forwardRef((e,i)=>{let{asChild:s,...r}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(s?n:a,{...r,ref:i})});return s.displayName=`Primitive.${a}`,{...e,[a]:s}},{});function o(e,t){e&&s.flushSync(()=>e.dispatchEvent(t))}e.s(["Primitive",()=>l,"dispatchDiscreteCustomEvent",()=>o],48425)},10204,e=>{"use strict";var t=e.i(43476),a=e.i(71645),n=e.i(48425),i=a.forwardRef((e,a)=>(0,t.jsx)(n.Primitive.label,{...e,ref:a,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));i.displayName="Label";var s=e.i(75157);function r({className:e,...a}){return(0,t.jsx)(i,{"data-slot":"label",className:(0,s.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...a})}e.s(["Label",()=>r],10204)},87486,e=>{"use strict";var t=e.i(43476),a=e.i(91918),n=e.i(25913),i=e.i(75157);let s=(0,n.cva)("inline-flex items-center justify-center rounded-full border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function r({className:e,variant:n,asChild:r=!1,...l}){let o=r?a.Slot:"span";return(0,t.jsx)(o,{"data-slot":"badge",className:(0,i.cn)(s({variant:n}),e),...l})}e.s(["Badge",()=>r])},96626,e=>{"use strict";var t=e.i(71645),a=e.i(20783),n=e.i(34620),i=e=>{var i;let r,l,{present:o,children:d}=e,c=function(e){var a,i;let[r,l]=t.useState(),o=t.useRef(null),d=t.useRef(e),c=t.useRef("none"),[u,p]=(a=e?"mounted":"unmounted",i={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},t.useReducer((e,t)=>i[e][t]??e,a));return t.useEffect(()=>{let e=s(o.current);c.current="mounted"===u?e:"none"},[u]),(0,n.useLayoutEffect)(()=>{let t=o.current,a=d.current;if(a!==e){let n=c.current,i=s(t);e?p("MOUNT"):"none"===i||t?.display==="none"?p("UNMOUNT"):a&&n!==i?p("ANIMATION_OUT"):p("UNMOUNT"),d.current=e}},[e,p]),(0,n.useLayoutEffect)(()=>{if(r){let e,t=r.ownerDocument.defaultView??window,a=a=>{let n=s(o.current).includes(CSS.escape(a.animationName));if(a.target===r&&n&&(p("ANIMATION_END"),!d.current)){let a=r.style.animationFillMode;r.style.animationFillMode="forwards",e=t.setTimeout(()=>{"forwards"===r.style.animationFillMode&&(r.style.animationFillMode=a)})}},n=e=>{e.target===r&&(c.current=s(o.current))};return r.addEventListener("animationstart",n),r.addEventListener("animationcancel",a),r.addEventListener("animationend",a),()=>{t.clearTimeout(e),r.removeEventListener("animationstart",n),r.removeEventListener("animationcancel",a),r.removeEventListener("animationend",a)}}p("ANIMATION_END")},[r,p]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:t.useCallback(e=>{o.current=e?getComputedStyle(e):null,l(e)},[])}}(o),u="function"==typeof d?d({present:c.isPresent}):t.Children.only(d),p=(0,a.useComposedRefs)(c.ref,(i=u,(l=(r=Object.getOwnPropertyDescriptor(i.props,"ref")?.get)&&"isReactWarning"in r&&r.isReactWarning)?i.ref:(l=(r=Object.getOwnPropertyDescriptor(i,"ref")?.get)&&"isReactWarning"in r&&r.isReactWarning)?i.props.ref:i.props.ref||i.ref));return"function"==typeof d||c.isPresent?t.cloneElement(u,{ref:p}):null};function s(e){return e?.animationName||"none"}i.displayName="Presence",e.s(["Presence",()=>i])},76639,e=>{"use strict";var t=e.i(43476),a=e.i(71645),n=e.i(81140),i=e.i(20783),s=e.i(30030),r=e.i(10772),l=e.i(69340),o=e.i(26330),d=e.i(65491),c=e.i(74606),u=e.i(96626),p=e.i(48425),h=e.i(3536),m=e.i(85369),f=e.i(86312),g=e.i(91918),x="Dialog",[v,j]=(0,s.createContextScope)(x),[y,b]=v(x),N=e=>{let{__scopeDialog:n,children:i,open:s,defaultOpen:o,onOpenChange:d,modal:c=!0}=e,u=a.useRef(null),p=a.useRef(null),[h,m]=(0,l.useControllableState)({prop:s,defaultProp:o??!1,onChange:d,caller:x});return(0,t.jsx)(y,{scope:n,triggerRef:u,contentRef:p,contentId:(0,r.useId)(),titleId:(0,r.useId)(),descriptionId:(0,r.useId)(),open:h,onOpenChange:m,onOpenToggle:a.useCallback(()=>m(e=>!e),[m]),modal:c,children:i})};N.displayName=x;var w="DialogTrigger",T=a.forwardRef((e,a)=>{let{__scopeDialog:s,...r}=e,l=b(w,s),o=(0,i.useComposedRefs)(a,l.triggerRef);return(0,t.jsx)(p.Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":l.open,"aria-controls":l.contentId,"data-state":U(l.open),...r,ref:o,onClick:(0,n.composeEventHandlers)(e.onClick,l.onOpenToggle)})});T.displayName=w;var C="DialogPortal",[D,S]=v(C,{forceMount:void 0}),k=e=>{let{__scopeDialog:n,forceMount:i,children:s,container:r}=e,l=b(C,n);return(0,t.jsx)(D,{scope:n,forceMount:i,children:a.Children.map(s,e=>(0,t.jsx)(u.Presence,{present:i||l.open,children:(0,t.jsx)(c.Portal,{asChild:!0,container:r,children:e})}))})};k.displayName=C;var R="DialogOverlay",I=a.forwardRef((e,a)=>{let n=S(R,e.__scopeDialog),{forceMount:i=n.forceMount,...s}=e,r=b(R,e.__scopeDialog);return r.modal?(0,t.jsx)(u.Presence,{present:i||r.open,children:(0,t.jsx)(O,{...s,ref:a})}):null});I.displayName=R;var P=(0,g.createSlot)("DialogOverlay.RemoveScroll"),O=a.forwardRef((e,a)=>{let{__scopeDialog:n,...i}=e,s=b(R,n);return(0,t.jsx)(m.RemoveScroll,{as:P,allowPinchZoom:!0,shards:[s.contentRef],children:(0,t.jsx)(p.Primitive.div,{"data-state":U(s.open),...i,ref:a,style:{pointerEvents:"auto",...i.style}})})}),E="DialogContent",A=a.forwardRef((e,a)=>{let n=S(E,e.__scopeDialog),{forceMount:i=n.forceMount,...s}=e,r=b(E,e.__scopeDialog);return(0,t.jsx)(u.Presence,{present:i||r.open,children:r.modal?(0,t.jsx)(L,{...s,ref:a}):(0,t.jsx)(M,{...s,ref:a})})});A.displayName=E;var L=a.forwardRef((e,s)=>{let r=b(E,e.__scopeDialog),l=a.useRef(null),o=(0,i.useComposedRefs)(s,r.contentRef,l);return a.useEffect(()=>{let e=l.current;if(e)return(0,f.hideOthers)(e)},[]),(0,t.jsx)(F,{...e,ref:o,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,n.composeEventHandlers)(e.onCloseAutoFocus,e=>{e.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:(0,n.composeEventHandlers)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,a=0===t.button&&!0===t.ctrlKey;(2===t.button||a)&&e.preventDefault()}),onFocusOutside:(0,n.composeEventHandlers)(e.onFocusOutside,e=>e.preventDefault())})}),M=a.forwardRef((e,n)=>{let i=b(E,e.__scopeDialog),s=a.useRef(!1),r=a.useRef(!1);return(0,t.jsx)(F,{...e,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(s.current||i.triggerRef.current?.focus(),t.preventDefault()),s.current=!1,r.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(s.current=!0,"pointerdown"===t.detail.originalEvent.type&&(r.current=!0));let a=t.target;i.triggerRef.current?.contains(a)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&r.current&&t.preventDefault()}})}),F=a.forwardRef((e,n)=>{let{__scopeDialog:s,trapFocus:r,onOpenAutoFocus:l,onCloseAutoFocus:c,...u}=e,p=b(E,s),m=a.useRef(null),f=(0,i.useComposedRefs)(n,m);return(0,h.useFocusGuards)(),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d.FocusScope,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:l,onUnmountAutoFocus:c,children:(0,t.jsx)(o.DismissableLayer,{role:"dialog",id:p.contentId,"aria-describedby":p.descriptionId,"aria-labelledby":p.titleId,"data-state":U(p.open),...u,ref:f,onDismiss:()=>p.onOpenChange(!1)})}),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(V,{titleId:p.titleId}),(0,t.jsx)(q,{contentRef:m,descriptionId:p.descriptionId})]})]})}),H="DialogTitle",K=a.forwardRef((e,a)=>{let{__scopeDialog:n,...i}=e,s=b(H,n);return(0,t.jsx)(p.Primitive.h2,{id:s.titleId,...i,ref:a})});K.displayName=H;var $="DialogDescription";a.forwardRef((e,a)=>{let{__scopeDialog:n,...i}=e,s=b($,n);return(0,t.jsx)(p.Primitive.p,{id:s.descriptionId,...i,ref:a})}).displayName=$;var _="DialogClose",B=a.forwardRef((e,a)=>{let{__scopeDialog:i,...s}=e,r=b(_,i);return(0,t.jsx)(p.Primitive.button,{type:"button",...s,ref:a,onClick:(0,n.composeEventHandlers)(e.onClick,()=>r.onOpenChange(!1))})});function U(e){return e?"open":"closed"}B.displayName=_;var z="DialogTitleWarning",[W,G]=(0,s.createContext)(z,{contentName:E,titleName:H,docsSlug:"dialog"}),V=({titleId:e})=>{let t=G(z),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return a.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},q=({contentRef:e,descriptionId:t})=>{let n=G("DialogDescriptionWarning"),i=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${n.contentName}}.`;return a.useEffect(()=>{let a=e.current?.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(i))},[i,e,t]),null},J=e.i(41947),J=J,Y=e.i(75157);function Z({...e}){return(0,t.jsx)(N,{"data-slot":"dialog",...e})}function Q({...e}){return(0,t.jsx)(T,{"data-slot":"dialog-trigger",...e})}function X({...e}){return(0,t.jsx)(k,{"data-slot":"dialog-portal",...e})}function ee({className:e,...a}){return(0,t.jsx)(I,{"data-slot":"dialog-overlay",className:(0,Y.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...a})}function et({className:e,children:a,showCloseButton:n=!0,...i}){return(0,t.jsxs)(X,{"data-slot":"dialog-portal",children:[(0,t.jsx)(ee,{}),(0,t.jsxs)(A,{"data-slot":"dialog-content",className:(0,Y.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...i,children:[a,n&&(0,t.jsxs)(B,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,t.jsx)(J.default,{}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function ea({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"dialog-header",className:(0,Y.cn)("flex flex-col gap-2 text-center sm:text-left",e),...a})}function en({className:e,...a}){return(0,t.jsx)(K,{"data-slot":"dialog-title",className:(0,Y.cn)("text-lg leading-none font-semibold",e),...a})}e.s(["Dialog",()=>Z,"DialogContent",()=>et,"DialogHeader",()=>ea,"DialogTitle",()=>en,"DialogTrigger",()=>Q],76639)},25652,e=>{"use strict";let t=(0,e.i(75254).default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);e.s(["TrendingUp",()=>t],25652)},98120,e=>{"use strict";var t=e.i(43476),a=e.i(71645),n=e.i(67181),i=e.i(19455),s=e.i(93479),r=e.i(15288),l=e.i(10204),o=e.i(87486),d=e.i(76639),c=e.i(84774),u=e.i(3116),p=e.i(25652);let h=(0,e.i(75254).default)("calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);var m=e.i(3281);function f(){let{user:e}=(0,n.useAuth)(),[f,g]=(0,a.useState)(null),[x,v]=(0,a.useState)([]),[j,y]=(0,a.useState)(!1),[b,N]=(0,a.useState)(!1),[w,T]=(0,a.useState)(0),[C,D]=(0,a.useState)(0),[S,k]=(0,a.useState)(""),[R,I]=(0,a.useState)(null);(0,a.useEffect)(()=>{P(),O()},[]);let P=async()=>{try{let e=await fetch("/api/shifts",{credentials:"include"});if(e.ok){let t=await e.json();v(Array.isArray(t)?t:[])}}catch(e){console.error("Error fetching shifts:",e)}},O=async()=>{try{let t=await fetch("/api/shifts?status=OPEN",{credentials:"include"});if(t.ok){let a=await t.json(),n=(Array.isArray(a)?a:[]).find(t=>t.userId===e?.id);g(n||null)}}catch(e){console.error("Error checking current shift:",e)}},E=async e=>{e.preventDefault();try{let e=await fetch("/api/shifts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"start",startingCash:w}),credentials:"include"});if(e.ok){let t=await e.json();g(t),y(!1),T(0),alert("Shift berhasil dimulai!"),P()}else{let t=await e.json();alert(`Gagal memulai shift: ${t.error}`)}}catch(e){console.error("Error starting shift:",e),alert("Terjadi kesalahan saat memulai shift")}},A=async e=>{e.preventDefault();try{let e=await fetch("/api/shifts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"close",endingCash:C,notes:S}),credentials:"include"});if(e.ok){let t=await e.json();I(t.summary),g(null),N(!1),D(0),k(""),alert("Shift berhasil ditutup!"),P()}else{let t=await e.json();alert(`Gagal menutup shift: ${t.error}`)}}catch(e){console.error("Error closing shift:",e),alert("Terjadi kesalahan saat menutup shift")}};return(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Tutup Kasir"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Kelola shift kasir dan hitung kas"})]}),(0,t.jsxs)(r.Card,{className:"mb-6",children:[(0,t.jsx)(r.CardHeader,{children:(0,t.jsxs)(r.CardTitle,{className:"flex items-center gap-2",children:[(0,t.jsx)(u.Clock,{className:"h-5 w-5"}),"Status Shift Saat Ini"]})}),(0,t.jsx)(r.CardContent,{children:f?(0,t.jsx)("div",{className:"space-y-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(o.Badge,{variant:"default",children:"SHIFT AKTIF"}),(0,t.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["Petugas: ",e?.name]}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["Dimulai: ",new Date(f.startTime).toLocaleString("id-ID")]}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["Kas Awal: Rp ",f.startingCash.toLocaleString()]})]}),(0,t.jsx)(i.Button,{onClick:()=>N(!0),children:"Tutup Shift"})]})}):(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)("p",{className:"text-gray-500 mb-4",children:"Tidak ada shift aktif"}),(0,t.jsxs)(d.Dialog,{open:j,onOpenChange:y,children:[(0,t.jsx)(d.DialogTrigger,{asChild:!0,children:(0,t.jsx)(i.Button,{children:"Mulai Shift"})}),(0,t.jsxs)(d.DialogContent,{children:[(0,t.jsx)(d.DialogHeader,{children:(0,t.jsx)(d.DialogTitle,{children:"Mulai Shift Kasir"})}),(0,t.jsxs)("form",{onSubmit:E,className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(l.Label,{htmlFor:"startingCash",children:"Kas Awal (Rp)"}),(0,t.jsx)(s.Input,{id:"startingCash",type:"number",value:w,onChange:e=>T(parseFloat(e.target.value)||0),placeholder:"Masukkan jumlah kas awal",required:!0})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,t.jsx)(i.Button,{type:"button",variant:"outline",onClick:()=>y(!1),children:"Batal"}),(0,t.jsx)(i.Button,{type:"submit",children:"Mulai Shift"})]})]})]})]})]})})]}),(0,t.jsxs)(r.Card,{children:[(0,t.jsx)(r.CardHeader,{children:(0,t.jsx)(r.CardTitle,{children:"Riwayat Shift"})}),(0,t.jsx)(r.CardContent,{children:0===x.length?(0,t.jsx)("div",{className:"text-center py-8 text-gray-500",children:"Belum ada riwayat shift"}):(0,t.jsxs)(c.Table,{children:[(0,t.jsx)(c.TableHeader,{children:(0,t.jsxs)(c.TableRow,{children:[(0,t.jsx)(c.TableHead,{children:"Tanggal"}),(0,t.jsx)(c.TableHead,{children:"Petugas"}),(0,t.jsx)(c.TableHead,{children:"Durasi"}),(0,t.jsx)(c.TableHead,{children:"Kas Awal"}),(0,t.jsx)(c.TableHead,{children:"Kas Akhir"}),(0,t.jsx)(c.TableHead,{children:"Penjualan"}),(0,t.jsx)(c.TableHead,{children:"Catatan"}),(0,t.jsx)(c.TableHead,{children:"Status"})]})}),(0,t.jsx)(c.TableBody,{children:x.map(e=>(0,t.jsxs)(c.TableRow,{children:[(0,t.jsx)(c.TableCell,{children:(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium",children:new Date(e.startTime).toLocaleDateString("id-ID")}),(0,t.jsxs)("div",{className:"text-xs text-gray-500",children:[new Date(e.startTime).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"}),e.endTime&&` - ${new Date(e.endTime).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"})}`]})]})}),(0,t.jsx)(c.TableCell,{children:(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium",children:e.user?.name||"Unknown"}),(0,t.jsx)("div",{className:"text-xs text-gray-500",children:e.user?.role})]})}),(0,t.jsx)(c.TableCell,{children:e.endTime?`${Math.round((new Date(e.endTime).getTime()-new Date(e.startTime).getTime())/36e5)} jam`:"Aktif"}),(0,t.jsxs)(c.TableCell,{children:["Rp ",e.startingCash.toLocaleString()]}),(0,t.jsx)(c.TableCell,{children:e.endingCash?`Rp ${e.endingCash.toLocaleString()}`:"-"}),(0,t.jsxs)(c.TableCell,{children:["Rp ",e.totalSales.toLocaleString()]}),(0,t.jsx)(c.TableCell,{children:e.notes?(0,t.jsx)("div",{className:"max-w-xs",children:(0,t.jsx)("p",{className:"text-sm truncate",title:e.notes,children:e.notes})}):(0,t.jsx)("span",{className:"text-gray-400",children:"-"})}),(0,t.jsx)(c.TableCell,{children:(0,t.jsx)(o.Badge,{variant:"OPEN"===e.status?"default":"secondary",children:"OPEN"===e.status?"Aktif":"Tutup"})})]},e.id))})]})})]}),(0,t.jsx)(d.Dialog,{open:b,onOpenChange:N,children:(0,t.jsxs)(d.DialogContent,{className:"max-w-md",children:[(0,t.jsx)(d.DialogHeader,{children:(0,t.jsx)(d.DialogTitle,{children:"Tutup Shift Kasir"})}),(0,t.jsxs)("form",{onSubmit:A,className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(l.Label,{htmlFor:"endingCash",children:"Kas Akhir (Rp)"}),(0,t.jsx)(s.Input,{id:"endingCash",type:"number",value:C,onChange:e=>D(parseFloat(e.target.value)||0),placeholder:"Hitung kas fisik saat ini",required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(l.Label,{htmlFor:"notes",children:"Catatan (Opsional)"}),(0,t.jsx)(s.Input,{id:"notes",value:S,onChange:e=>k(e.target.value),placeholder:"Catatan untuk shift ini"})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,t.jsx)(i.Button,{type:"button",variant:"outline",onClick:()=>N(!1),children:"Batal"}),(0,t.jsx)(i.Button,{type:"submit",children:"Tutup Shift"})]})]})]})}),R&&(0,t.jsx)(d.Dialog,{open:!!R,onOpenChange:()=>I(null),children:(0,t.jsxs)(d.DialogContent,{className:"max-w-md",children:[(0,t.jsx)(d.DialogHeader,{children:(0,t.jsx)(d.DialogTitle,{children:"Ringkasan Shift"})}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"text-center p-3 bg-blue-50 rounded",children:[(0,t.jsx)(p.TrendingUp,{className:"h-6 w-6 mx-auto mb-2 text-blue-600"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Total Penjualan"}),(0,t.jsxs)("p",{className:"font-bold",children:["Rp ",R.totalSales.toLocaleString()]})]}),(0,t.jsxs)("div",{className:"text-center p-3 bg-green-50 rounded",children:[(0,t.jsx)(h,{className:"h-6 w-6 mx-auto mb-2 text-green-600"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Transaksi"}),(0,t.jsx)("p",{className:"font-bold",children:R.totalTransactions})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Kas Seharusnya:"}),(0,t.jsxs)("span",{children:["Rp ",R.netCash.toLocaleString()]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Kas Aktual:"}),(0,t.jsxs)("span",{children:["Rp ",R.actualCash.toLocaleString()]})]}),(0,t.jsxs)("div",{className:"flex justify-between font-bold",children:[(0,t.jsx)("span",{children:"Selisih:"}),(0,t.jsxs)("span",{className:R.difference>=0?"text-green-600":"text-red-600",children:["Rp ",R.difference.toLocaleString()]})]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(i.Button,{variant:"outline",onClick:()=>I(null),className:"flex-1",children:"Tutup"}),(0,t.jsxs)(i.Button,{onClick:()=>{if(!R)return;let t=window.open("","_blank");if(!t)return;let a=`
      <!DOCTYPE html>
      <html>
      <head>
        <title>Laporan Tutup Kasir</title>
        <style>
          body { font-family: Arial, sans-serif; margin: 20px; }
          .header { text-align: center; border-bottom: 2px solid #000; padding-bottom: 10px; margin-bottom: 20px; }
          .section { margin: 20px 0; }
          .item { display: flex; justify-content: space-between; margin: 5px 0; }
          .total { border-top: 1px solid #000; padding-top: 10px; font-weight: bold; }
        </style>
      </head>
      <body>
        <div class="header">
          <h2>LAPORAN TUTUP KASIR</h2>
          <p>Gita Fashion</p>
          <p>${new Date().toLocaleString("id-ID")}</p>
        </div>
        
        <div class="section">
          <h3>Kasir: ${e?.name}</h3>
          <div class="item"><span>Waktu Tutup:</span><span>${new Date().toLocaleString("id-ID")}</span></div>
        </div>

        <div class="section">
          <h3>Ringkasan Penjualan</h3>
          <div class="item"><span>Total Transaksi:</span><span>${R.totalTransactions}</span></div>
          <div class="item"><span>Total Penjualan:</span><span>Rp ${R.totalSales.toLocaleString("id-ID")}</span></div>
          <div class="item"><span>Total Pengeluaran:</span><span>Rp ${R.totalExpenses.toLocaleString("id-ID")}</span></div>
        </div>

        <div class="section">
          <h3>Kas</h3>
          <div class="item"><span>Kas Awal:</span><span>Rp ${(f?.startingCash||0).toLocaleString("id-ID")}</span></div>
          <div class="item"><span>Kas Seharusnya:</span><span>Rp ${R.netCash.toLocaleString("id-ID")}</span></div>
          <div class="item"><span>Kas Aktual:</span><span>Rp ${R.actualCash.toLocaleString("id-ID")}</span></div>
          <div class="item total"><span>Selisih:</span><span>Rp ${R.difference.toLocaleString("id-ID")}</span></div>
        </div>
      </body>
      </html>
    `;t.document.open(),t.document.write(a),t.document.close(),setTimeout(()=>{t.print()},100),setTimeout(()=>{t.close()},1e3)},className:"flex-1",children:[(0,t.jsx)(m.Printer,{className:"h-4 w-4 mr-2"}),"Cetak Laporan"]})]})]})]})})]})}e.s(["default",()=>f],98120)}]);