(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,59772,e=>{"use strict";var a=e.i(43476),s=e.i(71645),r=e.i(67181),l=e.i(19455),t=e.i(93479),i=e.i(15288),n=e.i(10204),o=e.i(67489),d=e.i(87486),c=e.i(76639),h=e.i(84774),m=e.i(75254);let u=(0,m.default)("store",[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]]),x=(0,m.default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);var p=e.i(3281);let g=(0,m.default)("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),j=(0,m.default)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);var y=e.i(7233),b=e.i(88511),f=e.i(27612),N=e.i(61911);let k=(0,m.default)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]),v=(0,m.default)("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);var w=e.i(37727),C=e.i(43531),S=e.i(57688);function T({currentLogo:e,onLogoChange:r}){let[o,d]=(0,s.useState)(null),[c,h]=(0,s.useState)(null),[m,u]=(0,s.useState)(!1),[x,p]=(0,s.useState)(!1),g=(0,s.useRef)(null),j=async()=>{if(o){u(!0);try{let e=new FormData;e.append("logo",o);let a=await fetch("/api/settings/logo",{method:"POST",body:e,credentials:"include"});if(a.ok){let e=await a.json();p(!0),r?.(e.logoUrl),setTimeout(()=>{d(null),h(null),p(!1),g.current&&(g.current.value="")},2e3),alert("Logo berhasil diupload!")}else{let e=await a.json();alert(`Gagal upload logo: ${e.message}`)}}catch(e){console.error("Error uploading logo:",e),alert("Terjadi kesalahan saat upload logo")}finally{u(!1)}}},y=async()=>{if(confirm("Apakah Anda yakin ingin mengembalikan logo ke default?"))try{(await fetch("/api/settings/logo",{method:"DELETE",credentials:"include"})).ok?(r?.("/logo-gita-fashion.svg"),alert("Logo berhasil direset ke default!")):alert("Gagal reset logo")}catch(e){console.error("Error resetting logo:",e),alert("Terjadi kesalahan saat reset logo")}};return(0,a.jsxs)(i.Card,{children:[(0,a.jsx)(i.CardHeader,{children:(0,a.jsxs)(i.CardTitle,{className:"flex items-center gap-2",children:[(0,a.jsx)(v,{className:"h-5 w-5"}),"Logo Toko"]})}),(0,a.jsxs)(i.CardContent,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{children:"Logo Saat Ini"}),(0,a.jsx)("div",{className:"flex items-center justify-center p-4 border-2 border-dashed border-gray-300 rounded-lg bg-gray-50",children:e?(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(S.default,{src:e,alt:"Logo Toko",width:120,height:120,className:"mx-auto object-contain",onError:()=>{r?.("/logo-gita-fashion.svg")}}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Logo Aktif"})]}):(0,a.jsxs)("div",{className:"text-center text-gray-500",children:[(0,a.jsx)(v,{className:"h-12 w-12 mx-auto mb-2"}),(0,a.jsx)("p",{children:"Tidak ada logo"})]})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{htmlFor:"logoFile",children:"Upload Logo Baru"}),(0,a.jsx)(t.Input,{ref:g,id:"logoFile",type:"file",accept:"image/*",onChange:e=>{let a=e.target.files?.[0];if(a){if(!a.type.startsWith("image/"))return void alert("Hanya file gambar yang diperbolehkan");if(a.size>2097152)return void alert("Ukuran file maksimal 2MB");d(a);let e=new FileReader;e.onload=e=>{h(e.target?.result)},e.readAsDataURL(a),p(!1)}},className:"cursor-pointer"}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Format: JPG, PNG, SVG. Maksimal 2MB. Rekomendasi: 200x200px atau rasio 1:1"})]}),c&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{children:"Preview Logo Baru"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"flex items-center justify-center p-4 border-2 border-blue-300 rounded-lg bg-blue-50",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(S.default,{src:c,alt:"Preview Logo",width:120,height:120,className:"mx-auto object-contain"}),(0,a.jsxs)("p",{className:"text-sm text-blue-600 mt-2",children:[o?.name," (",Math.round((o?.size||0)/1024),"KB)"]})]})}),(0,a.jsx)(l.Button,{size:"sm",variant:"destructive",className:"absolute top-2 right-2",onClick:()=>{d(null),h(null),p(!1),g.current&&(g.current.value="")},children:(0,a.jsx)(w.X,{className:"h-4 w-4"})})]})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(l.Button,{onClick:j,disabled:!o||m||x,className:"flex-1",children:m?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(k,{className:"h-4 w-4 mr-2 animate-spin"}),"Uploading..."]}):x?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(C.Check,{className:"h-4 w-4 mr-2"}),"Berhasil!"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(k,{className:"h-4 w-4 mr-2"}),"Upload Logo"]})}),(0,a.jsx)(l.Button,{variant:"outline",onClick:y,disabled:m,children:"Reset Default"})]}),(0,a.jsxs)("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded text-sm",children:[(0,a.jsx)("p",{className:"font-medium mb-2",children:"ğŸ“‹ Panduan Upload Logo:"}),(0,a.jsxs)("ul",{className:"space-y-1 text-blue-700",children:[(0,a.jsx)("li",{children:"â€¢ Gunakan format PNG atau SVG untuk hasil terbaik"}),(0,a.jsx)("li",{children:"â€¢ Rasio 1:1 (persegi) direkomendasikan"}),(0,a.jsx)("li",{children:"â€¢ Logo akan muncul di login page, sidebar, dan struk"}),(0,a.jsx)("li",{children:"â€¢ Pastikan logo terlihat jelas pada background terang dan gelap"})]})]})]})]})}var P=e.i(86536);let D=(0,m.default)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),I=(0,m.default)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);function L({children:e}){let[r,i]=(0,s.useState)(!1),[o,d]=(0,s.useState)(!1),[h,m]=(0,s.useState)(!1),[u,x]=(0,s.useState)(!1),[p,g]=(0,s.useState)(!1),[j,y]=(0,s.useState)(""),[b,f]=(0,s.useState)(""),[N,k]=(0,s.useState)({currentPassword:"",newPassword:"",confirmPassword:""}),v=async e=>{if(e.preventDefault(),y(""),f(""),console.log("ğŸ” Change password form submitted"),!N.currentPassword||!N.newPassword||!N.confirmPassword)return void y("Semua field harus diisi");if(N.newPassword.length<6)return void y("Password baru minimal 6 karakter");if(N.newPassword!==N.confirmPassword)return void y("Konfirmasi password tidak sesuai");if(N.currentPassword===N.newPassword)return void y("Password baru harus berbeda dengan password lama");d(!0),console.log("ğŸ” Sending change password request...");try{let e=await fetch("/api/auth/change-password",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({currentPassword:N.currentPassword,newPassword:N.newPassword})});if(console.log("ğŸ” Change password response status:",e.status),!e.ok){let a="Gagal mengubah password";try{a=(await e.json()).error||a}catch{a=`Error ${e.status}: ${e.statusText}`}401===e.status&&(a="Sesi Anda telah berakhir. Silakan login ulang."),y(a),console.error("ğŸ” Change password failed:",a);return}let a=await e.json();console.log("ğŸ” Change password success:",a),f("Password berhasil diubah!"),k({currentPassword:"",newPassword:"",confirmPassword:""}),setTimeout(()=>{i(!1),f("")},2e3)}catch(e){console.error("ğŸ” Error changing password:",e),y("Terjadi kesalahan saat mengubah password. Periksa koneksi internet Anda.")}finally{d(!1)}};return(0,a.jsxs)(c.Dialog,{open:r,onOpenChange:e=>{console.log("ğŸ” Dialog state changed:",e),i(e)},children:[(0,a.jsx)(c.DialogTrigger,{asChild:!0,onClick:()=>console.log("ğŸ” Change password button clicked"),children:e}),(0,a.jsxs)(c.DialogContent,{className:"sm:max-w-md",children:[(0,a.jsx)(c.DialogHeader,{children:(0,a.jsxs)(c.DialogTitle,{className:"flex items-center gap-2",children:[(0,a.jsx)(I,{className:"h-5 w-5"}),"Ubah Password"]})}),(0,a.jsxs)("form",{onSubmit:v,className:"space-y-4",children:[j&&(0,a.jsx)("div",{className:"p-3 rounded-md border border-red-200 bg-red-50 text-red-800 text-sm",children:j}),b&&(0,a.jsx)("div",{className:"p-3 rounded-md border border-green-200 bg-green-50 text-green-800 text-sm",children:b}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{htmlFor:"currentPassword",children:"Password Lama"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(t.Input,{id:"currentPassword",type:h?"text":"password",value:N.currentPassword,onChange:e=>k({...N,currentPassword:e.target.value}),placeholder:"Masukkan password lama",required:!0,disabled:o}),(0,a.jsx)(l.Button,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>m(!h),disabled:o,children:h?(0,a.jsx)(D,{className:"h-4 w-4"}):(0,a.jsx)(P.Eye,{className:"h-4 w-4"})})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{htmlFor:"newPassword",children:"Password Baru"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(t.Input,{id:"newPassword",type:u?"text":"password",value:N.newPassword,onChange:e=>k({...N,newPassword:e.target.value}),placeholder:"Masukkan password baru (minimal 6 karakter)",required:!0,disabled:o}),(0,a.jsx)(l.Button,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>x(!u),disabled:o,children:u?(0,a.jsx)(D,{className:"h-4 w-4"}):(0,a.jsx)(P.Eye,{className:"h-4 w-4"})})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{htmlFor:"confirmPassword",children:"Konfirmasi Password Baru"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(t.Input,{id:"confirmPassword",type:p?"text":"password",value:N.confirmPassword,onChange:e=>k({...N,confirmPassword:e.target.value}),placeholder:"Ulangi password baru",required:!0,disabled:o}),(0,a.jsx)(l.Button,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>g(!p),disabled:o,children:p?(0,a.jsx)(D,{className:"h-4 w-4"}):(0,a.jsx)(P.Eye,{className:"h-4 w-4"})})]})]}),(0,a.jsxs)("div",{className:"flex gap-2 pt-4",children:[(0,a.jsx)(l.Button,{type:"button",variant:"outline",onClick:()=>{i(!1),y(""),f(""),k({currentPassword:"",newPassword:"",confirmPassword:""})},disabled:o,className:"flex-1",children:"Batal"}),(0,a.jsx)(l.Button,{type:"submit",disabled:o,className:"flex-1",children:o?"Mengubah...":"Ubah Password"})]})]})]})]})}var E=e.i(78583);let F=(0,m.default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),B=(0,m.default)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),A=(0,m.default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);function R(){let[e,r]=(0,s.useState)(null),[t,n]=(0,s.useState)(!1),[o,d]=(0,s.useState)(!1),[c,h]=(0,s.useState)(null),[m,u]=(0,s.useState)(""),[x,p]=(0,s.useState)(""),g=(0,s.useRef)(null),j=async()=>{if(!m||!x)return void alert("Pilih tanggal mulai dan tanggal akhir");if(confirm(`Hapus semua transaksi dari ${m} sampai ${x}?

Peringatan: Aksi ini tidak dapat dibatalkan!`)){d(!0);try{let e=await fetch("/api/transactions/delete-range",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({startDate:m,endDate:x})}),a=await e.json();e.ok?(alert(`âœ… Berhasil menghapus ${a.deletedCount} transaksi`),u(""),p("")):alert(`âŒ Error: ${a.error}`)}catch(e){console.error("Delete error:",e),alert("Terjadi kesalahan saat menghapus transaksi")}finally{d(!1)}}},y=async()=>{if(!e)return void alert("Pilih file CSV terlebih dahulu");n(!0),h(null);try{let a=new FormData;a.append("file",e);let s=await fetch("/api/import/transactions",{method:"POST",body:a}),l=await s.json();s.ok?(h(l),r(null),g.current&&(g.current.value="")):alert(`Error: ${l.error}`)}catch(e){console.error("Import error:",e),alert("Terjadi kesalahan saat import")}finally{n(!1)}};return(0,a.jsxs)(i.Card,{children:[(0,a.jsxs)(i.CardHeader,{children:[(0,a.jsxs)(i.CardTitle,{className:"flex items-center gap-2",children:[(0,a.jsx)(k,{className:"h-5 w-5"}),"Import Transaksi dari CSV"]}),(0,a.jsx)(i.CardDescription,{children:"Upload file CSV untuk import transaksi lama ke sistem"})]}),(0,a.jsxs)(i.CardContent,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded space-y-3",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-yellow-900",children:"âš ï¸ Hapus Transaksi (untuk re-import)"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs text-yellow-800 mb-1",children:"Dari Tanggal"}),(0,a.jsx)("input",{type:"date",value:m,onChange:e=>u(e.target.value),className:"w-full px-3 py-2 text-sm border rounded"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs text-yellow-800 mb-1",children:"Sampai Tanggal"}),(0,a.jsx)("input",{type:"date",value:x,onChange:e=>p(e.target.value),className:"w-full px-3 py-2 text-sm border rounded"})]})]}),(0,a.jsx)(l.Button,{variant:"destructive",size:"sm",onClick:j,disabled:!m||!x||o,className:"w-full",children:o?"Menghapus...":"Hapus Transaksi di Range Ini"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"block text-sm font-medium",children:"Pilih File CSV"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("input",{ref:g,type:"file",accept:".csv",onChange:e=>{e.target.files&&e.target.files[0]&&(r(e.target.files[0]),h(null))},className:"flex-1 text-sm file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"}),(0,a.jsx)(l.Button,{onClick:y,disabled:!e||t,children:t?"Importing...":"Import"})]}),e&&(0,a.jsxs)("p",{className:"text-sm text-gray-600 flex items-center gap-2",children:[(0,a.jsx)(E.FileText,{className:"h-4 w-4"}),e.name," (",(e.size/1024).toFixed(2)," KB)"]})]}),c&&(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"p-4 bg-green-50 border border-green-200 rounded",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-green-800 font-medium mb-2",children:[(0,a.jsx)(F,{className:"h-5 w-5"}),"Import Selesai"]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[(0,a.jsxs)("div",{children:["Total Transaksi: ",(0,a.jsx)("span",{className:"font-bold",children:c.summary.total})]}),(0,a.jsxs)("div",{className:"text-green-600",children:["Berhasil: ",(0,a.jsx)("span",{className:"font-bold",children:c.summary.success})]}),(0,a.jsxs)("div",{className:"text-yellow-600",children:["Dilewati: ",(0,a.jsx)("span",{className:"font-bold",children:c.summary.skipped})]}),(0,a.jsxs)("div",{className:"text-red-600",children:["Gagal: ",(0,a.jsx)("span",{className:"font-bold",children:c.summary.failed})]})]})]}),c.errors&&c.errors.length>0&&(0,a.jsxs)("div",{className:"p-4 bg-red-50 border border-red-200 rounded",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-red-800 font-medium mb-2",children:[(0,a.jsx)(B,{className:"h-5 w-5"}),"Error Messages"]}),(0,a.jsx)("ul",{className:"text-sm text-red-700 space-y-1",children:c.errors.map((e,s)=>(0,a.jsxs)("li",{children:["â€¢ ",e]},s))})]})]}),(0,a.jsx)("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded text-sm",children:(0,a.jsxs)("div",{className:"flex items-start gap-2",children:[(0,a.jsx)(A,{className:"h-5 w-5 text-blue-600 flex-shrink-0 mt-0.5"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("p",{className:"font-medium text-blue-900",children:"Format CSV:"}),(0,a.jsx)("p",{className:"text-blue-800",children:"File CSV harus memiliki kolom: code, transactionDate, barcode, productName, quantity, price, discountPercent, discountAmount, cashAmount, transferAmount, bankName, paymentStatus"}),(0,a.jsx)("p",{className:"text-blue-800",children:"Untuk transaksi dengan multiple items, gunakan code yang sama di beberapa baris."})]})]})})]})]})}function U(){let{user:e}=(0,r.useAuth)(),[m,k]=(0,s.useState)([]),[v,w]=(0,s.useState)(!1),[C,S]=(0,s.useState)(!1),[P,D]=(0,s.useState)(!1),[I,E]=(0,s.useState)(!1),[F,B]=(0,s.useState)(!1),[A,U]=(0,s.useState)(null),[M,O]=(0,s.useState)(null),[z,H]=(0,s.useState)("products"),[V,G]=(0,s.useState)(null),[$,J]=(0,s.useState)(!1),[K,q]=(0,s.useState)(!1),[Q,W]=(0,s.useState)("/logo-gita-fashion.svg"),[X,_]=(0,s.useState)({email:"",name:"",password:"",role:"CASHIER"}),[Y,Z]=(0,s.useState)({storeName:"Gita Fashion",storeAddress:"Jl. Fashion Street No. 123, Jakarta",storePhone:"021-12345678",storeEmail:"info@gitafashion.com",currency:"IDR",taxRate:10,thermalPrinterSize:"58mm"}),[ee,ea]=(0,s.useState)({printerName:"Thermal Printer 80mm",paperSize:"80mm",printLogo:!0,printFooter:!0,footerText:"Terima kasih atas kunjungan Anda!"});(0,s.useEffect)(()=>{er(),es(),e?.role==="ADMIN"&&el()},[e]);let es=async()=>{try{let e=await fetch("/api/settings/logo",{credentials:"include"});if(e.ok){let a=await e.json();W(a.logoUrl||"/logo-gita-fashion.svg")}}catch(e){console.error("Error fetching current logo:",e)}},er=async()=>{try{let e=await fetch("/api/settings",{credentials:"include"});if(e.ok){let a=await e.json();Z({storeName:a.storeName||"Gita Fashion",storeAddress:a.storeAddress||"Jl. Fashion Street No. 123, Jakarta",storePhone:a.storePhone||"021-12345678",storeEmail:a.storeEmail||"info@gitafashion.com",currency:a.currency||"IDR",taxRate:parseFloat(a.taxRate)||10,thermalPrinterSize:a.thermalPrinterSize||"58mm"}),ea({printerName:a.printerName||"Thermal Printer 80mm",paperSize:a.paperSize||"80mm",printLogo:"true"===a.printLogo,printFooter:"true"===a.printFooter,footerText:a.footerText||"Terima kasih atas kunjungan Anda!"})}}catch(e){console.error("Error fetching settings:",e)}},el=async()=>{try{let e=await fetch("/api/users",{credentials:"include"});if(e.ok){let a=await e.json();k(Array.isArray(a)?a:[])}}catch(e){console.error("Error fetching users:",e)}},et=async e=>{e.preventDefault();try{(await fetch("/api/settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Y),credentials:"include"})).ok?alert("Pengaturan toko berhasil disimpan!"):alert("Gagal menyimpan pengaturan toko")}catch(e){console.error("Error saving store settings:",e),alert("Terjadi kesalahan saat menyimpan pengaturan toko")}},ei=async e=>{e.preventDefault();try{(await fetch("/api/settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ee),credentials:"include"})).ok?alert("Pengaturan printer berhasil disimpan!"):alert("Gagal menyimpan pengaturan printer")}catch(e){console.error("Error saving printer settings:",e),alert("Terjadi kesalahan saat menyimpan pengaturan printer")}},en=async e=>{e.preventDefault();try{(await fetch("/api/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(X),credentials:"include"})).ok?(await el(),w(!1),_({email:"",name:"",password:"",role:"CASHIER"}),alert("User berhasil ditambahkan!")):alert("Gagal menambahkan user")}catch(e){console.error("Error adding user:",e),alert("Terjadi kesalahan saat menambahkan user")}},eo=async e=>{if(e.preventDefault(),A)try{(await fetch(`/api/users/${A.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:X.name,email:X.email,role:X.role}),credentials:"include"})).ok?(await el(),S(!1),U(null),alert("User berhasil diperbarui!")):alert("Gagal memperbarui user")}catch(e){console.error("Error updating user:",e),alert("Terjadi kesalahan saat memperbarui user")}},ed=async e=>{if(confirm("Apakah Anda yakin ingin menghapus user ini?"))try{(await fetch(`/api/users/${e}`,{method:"DELETE",credentials:"include"})).ok?(await el(),alert("User berhasil dihapus!")):alert("Gagal menghapus user")}catch(e){console.error("Error deleting user:",e),alert("Terjadi kesalahan saat menghapus user")}},ec=async()=>{try{let e=await fetch("/api/backup",{credentials:"include"});if(e.ok){let a=await e.blob(),s=window.URL.createObjectURL(a),r=document.createElement("a");r.href=s,r.download=`gita-fashion-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(r),r.click(),window.URL.revokeObjectURL(s),document.body.removeChild(r),alert("Backup database berhasil diunduh!")}else alert("Gagal melakukan backup database")}catch(e){console.error("Error backing up database:",e),alert("Gagal melakukan backup database")}},eh=async(e="transactions")=>{try{let a=await fetch(`/api/export?type=${e}&format=csv`,{credentials:"include"});if(a.ok){let s=await a.blob(),r=window.URL.createObjectURL(s),l=document.createElement("a");l.href=r;let t={transactions:"transaksi",products:"produk",sales:"penjualan",shifts:"shift",expenses:"pengeluaran"};l.download=`${t[e]||"data"}-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(l),l.click(),window.URL.revokeObjectURL(r),document.body.removeChild(l),alert(`Export data ${t[e]||"data"} berhasil diunduh!`)}else alert("Gagal melakukan export data")}catch(e){console.error("Error exporting data:",e),alert("Gagal melakukan export data")}},em=async()=>{if(!M)return void alert("Pilih file untuk diimport");J(!0);try{let e=new FormData;e.append("file",M),e.append("type",z);let a=await fetch("/api/import",{method:"POST",body:e,credentials:"include"}),s=await a.json();a.ok?(alert(`Import berhasil!
${s.message}

Berhasil: ${s.successCount}
Error: ${s.errorCount}`),s.errors&&s.errors.length>0&&console.log("Import errors:",s.errors),E(!1),O(null)):alert(`Gagal import data: ${s.error}`)}catch(e){console.error("Error importing data:",e),alert("Terjadi kesalahan saat import data")}finally{J(!1)}},eu=async()=>{if(confirm("Jalankan migration untuk menghapus foreign key constraint dari outgoing_items? Ini diperlukan untuk import transaksi."))try{let e=await fetch("/api/migrate-fk",{method:"POST",credentials:"include"}),a=await e.json();e.ok?alert(`âœ… ${a.message}`):alert(`âŒ Migration gagal: ${a.error}`)}catch(e){console.error("Error running migration:",e),alert("Terjadi kesalahan saat menjalankan migration")}},ex=async()=>{try{let e=await fetch("/api/system/cleanup",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"}),a=await e.json();e.ok?alert(a.message):alert(`âŒ Check gagal: ${a.error}`)}catch(e){console.error("Error checking disk:",e),alert("Terjadi kesalahan saat mengecek disk")}},ep=async()=>{if(!V)return void alert("Pilih file backup untuk direstore");if(confirm("PERINGATAN: Restore database akan menimpa data yang ada. Apakah Anda yakin?")){q(!0);try{let e=new FormData;e.append("file",V);let a=await fetch("/api/restore",{method:"POST",body:e,credentials:"include"}),s=await a.json();a.ok?(alert(`Restore berhasil!
${s.message}

Record diproses: ${s.restoredCount}
Error: ${s.errorCount}`),s.errors&&s.errors.length>0&&console.log("Restore errors:",s.errors),B(!1),G(null),window.location.reload()):alert(`Gagal restore database: ${s.error}`)}catch(e){console.error("Error restoring database:",e),alert("Terjadi kesalahan saat restore database")}finally{q(!1)}}};return(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Pengaturan Sistem"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Konfigurasi aplikasi kasir Gita Fashion"})]}),e?.role==="ADMIN"&&(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsx)(T,{currentLogo:Q,onLogoChange:e=>{W(e),window.dispatchEvent(new CustomEvent("logoChanged",{detail:{logoUrl:e}}))}})}),e?.role==="ADMIN"&&(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsx)(R,{})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)(i.Card,{children:[(0,a.jsx)(i.CardHeader,{children:(0,a.jsxs)(i.CardTitle,{className:"flex items-center gap-2",children:[(0,a.jsx)(u,{className:"h-5 w-5"}),"Pengaturan Toko"]})}),(0,a.jsx)(i.CardContent,{children:(0,a.jsxs)("form",{onSubmit:et,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{htmlFor:"storeName",children:"Nama Toko"}),(0,a.jsx)(t.Input,{id:"storeName",value:Y.storeName,onChange:e=>Z({...Y,storeName:e.target.value})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{htmlFor:"storeAddress",children:"Alamat Toko"}),(0,a.jsx)(t.Input,{id:"storeAddress",value:Y.storeAddress,onChange:e=>Z({...Y,storeAddress:e.target.value})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{htmlFor:"storePhone",children:"Telepon"}),(0,a.jsx)(t.Input,{id:"storePhone",value:Y.storePhone,onChange:e=>Z({...Y,storePhone:e.target.value})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{htmlFor:"storeEmail",children:"Email"}),(0,a.jsx)(t.Input,{id:"storeEmail",type:"email",value:Y.storeEmail,onChange:e=>Z({...Y,storeEmail:e.target.value})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{htmlFor:"currency",children:"Mata Uang"}),(0,a.jsxs)(o.Select,{value:Y.currency,onValueChange:e=>Z({...Y,currency:e}),children:[(0,a.jsx)(o.SelectTrigger,{children:(0,a.jsx)(o.SelectValue,{})}),(0,a.jsxs)(o.SelectContent,{children:[(0,a.jsx)(o.SelectItem,{value:"IDR",children:"IDR (Rupiah)"}),(0,a.jsx)(o.SelectItem,{value:"USD",children:"USD (Dollar)"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{htmlFor:"taxRate",children:"Pajak (%)"}),(0,a.jsx)(t.Input,{id:"taxRate",type:"number",value:Y.taxRate||0,onChange:e=>Z({...Y,taxRate:parseFloat(e.target.value)||0})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{htmlFor:"thermalPrinterSize",children:"Ukuran Thermal Printer"}),(0,a.jsxs)(o.Select,{value:Y.thermalPrinterSize,onValueChange:e=>Z({...Y,thermalPrinterSize:e}),children:[(0,a.jsx)(o.SelectTrigger,{children:(0,a.jsx)(o.SelectValue,{})}),(0,a.jsxs)(o.SelectContent,{children:[(0,a.jsx)(o.SelectItem,{value:"58mm",children:"58mm Thermal Printer"}),(0,a.jsx)(o.SelectItem,{value:"80mm",children:"80mm Thermal Printer"})]})]})]})]}),(0,a.jsx)(l.Button,{type:"submit",className:"w-full",children:"Simpan Pengaturan Toko"})]})})]}),(0,a.jsxs)(i.Card,{children:[(0,a.jsx)(i.CardHeader,{children:(0,a.jsxs)(i.CardTitle,{className:"flex items-center gap-2",children:[(0,a.jsx)(p.Printer,{className:"h-5 w-5"}),"Pengaturan Printer"]})}),(0,a.jsx)(i.CardContent,{children:(0,a.jsxs)("form",{onSubmit:ei,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{htmlFor:"printerName",children:"Nama Printer"}),(0,a.jsx)(t.Input,{id:"printerName",value:ee.printerName,onChange:e=>ea({...ee,printerName:e.target.value})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{htmlFor:"paperSize",children:"Ukuran Kertas"}),(0,a.jsxs)(o.Select,{value:ee.paperSize,onValueChange:e=>ea({...ee,paperSize:e}),children:[(0,a.jsx)(o.SelectTrigger,{children:(0,a.jsx)(o.SelectValue,{})}),(0,a.jsxs)(o.SelectContent,{children:[(0,a.jsx)(o.SelectItem,{value:"58mm",children:"58mm"}),(0,a.jsx)(o.SelectItem,{value:"80mm",children:"80mm"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{htmlFor:"footerText",children:"Teks Footer Struk"}),(0,a.jsx)(t.Input,{id:"footerText",value:ee.footerText,onChange:e=>ea({...ee,footerText:e.target.value})})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(n.Label,{children:"Opsi Cetak"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,a.jsx)("input",{type:"checkbox",checked:ee.printLogo,onChange:e=>ea({...ee,printLogo:e.target.checked}),className:"rounded"}),(0,a.jsx)("span",{className:"text-sm",children:"Cetak Logo Toko"})]}),(0,a.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,a.jsx)("input",{type:"checkbox",checked:ee.printFooter,onChange:e=>ea({...ee,printFooter:e.target.checked}),className:"rounded"}),(0,a.jsx)("span",{className:"text-sm",children:"Cetak Footer"})]})]})]}),(0,a.jsx)(l.Button,{type:"submit",className:"w-full",children:"Simpan Pengaturan Printer"})]})})]}),(0,a.jsxs)(i.Card,{children:[(0,a.jsx)(i.CardHeader,{children:(0,a.jsxs)(i.CardTitle,{className:"flex items-center gap-2",children:[(0,a.jsx)(x,{className:"h-5 w-5"}),"Profil Pengguna"]})}),(0,a.jsxs)(i.CardContent,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{children:"Nama"}),(0,a.jsx)("div",{className:"p-2 bg-gray-50 rounded",children:e?.name})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{children:"Email"}),(0,a.jsx)("div",{className:"p-2 bg-gray-50 rounded",children:e?.email})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{children:"Role"}),(0,a.jsx)("div",{children:(0,a.jsx)(d.Badge,{variant:e?.role==="ADMIN"?"default":"secondary",children:e?.role})})]}),(0,a.jsx)(L,{children:(0,a.jsx)(l.Button,{variant:"outline",className:"w-full",children:"Ubah Password"})})]})]}),(0,a.jsxs)(i.Card,{children:[(0,a.jsx)(i.CardHeader,{children:(0,a.jsxs)(i.CardTitle,{className:"flex items-center gap-2",children:[(0,a.jsx)(g,{className:"h-5 w-5"}),"Informasi Sistem"]})}),(0,a.jsxs)(i.CardContent,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{className:"text-xs text-gray-500",children:"Versi Aplikasi"}),(0,a.jsx)("div",{className:"font-medium",children:"v1.0.0"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{className:"text-xs text-gray-500",children:"Database"}),(0,a.jsx)("div",{className:"font-medium",children:"SQLite"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{className:"text-xs text-gray-500",children:"Framework"}),(0,a.jsx)("div",{className:"font-medium",children:"Next.js 16"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{className:"text-xs text-gray-500",children:"ORM"}),(0,a.jsx)("div",{className:"font-medium",children:"Drizzle"})]})]}),(0,a.jsxs)("div",{className:"pt-4 border-t space-y-2",children:[e?.role==="ADMIN"&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.Button,{variant:"outline",onClick:eu,className:"w-full mb-2",size:"sm",children:"ğŸ”§ Fix Import Error (Run Migration)"}),(0,a.jsx)(l.Button,{variant:"outline",onClick:ex,className:"w-full mb-2",size:"sm",children:"ğŸ“Š Check Disk Usage"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,a.jsxs)(l.Button,{variant:"outline",onClick:ec,children:[(0,a.jsx)(g,{className:"h-4 w-4 mr-2"}),"Backup"]}),(0,a.jsxs)(c.Dialog,{open:F,onOpenChange:B,children:[(0,a.jsx)(c.DialogTrigger,{asChild:!0,children:(0,a.jsxs)(l.Button,{variant:"outline",children:[(0,a.jsx)(g,{className:"h-4 w-4 mr-2"}),"Restore"]})}),(0,a.jsxs)(c.DialogContent,{children:[(0,a.jsx)(c.DialogHeader,{children:(0,a.jsx)(c.DialogTitle,{children:"Restore Database"})}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded",children:(0,a.jsxs)("p",{className:"text-sm text-yellow-800",children:["âš ï¸ ",(0,a.jsx)("strong",{children:"PERINGATAN:"})," Restore akan menimpa semua data yang ada. Pastikan Anda sudah melakukan backup terlebih dahulu."]})}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{htmlFor:"restoreFile",children:"Pilih File Backup (.json)"}),(0,a.jsx)(t.Input,{id:"restoreFile",type:"file",accept:".json",onChange:e=>G(e.target.files?.[0]||null)})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(l.Button,{variant:"outline",onClick:()=>B(!1),className:"flex-1",children:"Batal"}),(0,a.jsx)(l.Button,{onClick:ep,disabled:!V||K,className:"flex-1",children:K?"Restoring...":"Restore Database"})]})]})]})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,a.jsxs)(c.Dialog,{open:P,onOpenChange:D,children:[(0,a.jsx)(c.DialogTrigger,{asChild:!0,children:(0,a.jsxs)(l.Button,{variant:"outline",children:[(0,a.jsx)(j,{className:"h-4 w-4 mr-2"}),"Export"]})}),(0,a.jsxs)(c.DialogContent,{children:[(0,a.jsx)(c.DialogHeader,{children:(0,a.jsx)(c.DialogTitle,{children:"Export Data"})}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Pilih jenis data yang ingin diekspor dalam format CSV:"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-2",children:[(0,a.jsx)(l.Button,{variant:"outline",className:"justify-start",onClick:()=>{eh("transactions"),D(!1)},children:"ğŸ“Š Data Transaksi"}),(0,a.jsx)(l.Button,{variant:"outline",className:"justify-start",onClick:()=>{eh("products"),D(!1)},children:"ğŸ“¦ Data Produk"}),(0,a.jsx)(l.Button,{variant:"outline",className:"justify-start",onClick:()=>{eh("sales"),D(!1)},children:"ğŸ›’ Data Penjualan Detail"}),(0,a.jsx)(l.Button,{variant:"outline",className:"justify-start",onClick:()=>{eh("shifts"),D(!1)},children:"â° Data Shift Kasir"}),(0,a.jsx)(l.Button,{variant:"outline",className:"justify-start",onClick:()=>{eh("expenses"),D(!1)},children:"ğŸ’¸ Data Pengeluaran"})]})]})]})]}),(0,a.jsxs)(c.Dialog,{open:I,onOpenChange:E,children:[(0,a.jsx)(c.DialogTrigger,{asChild:!0,children:(0,a.jsxs)(l.Button,{variant:"outline",children:[(0,a.jsx)(y.Plus,{className:"h-4 w-4 mr-2"}),"Import"]})}),(0,a.jsxs)(c.DialogContent,{children:[(0,a.jsx)(c.DialogHeader,{children:(0,a.jsx)(c.DialogTitle,{children:"Import Data"})}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Import data dari file CSV. Pastikan format file sesuai dengan template."}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{htmlFor:"importType",children:"Jenis Data"}),(0,a.jsxs)(o.Select,{value:z,onValueChange:H,children:[(0,a.jsx)(o.SelectTrigger,{children:(0,a.jsx)(o.SelectValue,{})}),(0,a.jsxs)(o.SelectContent,{children:[(0,a.jsx)(o.SelectItem,{value:"products",children:"ğŸ“¦ Data Produk"}),(0,a.jsx)(o.SelectItem,{value:"categories",children:"ğŸ“‚ Data Kategori"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{htmlFor:"importFile",children:"Pilih File CSV"}),(0,a.jsx)(t.Input,{id:"importFile",type:"file",accept:".csv,.xlsx,.xls",onChange:e=>O(e.target.files?.[0]||null)})]}),(0,a.jsxs)("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded text-sm",children:[(0,a.jsx)("p",{className:"font-medium mb-2",children:"Format CSV yang diperlukan:"}),"products"===z&&(0,a.jsx)("p",{children:"Barcode, Nama Produk, Kategori ID, Harga Jual, Stok Awal"}),"categories"===z&&(0,a.jsx)("p",{children:"ID, Nama Kategori"})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(l.Button,{variant:"outline",onClick:()=>E(!1),className:"flex-1",children:"Batal"}),(0,a.jsx)(l.Button,{onClick:em,disabled:!M||$,className:"flex-1",children:$?"Importing...":"Import Data"})]})]})]})]})]})]})]})]}),e?.role==="ADMIN"&&(0,a.jsxs)(i.Card,{className:"mt-6",children:[(0,a.jsx)(i.CardHeader,{children:(0,a.jsxs)(i.CardTitle,{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(N.Users,{className:"h-5 w-5"}),"Manajemen User"]}),(0,a.jsxs)(c.Dialog,{open:v,onOpenChange:w,children:[(0,a.jsx)(c.DialogTrigger,{asChild:!0,children:(0,a.jsxs)(l.Button,{children:[(0,a.jsx)(y.Plus,{className:"h-4 w-4 mr-2"}),"Tambah User"]})}),(0,a.jsxs)(c.DialogContent,{children:[(0,a.jsx)(c.DialogHeader,{children:(0,a.jsx)(c.DialogTitle,{children:"Tambah User Baru"})}),(0,a.jsxs)("form",{onSubmit:en,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{htmlFor:"userEmail",children:"Email"}),(0,a.jsx)(t.Input,{id:"userEmail",type:"email",value:X.email,onChange:e=>_({...X,email:e.target.value}),required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{htmlFor:"userName",children:"Nama"}),(0,a.jsx)(t.Input,{id:"userName",value:X.name,onChange:e=>_({...X,name:e.target.value}),required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{htmlFor:"userPassword",children:"Password"}),(0,a.jsx)(t.Input,{id:"userPassword",type:"password",value:X.password,onChange:e=>_({...X,password:e.target.value}),required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{htmlFor:"userRole",children:"Role"}),(0,a.jsxs)(o.Select,{value:X.role,onValueChange:e=>_({...X,role:e}),children:[(0,a.jsx)(o.SelectTrigger,{children:(0,a.jsx)(o.SelectValue,{})}),(0,a.jsxs)(o.SelectContent,{children:[(0,a.jsx)(o.SelectItem,{value:"ADMIN",children:"Admin"}),(0,a.jsx)(o.SelectItem,{value:"MANAGER",children:"Manager"}),(0,a.jsx)(o.SelectItem,{value:"CASHIER",children:"Kasir"})]})]})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,a.jsx)(l.Button,{type:"button",variant:"outline",onClick:()=>w(!1),children:"Batal"}),(0,a.jsx)(l.Button,{type:"submit",children:"Tambah User"})]})]})]})]})]})}),(0,a.jsx)(i.CardContent,{children:(0,a.jsxs)(h.Table,{children:[(0,a.jsx)(h.TableHeader,{children:(0,a.jsxs)(h.TableRow,{children:[(0,a.jsx)(h.TableHead,{children:"Nama"}),(0,a.jsx)(h.TableHead,{children:"Email"}),(0,a.jsx)(h.TableHead,{children:"Role"}),(0,a.jsx)(h.TableHead,{children:"Tanggal Dibuat"}),(0,a.jsx)(h.TableHead,{children:"Aksi"})]})}),(0,a.jsx)(h.TableBody,{children:m.map(e=>(0,a.jsxs)(h.TableRow,{children:[(0,a.jsx)(h.TableCell,{children:e.name}),(0,a.jsx)(h.TableCell,{children:e.email}),(0,a.jsx)(h.TableCell,{children:(0,a.jsx)(d.Badge,{variant:"ADMIN"===e.role?"default":"secondary",children:e.role})}),(0,a.jsx)(h.TableCell,{children:new Date(e.createdAt).toLocaleDateString("id-ID")}),(0,a.jsx)(h.TableCell,{children:(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(l.Button,{size:"sm",variant:"outline",onClick:()=>{U(e),_({email:e.email,name:e.name,password:"",role:e.role}),S(!0)},children:(0,a.jsx)(b.Edit,{className:"h-4 w-4"})}),(0,a.jsx)(l.Button,{size:"sm",variant:"destructive",onClick:()=>ed(e.id),children:(0,a.jsx)(f.Trash2,{className:"h-4 w-4"})})]})})]},e.id))})]})})]}),(0,a.jsx)(c.Dialog,{open:C,onOpenChange:S,children:(0,a.jsxs)(c.DialogContent,{children:[(0,a.jsx)(c.DialogHeader,{children:(0,a.jsx)(c.DialogTitle,{children:"Edit User"})}),(0,a.jsxs)("form",{onSubmit:eo,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{htmlFor:"editUserEmail",children:"Email"}),(0,a.jsx)(t.Input,{id:"editUserEmail",type:"email",value:X.email,onChange:e=>_({...X,email:e.target.value}),required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{htmlFor:"editUserName",children:"Nama"}),(0,a.jsx)(t.Input,{id:"editUserName",value:X.name,onChange:e=>_({...X,name:e.target.value}),required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{htmlFor:"editUserRole",children:"Role"}),(0,a.jsxs)(o.Select,{value:X.role,onValueChange:e=>_({...X,role:e}),children:[(0,a.jsx)(o.SelectTrigger,{children:(0,a.jsx)(o.SelectValue,{})}),(0,a.jsxs)(o.SelectContent,{children:[(0,a.jsx)(o.SelectItem,{value:"ADMIN",children:"Admin"}),(0,a.jsx)(o.SelectItem,{value:"MANAGER",children:"Manager"}),(0,a.jsx)(o.SelectItem,{value:"CASHIER",children:"Kasir"})]})]})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,a.jsx)(l.Button,{type:"button",variant:"outline",onClick:()=>S(!1),children:"Batal"}),(0,a.jsx)(l.Button,{type:"submit",children:"Simpan Perubahan"})]})]})]})})]})}e.s(["default",()=>U],59772)}]);