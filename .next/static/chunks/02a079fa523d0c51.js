(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,61911,e=>{"use strict";let t=(0,e.i(75254).default)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);e.s(["Users",()=>t],61911)},25652,e=>{"use strict";let t=(0,e.i(75254).default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);e.s(["TrendingUp",()=>t],25652)},30257,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(67181),r=e.i(15288),i=e.i(88844),n=e.i(1928),d=e.i(61911),c=e.i(25652);function l(){let{user:e}=(0,a.useAuth)(),[l,o]=(0,s.useState)({totalProducts:0,todaySales:0,todayTransactions:0,totalCustomers:0,recentTransactions:[],lowStockProducts:[]}),[x,h]=(0,s.useState)(!0);(0,s.useEffect)(()=>{m()},[]);let m=async()=>{try{h(!0);let e=await fetch("/api/dashboard"),t=await e.json();e.ok&&o({totalProducts:t.totalProducts||0,todaySales:t.todaySales||0,todayTransactions:t.todayTransactions||0,totalCustomers:0,recentTransactions:t.recentTransactions||[],lowStockProducts:t.lowStockProducts||[]})}catch(e){console.error("Error fetching dashboard data:",e)}finally{h(!1)}},u=[{title:"Total Produk",value:x?"...":l.totalProducts.toString(),description:"Produk terdaftar",icon:i.Package,color:"text-blue-600"},{title:"Penjualan Hari Ini",value:x?"...":`Rp ${l.todaySales.toLocaleString()}`,description:"Total penjualan",icon:n.ShoppingCart,color:"text-green-600"},{title:"Transaksi",value:x?"...":l.todayTransactions.toString(),description:"Transaksi hari ini",icon:c.TrendingUp,color:"text-purple-600"},{title:"Stok Menipis",value:x?"...":l.lowStockProducts.length.toString(),description:"Produk stok rendah",icon:d.Users,color:"text-orange-600"}];return(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard"}),(0,t.jsxs)("p",{className:"text-gray-600",children:["Selamat datang, ",e?.name,"!"]})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:u.map((e,s)=>{let a=e.icon;return(0,t.jsxs)(r.Card,{children:[(0,t.jsxs)(r.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(r.CardTitle,{className:"text-sm font-medium",children:e.title}),(0,t.jsx)(a,{className:`h-4 w-4 ${e.color}`})]}),(0,t.jsxs)(r.CardContent,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:e.value}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:e.description})]})]},s)})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)(r.Card,{children:[(0,t.jsxs)(r.CardHeader,{children:[(0,t.jsx)(r.CardTitle,{children:"Penjualan Terbaru"}),(0,t.jsx)(r.CardDescription,{children:"Transaksi penjualan terbaru"})]}),(0,t.jsx)(r.CardContent,{children:x?(0,t.jsx)("div",{className:"text-center py-8 text-gray-500",children:"Loading..."}):0===l.recentTransactions.length?(0,t.jsx)("div",{className:"text-center py-8 text-gray-500",children:"Belum ada transaksi"}):(0,t.jsx)("div",{className:"space-y-3",children:l.recentTransactions.map(e=>(0,t.jsxs)("div",{className:"flex justify-between items-center p-3 border rounded",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium",children:e.code}),(0,t.jsx)("div",{className:"text-sm text-gray-500",children:new Date(e.transactionDate).toLocaleDateString("id-ID")})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("div",{className:"font-medium",children:["Rp ",((e.cashAmount||0)+(e.transferAmount||0)).toLocaleString()]}),(0,t.jsxs)("div",{className:"text-sm text-gray-500",children:[e.totalItems," item"]})]})]},e.id))})})]}),(0,t.jsxs)(r.Card,{children:[(0,t.jsxs)(r.CardHeader,{children:[(0,t.jsx)(r.CardTitle,{children:"Stok Menipis"}),(0,t.jsx)(r.CardDescription,{children:"Produk dengan stok rendah (â‰¤ 5)"})]}),(0,t.jsx)(r.CardContent,{children:x?(0,t.jsx)("div",{className:"text-center py-8 text-gray-500",children:"Loading..."}):0===l.lowStockProducts.length?(0,t.jsx)("div",{className:"text-center py-8 text-gray-500",children:"Semua produk stok aman"}):(0,t.jsx)("div",{className:"space-y-3",children:l.lowStockProducts.map(e=>(0,t.jsxs)("div",{className:"flex justify-between items-center p-3 border rounded",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium",children:e.name}),(0,t.jsx)("div",{className:"text-sm text-gray-500",children:e.barcode})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("div",{className:`font-medium ${0===e.currentStock?"text-red-600":"text-orange-600"}`,children:["Stok: ",e.currentStock]}),(0,t.jsx)("div",{className:"text-sm text-gray-500",children:e.category?.name||"Tanpa Kategori"})]})]},e.id))})})]})]})]})}e.s(["default",()=>l])}]);