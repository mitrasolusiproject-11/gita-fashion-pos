(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,3281,e=>{"use strict";let t=(0,e.i(75254).default)("printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);e.s(["Printer",()=>t],3281)},93479,48425,e=>{"use strict";var t=e.i(43476),a=e.i(932),s=e.i(75157);function i(e){let i,n,l,r,o,d=(0,a.c)(10);return d[0]!==e?({className:i,type:l,...n}=e,d[0]=e,d[1]=i,d[2]=n,d[3]=l):(i=d[1],n=d[2],l=d[3]),d[4]!==i?(r=(0,s.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",i),d[4]=i,d[5]=r):r=d[5],d[6]!==n||d[7]!==r||d[8]!==l?(o=(0,t.jsx)("input",{type:l,"data-slot":"input",className:r,...n}),d[6]=n,d[7]=r,d[8]=l,d[9]=o):o=d[9],o}e.s(["Input",()=>i],93479);var n=e.i(71645),l=e.i(74080),r=e.i(91918),o=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,a)=>{let s=(0,r.createSlot)(`Primitive.${a}`),i=n.forwardRef((e,i)=>{let{asChild:n,...l}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(n?s:a,{...l,ref:i})});return i.displayName=`Primitive.${a}`,{...e,[a]:i}},{});function d(e,t){e&&l.flushSync(()=>e.dispatchEvent(t))}e.s(["Primitive",()=>o,"dispatchDiscreteCustomEvent",()=>d],48425)},10204,e=>{"use strict";var t=e.i(43476),a=e.i(932),s=e.i(71645),i=e.i(48425),n=s.forwardRef((e,a)=>(0,t.jsx)(i.Primitive.label,{...e,ref:a,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));n.displayName="Label";var l=e.i(75157);function r(e){let s,i,r,o,d=(0,a.c)(8);return d[0]!==e?({className:s,...i}=e,d[0]=e,d[1]=s,d[2]=i):(s=d[1],i=d[2]),d[3]!==s?(r=(0,l.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",s),d[3]=s,d[4]=r):r=d[4],d[5]!==i||d[6]!==r?(o=(0,t.jsx)(n,{"data-slot":"label",className:r,...i}),d[5]=i,d[6]=r,d[7]=o):o=d[7],o}e.s(["Label",()=>r],10204)},76639,e=>{"use strict";var t=e.i(43476),a=e.i(932),s=e.i(71645),i=e.i(81140),n=e.i(20783),l=e.i(30030),r=e.i(10772),o=e.i(69340),d=e.i(26330),c=e.i(65491),u=e.i(74606),p=e.i(96626),h=e.i(48425),x=e.i(3536),m=e.i(85369),g=e.i(86312),f=e.i(91918),j="Dialog",[v,y]=(0,l.createContextScope)(j),[b,w]=v(j),C=e=>{let{__scopeDialog:a,children:i,open:n,defaultOpen:l,onOpenChange:d,modal:c=!0}=e,u=s.useRef(null),p=s.useRef(null),[h,x]=(0,o.useControllableState)({prop:n,defaultProp:l??!1,onChange:d,caller:j});return(0,t.jsx)(b,{scope:a,triggerRef:u,contentRef:p,contentId:(0,r.useId)(),titleId:(0,r.useId)(),descriptionId:(0,r.useId)(),open:h,onOpenChange:x,onOpenToggle:s.useCallback(()=>x(e=>!e),[x]),modal:c,children:i})};C.displayName=j;var T="DialogTrigger",N=s.forwardRef((e,a)=>{let{__scopeDialog:s,...l}=e,r=w(T,s),o=(0,n.useComposedRefs)(a,r.triggerRef);return(0,t.jsx)(h.Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":z(r.open),...l,ref:o,onClick:(0,i.composeEventHandlers)(e.onClick,r.onOpenToggle)})});N.displayName=T;var D="DialogPortal",[S,k]=v(D,{forceMount:void 0}),R=e=>{let{__scopeDialog:a,forceMount:i,children:n,container:l}=e,r=w(D,a);return(0,t.jsx)(S,{scope:a,forceMount:i,children:s.Children.map(n,e=>(0,t.jsx)(p.Presence,{present:i||r.open,children:(0,t.jsx)(u.Portal,{asChild:!0,container:l,children:e})}))})};R.displayName=D;var I="DialogOverlay",P=s.forwardRef((e,a)=>{let s=k(I,e.__scopeDialog),{forceMount:i=s.forceMount,...n}=e,l=w(I,e.__scopeDialog);return l.modal?(0,t.jsx)(p.Presence,{present:i||l.open,children:(0,t.jsx)(L,{...n,ref:a})}):null});P.displayName=I;var O=(0,f.createSlot)("DialogOverlay.RemoveScroll"),L=s.forwardRef((e,a)=>{let{__scopeDialog:s,...i}=e,n=w(I,s);return(0,t.jsx)(m.RemoveScroll,{as:O,allowPinchZoom:!0,shards:[n.contentRef],children:(0,t.jsx)(h.Primitive.div,{"data-state":z(n.open),...i,ref:a,style:{pointerEvents:"auto",...i.style}})})}),A="DialogContent",E=s.forwardRef((e,a)=>{let s=k(A,e.__scopeDialog),{forceMount:i=s.forceMount,...n}=e,l=w(A,e.__scopeDialog);return(0,t.jsx)(p.Presence,{present:i||l.open,children:l.modal?(0,t.jsx)(H,{...n,ref:a}):(0,t.jsx)(F,{...n,ref:a})})});E.displayName=A;var H=s.forwardRef((e,a)=>{let l=w(A,e.__scopeDialog),r=s.useRef(null),o=(0,n.useComposedRefs)(a,l.contentRef,r);return s.useEffect(()=>{let e=r.current;if(e)return(0,g.hideOthers)(e)},[]),(0,t.jsx)(K,{...e,ref:o,trapFocus:l.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,i.composeEventHandlers)(e.onCloseAutoFocus,e=>{e.preventDefault(),l.triggerRef.current?.focus()}),onPointerDownOutside:(0,i.composeEventHandlers)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,a=0===t.button&&!0===t.ctrlKey;(2===t.button||a)&&e.preventDefault()}),onFocusOutside:(0,i.composeEventHandlers)(e.onFocusOutside,e=>e.preventDefault())})}),F=s.forwardRef((e,a)=>{let i=w(A,e.__scopeDialog),n=s.useRef(!1),l=s.useRef(!1);return(0,t.jsx)(K,{...e,ref:a,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(n.current||i.triggerRef.current?.focus(),t.preventDefault()),n.current=!1,l.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(n.current=!0,"pointerdown"===t.detail.originalEvent.type&&(l.current=!0));let a=t.target;i.triggerRef.current?.contains(a)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&l.current&&t.preventDefault()}})}),K=s.forwardRef((e,a)=>{let{__scopeDialog:i,trapFocus:l,onOpenAutoFocus:r,onCloseAutoFocus:o,...u}=e,p=w(A,i),h=s.useRef(null),m=(0,n.useComposedRefs)(a,h);return(0,x.useFocusGuards)(),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.FocusScope,{asChild:!0,loop:!0,trapped:l,onMountAutoFocus:r,onUnmountAutoFocus:o,children:(0,t.jsx)(d.DismissableLayer,{role:"dialog",id:p.contentId,"aria-describedby":p.descriptionId,"aria-labelledby":p.titleId,"data-state":z(p.open),...u,ref:m,onDismiss:()=>p.onOpenChange(!1)})}),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(J,{titleId:p.titleId}),(0,t.jsx)(V,{contentRef:h,descriptionId:p.descriptionId})]})]})}),M="DialogTitle",$=s.forwardRef((e,a)=>{let{__scopeDialog:s,...i}=e,n=w(M,s);return(0,t.jsx)(h.Primitive.h2,{id:n.titleId,...i,ref:a})});$.displayName=M;var _="DialogDescription";s.forwardRef((e,a)=>{let{__scopeDialog:s,...i}=e,n=w(_,s);return(0,t.jsx)(h.Primitive.p,{id:n.descriptionId,...i,ref:a})}).displayName=_;var B="DialogClose",U=s.forwardRef((e,a)=>{let{__scopeDialog:s,...n}=e,l=w(B,s);return(0,t.jsx)(h.Primitive.button,{type:"button",...n,ref:a,onClick:(0,i.composeEventHandlers)(e.onClick,()=>l.onOpenChange(!1))})});function z(e){return e?"open":"closed"}U.displayName=B;var G="DialogTitleWarning",[W,q]=(0,l.createContext)(G,{contentName:A,titleName:M,docsSlug:"dialog"}),J=({titleId:e})=>{let t=q(G),a=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return s.useEffect(()=>{e&&(document.getElementById(e)||console.error(a))},[a,e]),null},V=({contentRef:e,descriptionId:t})=>{let a=q("DialogDescriptionWarning"),i=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${a.contentName}}.`;return s.useEffect(()=>{let a=e.current?.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(i))},[i,e,t]),null},Y=e.i(41947),Y=Y,Z=e.i(75157);function Q(e){let s,i,n=(0,a.c)(4);return n[0]!==e?({...s}=e,n[0]=e,n[1]=s):s=n[1],n[2]!==s?(i=(0,t.jsx)(C,{"data-slot":"dialog",...s}),n[2]=s,n[3]=i):i=n[3],i}function X(e){let s,i,n=(0,a.c)(4);return n[0]!==e?({...s}=e,n[0]=e,n[1]=s):s=n[1],n[2]!==s?(i=(0,t.jsx)(N,{"data-slot":"dialog-trigger",...s}),n[2]=s,n[3]=i):i=n[3],i}function ee(e){let s,i,n=(0,a.c)(4);return n[0]!==e?({...s}=e,n[0]=e,n[1]=s):s=n[1],n[2]!==s?(i=(0,t.jsx)(R,{"data-slot":"dialog-portal",...s}),n[2]=s,n[3]=i):i=n[3],i}function et(e){let s,i,n,l,r=(0,a.c)(8);return r[0]!==e?({className:s,...i}=e,r[0]=e,r[1]=s,r[2]=i):(s=r[1],i=r[2]),r[3]!==s?(n=(0,Z.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",s),r[3]=s,r[4]=n):n=r[4],r[5]!==i||r[6]!==n?(l=(0,t.jsx)(P,{"data-slot":"dialog-overlay",className:n,...i}),r[5]=i,r[6]=n,r[7]=l):l=r[7],l}function ea(e){let s,i,n,l,r,o,d,c,u=(0,a.c)(15);u[0]!==e?({className:i,children:s,showCloseButton:l,...n}=e,u[0]=e,u[1]=s,u[2]=i,u[3]=n,u[4]=l):(s=u[1],i=u[2],n=u[3],l=u[4]);let p=void 0===l||l;return u[5]===Symbol.for("react.memo_cache_sentinel")?(r=(0,t.jsx)(et,{}),u[5]=r):r=u[5],u[6]!==i?(o=(0,Z.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",i),u[6]=i,u[7]=o):o=u[7],u[8]!==p?(d=p&&(0,t.jsxs)(U,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,t.jsx)(Y.default,{}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]}),u[8]=p,u[9]=d):d=u[9],u[10]!==s||u[11]!==n||u[12]!==o||u[13]!==d?(c=(0,t.jsxs)(ee,{"data-slot":"dialog-portal",children:[r,(0,t.jsxs)(E,{"data-slot":"dialog-content",className:o,...n,children:[s,d]})]}),u[10]=s,u[11]=n,u[12]=o,u[13]=d,u[14]=c):c=u[14],c}function es(e){let s,i,n,l,r=(0,a.c)(8);return r[0]!==e?({className:s,...i}=e,r[0]=e,r[1]=s,r[2]=i):(s=r[1],i=r[2]),r[3]!==s?(n=(0,Z.cn)("flex flex-col gap-2 text-center sm:text-left",s),r[3]=s,r[4]=n):n=r[4],r[5]!==i||r[6]!==n?(l=(0,t.jsx)("div",{"data-slot":"dialog-header",className:n,...i}),r[5]=i,r[6]=n,r[7]=l):l=r[7],l}function ei(e){let s,i,n,l,r=(0,a.c)(8);return r[0]!==e?({className:s,...i}=e,r[0]=e,r[1]=s,r[2]=i):(s=r[1],i=r[2]),r[3]!==s?(n=(0,Z.cn)("text-lg leading-none font-semibold",s),r[3]=s,r[4]=n):n=r[4],r[5]!==i||r[6]!==n?(l=(0,t.jsx)($,{"data-slot":"dialog-title",className:n,...i}),r[5]=i,r[6]=n,r[7]=l):l=r[7],l}e.s(["Dialog",()=>Q,"DialogContent",()=>ea,"DialogHeader",()=>es,"DialogTitle",()=>ei,"DialogTrigger",()=>X],76639)},25652,e=>{"use strict";let t=(0,e.i(75254).default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);e.s(["TrendingUp",()=>t],25652)},98120,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(67181),i=e.i(19455),n=e.i(93479),l=e.i(15288),r=e.i(10204),o=e.i(87486),d=e.i(76639),c=e.i(84774),u=e.i(3116),p=e.i(25652);let h=(0,e.i(75254).default)("calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);var x=e.i(3281);function m(){let{user:e}=(0,s.useAuth)(),[m,g]=(0,a.useState)(null),[f,j]=(0,a.useState)([]),[v,y]=(0,a.useState)(!1),[b,w]=(0,a.useState)(!1),[C,T]=(0,a.useState)(0),[N,D]=(0,a.useState)(0),[S,k]=(0,a.useState)(""),[R,I]=(0,a.useState)(null);(0,a.useEffect)(()=>{P(),O()},[]);let P=async()=>{try{let e=await fetch("/api/shifts",{credentials:"include"});if(e.ok){let t=await e.json();j(Array.isArray(t)?t:[])}}catch(e){console.error("Error fetching shifts:",e)}},O=async()=>{try{let t=await fetch("/api/shifts?status=OPEN",{credentials:"include"});if(t.ok){let a=await t.json(),s=(Array.isArray(a)?a:[]).find(t=>t.userId===e?.id);g(s||null)}}catch(e){console.error("Error checking current shift:",e)}},L=async e=>{e.preventDefault();try{let e=await fetch("/api/shifts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"start",startingCash:C}),credentials:"include"});if(e.ok){let t=await e.json();g(t),y(!1),T(0),alert("Shift berhasil dimulai!"),P()}else{let t=await e.json();alert(`Gagal memulai shift: ${t.error}`)}}catch(e){console.error("Error starting shift:",e),alert("Terjadi kesalahan saat memulai shift")}},A=async e=>{e.preventDefault();try{let e=await fetch("/api/shifts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"close",endingCash:N,notes:S}),credentials:"include"});if(e.ok){let t=await e.json();I(t.summary),g(null),w(!1),D(0),k(""),alert("Shift berhasil ditutup!"),P()}else{let t=await e.json();alert(`Gagal menutup shift: ${t.error}`)}}catch(e){console.error("Error closing shift:",e),alert("Terjadi kesalahan saat menutup shift")}};return(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Tutup Kasir"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Kelola shift kasir dan hitung kas"})]}),(0,t.jsxs)(l.Card,{className:"mb-6",children:[(0,t.jsx)(l.CardHeader,{children:(0,t.jsxs)(l.CardTitle,{className:"flex items-center gap-2",children:[(0,t.jsx)(u.Clock,{className:"h-5 w-5"}),"Status Shift Saat Ini"]})}),(0,t.jsx)(l.CardContent,{children:m?(0,t.jsx)("div",{className:"space-y-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(o.Badge,{variant:"default",children:"SHIFT AKTIF"}),(0,t.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["Petugas: ",e?.name]}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["Dimulai: ",new Date(m.startTime).toLocaleString("id-ID")]}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["Kas Awal: Rp ",m.startingCash.toLocaleString()]})]}),(0,t.jsx)(i.Button,{onClick:()=>w(!0),children:"Tutup Shift"})]})}):(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)("p",{className:"text-gray-500 mb-4",children:"Tidak ada shift aktif"}),(0,t.jsxs)(d.Dialog,{open:v,onOpenChange:y,children:[(0,t.jsx)(d.DialogTrigger,{asChild:!0,children:(0,t.jsx)(i.Button,{children:"Mulai Shift"})}),(0,t.jsxs)(d.DialogContent,{children:[(0,t.jsx)(d.DialogHeader,{children:(0,t.jsx)(d.DialogTitle,{children:"Mulai Shift Kasir"})}),(0,t.jsxs)("form",{onSubmit:L,className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(r.Label,{htmlFor:"startingCash",children:"Kas Awal (Rp)"}),(0,t.jsx)(n.Input,{id:"startingCash",type:"number",value:C,onChange:e=>T(parseFloat(e.target.value)||0),placeholder:"Masukkan jumlah kas awal",required:!0})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,t.jsx)(i.Button,{type:"button",variant:"outline",onClick:()=>y(!1),children:"Batal"}),(0,t.jsx)(i.Button,{type:"submit",children:"Mulai Shift"})]})]})]})]})]})})]}),(0,t.jsxs)(l.Card,{children:[(0,t.jsx)(l.CardHeader,{children:(0,t.jsx)(l.CardTitle,{children:"Riwayat Shift"})}),(0,t.jsx)(l.CardContent,{children:0===f.length?(0,t.jsx)("div",{className:"text-center py-8 text-gray-500",children:"Belum ada riwayat shift"}):(0,t.jsxs)(c.Table,{children:[(0,t.jsx)(c.TableHeader,{children:(0,t.jsxs)(c.TableRow,{children:[(0,t.jsx)(c.TableHead,{children:"Tanggal"}),(0,t.jsx)(c.TableHead,{children:"Petugas"}),(0,t.jsx)(c.TableHead,{children:"Durasi"}),(0,t.jsx)(c.TableHead,{children:"Kas Awal"}),(0,t.jsx)(c.TableHead,{children:"Kas Akhir"}),(0,t.jsx)(c.TableHead,{children:"Penjualan"}),(0,t.jsx)(c.TableHead,{children:"Catatan"}),(0,t.jsx)(c.TableHead,{children:"Status"})]})}),(0,t.jsx)(c.TableBody,{children:f.map(e=>(0,t.jsxs)(c.TableRow,{children:[(0,t.jsx)(c.TableCell,{children:(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium",children:new Date(e.startTime).toLocaleDateString("id-ID")}),(0,t.jsxs)("div",{className:"text-xs text-gray-500",children:[new Date(e.startTime).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"}),e.endTime&&` - ${new Date(e.endTime).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"})}`]})]})}),(0,t.jsx)(c.TableCell,{children:(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium",children:e.user?.name||"Unknown"}),(0,t.jsx)("div",{className:"text-xs text-gray-500",children:e.user?.role})]})}),(0,t.jsx)(c.TableCell,{children:e.endTime?`${Math.round((new Date(e.endTime).getTime()-new Date(e.startTime).getTime())/36e5)} jam`:"Aktif"}),(0,t.jsxs)(c.TableCell,{children:["Rp ",e.startingCash.toLocaleString()]}),(0,t.jsx)(c.TableCell,{children:e.endingCash?`Rp ${e.endingCash.toLocaleString()}`:"-"}),(0,t.jsxs)(c.TableCell,{children:["Rp ",e.totalSales.toLocaleString()]}),(0,t.jsx)(c.TableCell,{children:e.notes?(0,t.jsx)("div",{className:"max-w-xs",children:(0,t.jsx)("p",{className:"text-sm truncate",title:e.notes,children:e.notes})}):(0,t.jsx)("span",{className:"text-gray-400",children:"-"})}),(0,t.jsx)(c.TableCell,{children:(0,t.jsx)(o.Badge,{variant:"OPEN"===e.status?"default":"secondary",children:"OPEN"===e.status?"Aktif":"Tutup"})})]},e.id))})]})})]}),(0,t.jsx)(d.Dialog,{open:b,onOpenChange:w,children:(0,t.jsxs)(d.DialogContent,{className:"max-w-md",children:[(0,t.jsx)(d.DialogHeader,{children:(0,t.jsx)(d.DialogTitle,{children:"Tutup Shift Kasir"})}),(0,t.jsxs)("form",{onSubmit:A,className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(r.Label,{htmlFor:"endingCash",children:"Kas Akhir (Rp)"}),(0,t.jsx)(n.Input,{id:"endingCash",type:"number",value:N,onChange:e=>D(parseFloat(e.target.value)||0),placeholder:"Hitung kas fisik saat ini",required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(r.Label,{htmlFor:"notes",children:"Catatan (Opsional)"}),(0,t.jsx)(n.Input,{id:"notes",value:S,onChange:e=>k(e.target.value),placeholder:"Catatan untuk shift ini"})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,t.jsx)(i.Button,{type:"button",variant:"outline",onClick:()=>w(!1),children:"Batal"}),(0,t.jsx)(i.Button,{type:"submit",children:"Tutup Shift"})]})]})]})}),R&&(0,t.jsx)(d.Dialog,{open:!!R,onOpenChange:()=>I(null),children:(0,t.jsxs)(d.DialogContent,{className:"max-w-md",children:[(0,t.jsx)(d.DialogHeader,{children:(0,t.jsx)(d.DialogTitle,{children:"Ringkasan Shift"})}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"text-center p-3 bg-blue-50 rounded",children:[(0,t.jsx)(p.TrendingUp,{className:"h-6 w-6 mx-auto mb-2 text-blue-600"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Total Penjualan"}),(0,t.jsxs)("p",{className:"font-bold",children:["Rp ",R.totalSales.toLocaleString()]})]}),(0,t.jsxs)("div",{className:"text-center p-3 bg-green-50 rounded",children:[(0,t.jsx)(h,{className:"h-6 w-6 mx-auto mb-2 text-green-600"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Transaksi"}),(0,t.jsx)("p",{className:"font-bold",children:R.totalTransactions})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Kas Seharusnya:"}),(0,t.jsxs)("span",{children:["Rp ",R.netCash.toLocaleString()]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Kas Aktual:"}),(0,t.jsxs)("span",{children:["Rp ",R.actualCash.toLocaleString()]})]}),(0,t.jsxs)("div",{className:"flex justify-between font-bold",children:[(0,t.jsx)("span",{children:"Selisih:"}),(0,t.jsxs)("span",{className:R.difference>=0?"text-green-600":"text-red-600",children:["Rp ",R.difference.toLocaleString()]})]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(i.Button,{variant:"outline",onClick:()=>I(null),className:"flex-1",children:"Tutup"}),(0,t.jsxs)(i.Button,{onClick:()=>{if(!R)return;let t=window.open("","_blank");if(!t)return;let a=`
      <!DOCTYPE html>
      <html>
      <head>
        <title>Laporan Tutup Kasir</title>
        <style>
          body { font-family: Arial, sans-serif; margin: 20px; }
          .header { text-align: center; border-bottom: 2px solid #000; padding-bottom: 10px; margin-bottom: 20px; }
          .section { margin: 20px 0; }
          .item { display: flex; justify-content: space-between; margin: 5px 0; }
          .total { border-top: 1px solid #000; padding-top: 10px; font-weight: bold; }
        </style>
      </head>
      <body>
        <div class="header">
          <h2>LAPORAN TUTUP KASIR</h2>
          <p>Gita Fashion</p>
          <p>${new Date().toLocaleString("id-ID")}</p>
        </div>
        
        <div class="section">
          <h3>Kasir: ${e?.name}</h3>
          <div class="item"><span>Waktu Tutup:</span><span>${new Date().toLocaleString("id-ID")}</span></div>
        </div>

        <div class="section">
          <h3>Ringkasan Penjualan</h3>
          <div class="item"><span>Total Transaksi:</span><span>${R.totalTransactions}</span></div>
          <div class="item"><span>Total Penjualan:</span><span>Rp ${R.totalSales.toLocaleString("id-ID")}</span></div>
          <div class="item"><span>Total Pengeluaran:</span><span>Rp ${R.totalExpenses.toLocaleString("id-ID")}</span></div>
        </div>

        <div class="section">
          <h3>Kas</h3>
          <div class="item"><span>Kas Awal:</span><span>Rp ${(m?.startingCash||0).toLocaleString("id-ID")}</span></div>
          <div class="item"><span>Kas Seharusnya:</span><span>Rp ${R.netCash.toLocaleString("id-ID")}</span></div>
          <div class="item"><span>Kas Aktual:</span><span>Rp ${R.actualCash.toLocaleString("id-ID")}</span></div>
          <div class="item total"><span>Selisih:</span><span>Rp ${R.difference.toLocaleString("id-ID")}</span></div>
        </div>
      </body>
      </html>
    `;t.document.open(),t.document.write(a),t.document.close(),setTimeout(()=>{t.print()},100),setTimeout(()=>{t.close()},1e3)},className:"flex-1",children:[(0,t.jsx)(x.Printer,{className:"h-4 w-4 mr-2"}),"Cetak Laporan"]})]})]})]})})]})}e.s(["default",()=>m],98120)}]);